var YB=Object.defineProperty;var qB=(Ce,$t,wn)=>$t in Ce?YB(Ce,$t,{enumerable:!0,configurable:!0,writable:!0,value:wn}):Ce[$t]=wn;var A=(Ce,$t,wn)=>(qB(Ce,typeof $t!="symbol"?$t+"":$t,wn),wn);(function(Ce,$t){typeof exports=="object"&&typeof module<"u"?module.exports=$t(require("jquery")):typeof define=="function"&&define.amd?define(["jquery"],$t):(Ce=typeof globalThis<"u"?globalThis:Ce||self,Ce.Expo=$t(Ce.$))})(this,function(Ce){"use strict";function $t(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in r)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}const wn="";function AS(r,...e){return r.sort((t,i)=>{let n=0;for(const s of e){const{value1:o,value2:a,descending:l}=PS(s,t,i);if(n=_S(o,a,l),n!==0)break}return n})}function PS(r,e,t){const i=r(e),n=r(t);let s=!1,o,a;return Cd(i)&&Cd(n)?(s=i.descending||!1,o=i.value,a=n.value):(o=i,a=n),{value1:o,value2:a,descending:s}}function Cd(r){return typeof r=="object"&&r!==null&&!(r instanceof Date)}function _S(r,e,t=!1){return t&&([r,e]=[e,r]),!isNaN(r)&&!isNaN(e)?r-e:r===null&&e===null?0:([r,e]=[r,e].map(i=>(i||"").toString().toLocaleLowerCase()),r>e?1:r<e?-1:0)}function ES(r,e){const t=[];let i=[],n=0,s=0;const o=r.length;for(;n<o;)i.push(r[n]),s++,s===e&&(t.push(i),i=[],s=0),n++;return i.length&&t.push(i),t}function kd(r){return r.reduce((e,t)=>e.concat(Array.isArray(t)?kd(t):t),[])}function TS(r,e,t){return t.indexOf(r)===e}var Ad=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))},IS=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}(),RS=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),DS=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}(),$S=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),LS=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),MS=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,BS=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Pd=3,NS=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",MS]],_d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function FS(r){return r?Ed(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new LS:typeof navigator<"u"?Ed(navigator.userAgent):WS()}function zS(r){return r!==""&&NS.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var s=n.exec(r);return!!s&&[i,s]},!1)}function Ed(r){var e=zS(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new $S;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<Pd&&(n=Ad(Ad([],n,!0),jS(Pd-n.length),!0)):n=[];var s=n.join("."),o=HS(r),a=BS.exec(r);return a&&a[1]?new DS(t,s,o,a[1]):new IS(t,s,o)}function HS(r){for(var e=0,t=_d.length;e<t;e++){var i=_d[e],n=i[0],s=i[1],o=s.exec(r);if(o)return n}return null}function WS(){var r=typeof process<"u"&&process.version;return r?new RS(process.version.slice(1)):null}function jS(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}function Cc(r){return r.split(".").pop()}function Mo(r,e,t=!0){return r==null||e==null?!1:t?r.localeCompare(e,"en",{sensitivity:"base"})===0:r.length!==e.length?!1:r.toLowerCase()===e.toLowerCase()}function Td(r){return r.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\W/g,e=>/[À-ž]/.test(e)?e:"-").replace(/^-+|-+$/g,"").toLowerCase()}function VS(r){const e=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g;return r.replace(e,t=>`-${t.toLowerCase()}`)}function US(r){return r.replace(/(^\/|[^:]\/)\/+/g,"$1")}function XS(r){return r.toLowerCase().startsWith("https://")}function GS(r){return r.toLowerCase().startsWith("http://")}function Sn(r){return r==null||r.trim()===""}function QS(r){return Sn(r)?!1:r.trim().toLowerCase()==="true"}function Ht(r){return r.replace(/-/g,"")}const kc="00000000-0000-0000-0000-000000000000",dt=[];for(let r=0;r<256;r++)dt[r]=(r<16?"0":"")+r.toString(16);function YS(r,e){const t=new Uint32Array(4),i=e&&window.crypto!=null&&window.crypto.getRandomValues!=null;i&&window.crypto.getRandomValues(t);const n=i?t[0]*4294967296>>>0:Math.random()*4294967295|0,s=i?t[1]*4294967296>>>0:Math.random()*4294967295|0,o=i?t[2]*4294967296>>>0:Math.random()*4294967295|0,a=i?t[3]*4294967296>>>0:Math.random()*4294967295|0;return dt[n&255]+dt[n>>8&255]+dt[n>>16&255]+dt[n>>24&255]+(r?"-":"")+dt[s&255]+dt[s>>8&255]+(r?"-":"")+dt[s>>16&15|64]+dt[s>>24&255]+(r?"-":"")+dt[o&63|128]+dt[o>>8&255]+(r?"-":"")+dt[o>>16&255]+dt[o>>24&255]+dt[a&255]+dt[a>>8&255]+dt[a>>16&255]+dt[a>>24&255]}function Ac(r,e){const t=r.split("?");return t.length<2?"":qS(t,e)}function qS(r,e){const t=r[1].split("&"),i=[];let n,s="";for(let o=0;o<t.length;o++)n=t[o].split("="),i[o]=[],i[o][0]=n[0],i[o][1]=n[1];for(const o of i)if(o[0].toLowerCase()===e.toLowerCase()){s=o[1];break}return s}function Pc(){function r(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return`${r()}${r()}-${r()}-${r()}-${r()}-${r()}${r()}${r()}`}const KS=async r=>{try{if(navigator&&navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(r)}catch{Id(r)}else Id(r);return!0}catch(e){return console.warn("Copy to clipboard failed.",e),!1}};function Id(r){let e=null,t=null;try{if(e=document.createElement("textarea"),e.textContent=r,e.style.position="fixed",e.setAttribute("readonly",""),document.body.appendChild(e),t=document.getSelection(),t){let i=document.createRange();i.selectNode(e),t.removeAllRanges(),t.addRange(i)}else e.focus(),e.select();return document.execCommand("copy")}finally{t&&t.removeAllRanges(),e&&document.body.removeChild(e)}}function xn(r,e,t){for(let i=0,n=e.length;i<n;i++)r.addEventListener(e[i],t)}function Xi(r,e,t){for(let i=0,n=e.length;i<n;i++)r.removeEventListener(e[i],t)}function ZS(r,e){const t=document.createElement("a"),i=document.createElement("a");return t.href=r,i.href=e,t.hostname===i.hostname&&t.port===i.port&&t.protocol===i.protocol}const JS={esc:27,tab:9,enter:13,space:32,comma:188,up:38,left:37,right:39,down:40,backspace:8,delete:[8,46],a:65,colon:186},ex={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",comma:",",up:"ArrowUp",left:"ArrowLeft",right:"ArrowRight",down:"ArrowDown",backspace:"Backspace",delete:"Delete",a:"a",colon:":"},tx=(r,e)=>{if(!(r instanceof KeyboardEvent))return!1;const t=JS[e];return t&&(Array.isArray(t)&&t.includes(r.keyCode)||r.keyCode===t)?!0:Mo(r.key,ex[e])},Vr=FS();Vr&&Vr.name,Vr&&Vr.name,Vr&&(Vr.os==="iOS"||Vr.os),Vr&&Vr.version;function Ue(r,e=0){const t=Math.pow(10,e);return Math.round(r*t)/t}function rx(r){return new Date(Number(r.substring(6,r.length-2)))}function Bo(r){return JSON.parse(JSON.stringify(r))}const ix=r=>Object.assign({},...Array.from(r,([e,t])=>({[e]:t})));function nx(r){return r}function sx(r,e,t=nx){const i=Object.keys(r).filter(o=>e.includes(o)),n={};return i.reduce((o,a)=>(o[a]=t(r[a]),o),n)}function Rd(r){return new Promise(e=>setTimeout(e,r))}async function ks(r,e,t,i){let s=!1;const o=i?setInterval(()=>{s=!0},i):void 0;for(;;){if(s)return;const a=await r();if(a||e&&--e<=0)return o&&clearInterval(o),a;await Rd(t||0)}}function ox(r){return r instanceof Error}function ax(r){return ox(r)?r:typeof r=="string"?{message:r,name:typeof r}:r!==void 0?{message:r.toString(),name:typeof r}:new Error}const lx="modulepreload",cx=function(r,e){return new URL(r,e).href},Dd={},On=function(e,t,i){return e()},hx=!0;function ux(){if(typeof window>"u")return!1;if(window.AxureCloudNative!==void 0)return!0;const{process:r}=window;return typeof r=="object"&&r.type==="renderer"||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&(navigator.userAgent.indexOf("Electron")>=0||navigator.userAgent.indexOf("Axure Cloud")>=0||navigator.userAgent.indexOf("axure-cloud")>=0)}function fx(){return typeof process<"u"&&typeof process.versions=="object"&&!!process.versions.electron}ux(),fx();var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function dx(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}),t}var px=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},_c={},gx=Object.prototype.hasOwnProperty,mx;function $d(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch{return null}}function Ld(r){try{return encodeURIComponent(r)}catch{return null}}function yx(r){for(var e=/([^=?#&]+)=?([^&]*)/g,t={},i;i=e.exec(r);){var n=$d(i[1]),s=$d(i[2]);n===null||s===null||n in t||(t[n]=s)}return t}function vx(r,e){e=e||"";var t=[],i,n;typeof e!="string"&&(e="?");for(n in r)if(gx.call(r,n)){if(i=r[n],!i&&(i===null||i===mx||isNaN(i))&&(i=""),n=Ld(n),i=Ld(i),n===null||i===null)continue;t.push(n+"="+i)}return t.length?e+t.join("&"):""}_c.stringify=vx,_c.parse=yx;var Md=px,No=_c,bx=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Bd=/[\n\r\t]/g,wx=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Nd=/:\d+$/,Sx=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,xx=/^[a-zA-Z]:/;function Ec(r){return(r||"").toString().replace(bx,"")}var Tc=[["#","hash"],["?","query"],function(e,t){return br(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Fd={hash:1,query:1};function zd(r){var e;typeof window<"u"?e=window:typeof At<"u"?e=At:typeof self<"u"?e=self:e={};var t=e.location||{};r=r||t;var i={},n=typeof r,s;if(r.protocol==="blob:")i=new wr(unescape(r.pathname),{});else if(n==="string"){i=new wr(r,{});for(s in Fd)delete i[s]}else if(n==="object"){for(s in r)s in Fd||(i[s]=r[s]);i.slashes===void 0&&(i.slashes=wx.test(r.href))}return i}function br(r){return r==="file:"||r==="ftp:"||r==="http:"||r==="https:"||r==="ws:"||r==="wss:"}function Hd(r,e){r=Ec(r),r=r.replace(Bd,""),e=e||{};var t=Sx.exec(r),i=t[1]?t[1].toLowerCase():"",n=!!t[2],s=!!t[3],o=0,a;return n?s?(a=t[2]+t[3]+t[4],o=t[2].length+t[3].length):(a=t[2]+t[4],o=t[2].length):s?(a=t[3]+t[4],o=t[3].length):a=t[4],i==="file:"?o>=2&&(a=a.slice(2)):br(i)?a=t[4]:i?n&&(a=a.slice(2)):o>=2&&br(e.protocol)&&(a=t[4]),{protocol:i,slashes:n||br(i),slashesCount:o,rest:a}}function Ox(r,e){if(r==="")return e;for(var t=(e||"/").split("/").slice(0,-1).concat(r.split("/")),i=t.length,n=t[i-1],s=!1,o=0;i--;)t[i]==="."?t.splice(i,1):t[i]===".."?(t.splice(i,1),o++):o&&(i===0&&(s=!0),t.splice(i,1),o--);return s&&t.unshift(""),(n==="."||n==="..")&&t.push(""),t.join("/")}function wr(r,e,t){if(r=Ec(r),r=r.replace(Bd,""),!(this instanceof wr))return new wr(r,e,t);var i,n,s,o,a,l,c=Tc.slice(),h=typeof e,u=this,f=0;for(h!=="object"&&h!=="string"&&(t=e,e=null),t&&typeof t!="function"&&(t=No.parse),e=zd(e),n=Hd(r||"",e),i=!n.protocol&&!n.slashes,u.slashes=n.slashes||i&&e.slashes,u.protocol=n.protocol||e.protocol||"",r=n.rest,(n.protocol==="file:"&&(n.slashesCount!==2||xx.test(r))||!n.slashes&&(n.protocol||n.slashesCount<2||!br(u.protocol)))&&(c[3]=[/(.*)/,"pathname"]);f<c.length;f++){if(o=c[f],typeof o=="function"){r=o(r,u);continue}s=o[0],l=o[1],s!==s?u[l]=r:typeof s=="string"?(a=s==="@"?r.lastIndexOf(s):r.indexOf(s),~a&&(typeof o[2]=="number"?(u[l]=r.slice(0,a),r=r.slice(a+o[2])):(u[l]=r.slice(a),r=r.slice(0,a)))):(a=s.exec(r))&&(u[l]=a[1],r=r.slice(0,a.index)),u[l]=u[l]||i&&o[3]&&e[l]||"",o[4]&&(u[l]=u[l].toLowerCase())}t&&(u.query=t(u.query)),i&&e.slashes&&u.pathname.charAt(0)!=="/"&&(u.pathname!==""||e.pathname!=="")&&(u.pathname=Ox(u.pathname,e.pathname)),u.pathname.charAt(0)!=="/"&&br(u.protocol)&&(u.pathname="/"+u.pathname),Md(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(a=u.auth.indexOf(":"),~a?(u.username=u.auth.slice(0,a),u.username=encodeURIComponent(decodeURIComponent(u.username)),u.password=u.auth.slice(a+1),u.password=encodeURIComponent(decodeURIComponent(u.password))):u.username=encodeURIComponent(decodeURIComponent(u.auth)),u.auth=u.password?u.username+":"+u.password:u.username),u.origin=u.protocol!=="file:"&&br(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}function Cx(r,e,t){var i=this;switch(r){case"query":typeof e=="string"&&e.length&&(e=(t||No.parse)(e)),i[r]=e;break;case"port":i[r]=e,Md(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[r]="");break;case"hostname":i[r]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[r]=e,Nd.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!t;break;case"pathname":case"hash":if(e){var n=r==="pathname"?"/":"#";i[r]=e.charAt(0)!==n?n+e:e}else i[r]=e;break;case"username":case"password":i[r]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(i.username=e.slice(0,s),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=e.slice(s+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(e))}for(var o=0;o<Tc.length;o++){var a=Tc[o];a[4]&&(i[a[1]]=i[a[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&br(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function kx(r){(!r||typeof r!="function")&&(r=No.stringify);var e,t=this,i=t.host,n=t.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var s=n+(t.protocol&&t.slashes||br(t.protocol)?"//":"");return t.username?(s+=t.username,t.password&&(s+=":"+t.password),s+="@"):t.password?(s+=":"+t.password,s+="@"):t.protocol!=="file:"&&br(t.protocol)&&!i&&t.pathname!=="/"&&(s+="@"),(i[i.length-1]===":"||Nd.test(t.hostname)&&!t.port)&&(i+=":"),s+=i+t.pathname,e=typeof t.query=="object"?r(t.query):t.query,e&&(s+=e.charAt(0)!=="?"?"?"+e:e),t.hash&&(s+=t.hash),s}wr.prototype={set:Cx,toString:kx},wr.extractProtocol=Hd,wr.location=zd,wr.trimLeft=Ec,wr.qs=No;var Ax=wr;const Fo=Cn(Ax);class zo{constructor(){A(this,"handlers",{})}subscribe(e){for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];this.on(t,i)}}unsubscribe(e){for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];this.off(t,i)}}on(e,t){(this.handlers[e]=this.handlers[e]||[]).push(t)}off(e,t){const i=this.handlers[e];if(!i)return!1;if(this.has(e,t)){const n=i.indexOf(t);i.splice(n,1)}}has(e,t){const i=this.handlers[e];return i?i.indexOf(t)!==-1:!1}trigger(e,...t){const i=this.handlers[e];if(i)for(const n of i)n.apply(this,t)}}class Px{constructor(e){A(this,"defaults",{origin:window.location.origin,source:window.parent});A(this,"origin");A(this,"source");A(this,"eventHub",new zo);A(this,"productionOrigins",{});A(this,"whitelistedOrigins",this.productionOrigins);A(this,"ready",!1);e=e||this.defaults,this.origin=e.origin,this.source=e.source,this.addToOriginWhitelist(this.origin),this.addWindowListener(),this.ready=!0}on(e,t){this.eventHub.on(e,t)}off(e,t){this.off(e,t)}trigger(e,t={}){this.postMessage(e,t)}postMessage(e,t){const n=JSON.stringify({key:e,data:t});this.rawPostMessage(n)}addToOriginWhitelist(e){const{origin:t}=new Fo(e);t&&t!==window.origin&&t!=="null"&&(this.whitelistedOrigins[t]=!0)}addWindowListener(){window.addEventListener("message",e=>this.messageHandler(e))}messageHandler(e){if(!this.isValidEvent(e))return;let{data:t}=e;if(t){if(typeof t=="string")try{t=JSON.parse(e.data)}catch(i){return i}t.key&&this.triggerEvent(t.key,t.data)}}triggerEvent(e,t){this.eventHub.trigger(e,t)}rawPostMessage(e){this.ready&&Object.keys(this.whitelistedOrigins).forEach(t=>{try{this.source.postMessage(e,t)}catch{}})}isValidEvent(e){return this.source===e.source&&this.isEventOriginValid(e.origin)}isEventOriginValid(e){return e?Object.keys(this.whitelistedOrigins).some(t=>ZS(t,e)):!1}}const nr={bridgeReady:"bridgeReady",ready:"ready",playerMessageCenterEvent:"playerMessageCenterEvent",inspectorToggled:"inspectorToggled",documentConfiguration:"documentConfiguration",previewGenerationComplete:"generationComplete",pluginCreated:"pluginCreated",updateIsPanZoomEnabled:"updateIsPanZoomEnabled"},Ne={addHandoff:"addHandoff",getPageData:"getPageData",getDocumentConfiguration:"getDocumentConfiguration",inspectorEnable:"inspectorEnable",inspectorDisable:"inspectorDisable",inspectorShow:"inspectorShow",inspectorHide:"inspectorHide",keyboardEvent:"keyboardEvent",selectAdaptiveView:"selectAdaptiveView",setZoom:"setZoom",pluginToggle:"pluginToggle",hidePlayerControls:"hidePlayerControls",hidePinsOverlay:"hidePinsOverlay",selectPage:"selectPage",resizePlayerContent:"resizePlayerContent",selectScaleOption:"selectScaleOption",selectOverlayOption:"selectOverlayOption",triggerUpdateIsPanZoomEnabled:"updateIsPanZoomEnabled",generateLocalExpoPreview:"generateLocalExpoPreview",reload:"reload",refreshViewPort:"refreshViewPort",navigateToIssue:"navigateToIssue",updateNotificationState:"updateNotificationState",exitCommentMode:"exitCommentMode",reset:"reset"},Ur={ctrlOrCmdPlus:"ctrlOrCmdPlus",ctrlOrCmdMinus:"ctrlOrCmdMinus",ctrlOrCmdZero:"ctrlOrCmdZero",spaceBarUp:"spaceBarUp",spaceBarDown:"spaceBarDown",comma:"comma",period:"period",esc:"esc",comment:"comment"},Ic={sitemap:{id:"sitemapHost",gid:1},notes:{id:"pageNotesHost",gid:2},discussions:{id:"feedbackHost",gid:4},handoff:{id:"handoffHost",gid:5}};function Wd(r,e){return function(){return r.apply(e,arguments)}}const{toString:_x}=Object.prototype,{getPrototypeOf:Rc}=Object,Ho=(r=>e=>{const t=_x.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Sr=r=>(r=r.toLowerCase(),e=>Ho(e)===r),Wo=r=>e=>typeof e===r,{isArray:kn}=Array,As=Wo("undefined");function Ex(r){return r!==null&&!As(r)&&r.constructor!==null&&!As(r.constructor)&&Zt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const jd=Sr("ArrayBuffer");function Tx(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&jd(r.buffer),e}const Ix=Wo("string"),Zt=Wo("function"),Vd=Wo("number"),jo=r=>r!==null&&typeof r=="object",Rx=r=>r===!0||r===!1,Vo=r=>{if(Ho(r)!=="object")return!1;const e=Rc(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Dx=Sr("Date"),$x=Sr("File"),Lx=Sr("Blob"),Mx=Sr("FileList"),Bx=r=>jo(r)&&Zt(r.pipe),Nx=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Zt(r.append)&&((e=Ho(r))==="formdata"||e==="object"&&Zt(r.toString)&&r.toString()==="[object FormData]"))},Fx=Sr("URLSearchParams"),zx=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ps(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let i,n;if(typeof r!="object"&&(r=[r]),kn(r))for(i=0,n=r.length;i<n;i++)e.call(null,r[i],i,r);else{const s=t?Object.getOwnPropertyNames(r):Object.keys(r),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,r[a],a,r)}}function Ud(r,e){e=e.toLowerCase();const t=Object.keys(r);let i=t.length,n;for(;i-- >0;)if(n=t[i],e===n.toLowerCase())return n;return null}const Xd=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Gd=r=>!As(r)&&r!==Xd;function Dc(){const{caseless:r}=Gd(this)&&this||{},e={},t=(i,n)=>{const s=r&&Ud(e,n)||n;Vo(e[s])&&Vo(i)?e[s]=Dc(e[s],i):Vo(i)?e[s]=Dc({},i):kn(i)?e[s]=i.slice():e[s]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&Ps(arguments[i],t);return e}const Hx=(r,e,t,{allOwnKeys:i}={})=>(Ps(e,(n,s)=>{t&&Zt(n)?r[s]=Wd(n,t):r[s]=n},{allOwnKeys:i}),r),Wx=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),jx=(r,e,t,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Vx=(r,e,t,i)=>{let n,s,o;const a={};if(e=e||{},r==null)return e;do{for(n=Object.getOwnPropertyNames(r),s=n.length;s-- >0;)o=n[s],(!i||i(o,r,e))&&!a[o]&&(e[o]=r[o],a[o]=!0);r=t!==!1&&Rc(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Ux=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const i=r.indexOf(e,t);return i!==-1&&i===t},Xx=r=>{if(!r)return null;if(kn(r))return r;let e=r.length;if(!Vd(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Gx=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Rc(Uint8Array)),Qx=(r,e)=>{const i=(r&&r[Symbol.iterator]).call(r);let n;for(;(n=i.next())&&!n.done;){const s=n.value;e.call(r,s[0],s[1])}},Yx=(r,e)=>{let t;const i=[];for(;(t=r.exec(e))!==null;)i.push(t);return i},qx=Sr("HTMLFormElement"),Kx=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,n){return i.toUpperCase()+n}),Qd=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Zx=Sr("RegExp"),Yd=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),i={};Ps(t,(n,s)=>{e(n,s,r)!==!1&&(i[s]=n)}),Object.defineProperties(r,i)},Jx=r=>{Yd(r,(e,t)=>{if(Zt(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=r[t];if(Zt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},e1=(r,e)=>{const t={},i=n=>{n.forEach(s=>{t[s]=!0})};return kn(r)?i(r):i(String(r).split(e)),t},t1=()=>{},r1=(r,e)=>(r=+r,Number.isFinite(r)?r:e),$c="abcdefghijklmnopqrstuvwxyz",qd="0123456789",Kd={DIGIT:qd,ALPHA:$c,ALPHA_DIGIT:$c+$c.toUpperCase()+qd},i1=(r=16,e=Kd.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;r--;)t+=e[Math.random()*i|0];return t};function n1(r){return!!(r&&Zt(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const s1=r=>{const e=new Array(10),t=(i,n)=>{if(jo(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[n]=i;const s=kn(i)?[]:{};return Ps(i,(o,a)=>{const l=t(o,n+1);!As(l)&&(s[a]=l)}),e[n]=void 0,s}}return i};return t(r,0)},o1=Sr("AsyncFunction"),K={isArray:kn,isArrayBuffer:jd,isBuffer:Ex,isFormData:Nx,isArrayBufferView:Tx,isString:Ix,isNumber:Vd,isBoolean:Rx,isObject:jo,isPlainObject:Vo,isUndefined:As,isDate:Dx,isFile:$x,isBlob:Lx,isRegExp:Zx,isFunction:Zt,isStream:Bx,isURLSearchParams:Fx,isTypedArray:Gx,isFileList:Mx,forEach:Ps,merge:Dc,extend:Hx,trim:zx,stripBOM:Wx,inherits:jx,toFlatObject:Vx,kindOf:Ho,kindOfTest:Sr,endsWith:Ux,toArray:Xx,forEachEntry:Qx,matchAll:Yx,isHTMLForm:qx,hasOwnProperty:Qd,hasOwnProp:Qd,reduceDescriptors:Yd,freezeMethods:Jx,toObjectSet:e1,toCamelCase:Kx,noop:t1,toFiniteNumber:r1,findKey:Ud,global:Xd,isContextDefined:Gd,ALPHABET:Kd,generateString:i1,isSpecCompliantForm:n1,toJSONObject:s1,isAsyncFn:o1,isThenable:r=>r&&(jo(r)||Zt(r))&&Zt(r.then)&&Zt(r.catch)};function Te(r,e,t,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),n&&(this.response=n)}K.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Zd=Te.prototype,Jd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Jd[r]={value:r}}),Object.defineProperties(Te,Jd),Object.defineProperty(Zd,"isAxiosError",{value:!0}),Te.from=(r,e,t,i,n,s)=>{const o=Object.create(Zd);return K.toFlatObject(r,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Te.call(o,r.message,e,t,i,n),o.cause=r,o.name=r.name,s&&Object.assign(o,s),o};const a1=null;function Lc(r){return K.isPlainObject(r)||K.isArray(r)}function ep(r){return K.endsWith(r,"[]")?r.slice(0,-2):r}function tp(r,e,t){return r?r.concat(e).map(function(n,s){return n=ep(n),!t&&s?"["+n+"]":n}).join(t?".":""):e}function l1(r){return K.isArray(r)&&!r.some(Lc)}const c1=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function Uo(r,e,t){if(!K.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=K.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!K.isUndefined(v[g])});const i=t.metaTokens,n=t.visitor||h,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(n))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(K.isDate(p))return p.toISOString();if(!l&&K.isBlob(p))throw new Te("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(p)||K.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,g,v){let y=p;if(p&&!v&&typeof p=="object"){if(K.endsWith(g,"{}"))g=i?g:g.slice(0,-2),p=JSON.stringify(p);else if(K.isArray(p)&&l1(p)||(K.isFileList(p)||K.endsWith(g,"[]"))&&(y=K.toArray(p)))return g=ep(g),y.forEach(function(k,_){!(K.isUndefined(k)||k===null)&&e.append(o===!0?tp([g],_,s):o===null?g:g+"[]",c(k))}),!1}return Lc(p)?!0:(e.append(tp(v,g,s),c(p)),!1)}const u=[],f=Object.assign(c1,{defaultVisitor:h,convertValue:c,isVisitable:Lc});function d(p,g){if(!K.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(p),K.forEach(p,function(y,S){(!(K.isUndefined(y)||y===null)&&n.call(e,y,K.isString(S)?S.trim():S,g,f))===!0&&d(y,g?g.concat(S):[S])}),u.pop()}}if(!K.isObject(r))throw new TypeError("data must be an object");return d(r),e}function rp(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Mc(r,e){this._pairs=[],r&&Uo(r,this,e)}const ip=Mc.prototype;ip.append=function(e,t){this._pairs.push([e,t])},ip.toString=function(e){const t=e?function(i){return e.call(this,i,rp)}:rp;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function h1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function np(r,e,t){if(!e)return r;const i=t&&t.encode||h1,n=t&&t.serialize;let s;if(n?s=n(e,t):s=K.isURLSearchParams(e)?e.toString():new Mc(e,t).toString(i),s){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class u1{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(i){i!==null&&e(i)})}}const sp=u1,op={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f1=typeof URLSearchParams<"u"?URLSearchParams:Mc,d1=typeof FormData<"u"?FormData:null,p1=typeof Blob<"u"?Blob:null,g1=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),m1=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),xr={isBrowser:!0,classes:{URLSearchParams:f1,FormData:d1,Blob:p1},isStandardBrowserEnv:g1,isStandardBrowserWebWorkerEnv:m1,protocols:["http","https","file","blob","url","data"]};function y1(r,e){return Uo(r,new xr.classes.URLSearchParams,Object.assign({visitor:function(t,i,n,s){return xr.isNode&&K.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function v1(r){return K.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function b1(r){const e={},t=Object.keys(r);let i;const n=t.length;let s;for(i=0;i<n;i++)s=t[i],e[s]=r[s];return e}function ap(r){function e(t,i,n,s){let o=t[s++];const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&K.isArray(n)?n.length:o,l?(K.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!a):((!n[o]||!K.isObject(n[o]))&&(n[o]=[]),e(t,i,n[o],s)&&K.isArray(n[o])&&(n[o]=b1(n[o])),!a)}if(K.isFormData(r)&&K.isFunction(r.entries)){const t={};return K.forEachEntry(r,(i,n)=>{e(v1(i),n,t,0)}),t}return null}const w1={"Content-Type":void 0};function S1(r,e,t){if(K.isString(r))try{return(e||JSON.parse)(r),K.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(r)}const Xo={transitional:op,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,s=K.isObject(e);if(s&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return n&&n?JSON.stringify(ap(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return y1(e,this.formSerializer).toString();if((a=K.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Uo(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),S1(e)):e}],transformResponse:[function(e){const t=this.transitional||Xo.transitional,i=t&&t.forcedJSONParsing,n=this.responseType==="json";if(e&&K.isString(e)&&(i&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Te.from(a,Te.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xr.classes.FormData,Blob:xr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};K.forEach(["delete","get","head"],function(e){Xo.headers[e]={}}),K.forEach(["post","put","patch"],function(e){Xo.headers[e]=K.merge(w1)});const Bc=Xo,x1=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),O1=r=>{const e={};let t,i,n;return r&&r.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),i=o.substring(n+1).trim(),!(!t||e[t]&&x1[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},lp=Symbol("internals");function _s(r){return r&&String(r).trim().toLowerCase()}function Go(r){return r===!1||r==null?r:K.isArray(r)?r.map(Go):String(r)}function C1(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(r);)e[i[1]]=i[2];return e}const k1=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Nc(r,e,t,i,n){if(K.isFunction(i))return i.call(this,e,t);if(n&&(e=t),!!K.isString(e)){if(K.isString(i))return e.indexOf(i)!==-1;if(K.isRegExp(i))return i.test(e)}}function A1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function P1(r,e){const t=K.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+t,{value:function(n,s,o){return this[i].call(this,e,n,s,o)},configurable:!0})})}class Qo{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function s(a,l,c){const h=_s(l);if(!h)throw new Error("header name must be a non-empty string");const u=K.findKey(n,h);(!u||n[u]===void 0||c===!0||c===void 0&&n[u]!==!1)&&(n[u||l]=Go(a))}const o=(a,l)=>K.forEach(a,(c,h)=>s(c,h,l));return K.isPlainObject(e)||e instanceof this.constructor?o(e,t):K.isString(e)&&(e=e.trim())&&!k1(e)?o(O1(e),t):e!=null&&s(t,e,i),this}get(e,t){if(e=_s(e),e){const i=K.findKey(this,e);if(i){const n=this[i];if(!t)return n;if(t===!0)return C1(n);if(K.isFunction(t))return t.call(this,n,i);if(K.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_s(e),e){const i=K.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Nc(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let n=!1;function s(o){if(o=_s(o),o){const a=K.findKey(i,o);a&&(!t||Nc(i,i[a],a,t))&&(delete i[a],n=!0)}}return K.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const s=t[i];(!e||Nc(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){const t=this,i={};return K.forEach(this,(n,s)=>{const o=K.findKey(i,s);if(o){t[o]=Go(n),delete t[s];return}const a=e?A1(s):String(s).trim();a!==s&&delete t[s],t[a]=Go(n),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return K.forEach(this,(i,n)=>{i!=null&&i!==!1&&(t[n]=e&&K.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[lp]=this[lp]={accessors:{}}).accessors,n=this.prototype;function s(o){const a=_s(o);i[a]||(P1(n,o),i[a]=!0)}return K.isArray(e)?e.forEach(s):s(e),this}}Qo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),K.freezeMethods(Qo.prototype),K.freezeMethods(Qo);const Xr=Qo;function Fc(r,e){const t=this||Bc,i=e||t,n=Xr.from(i.headers);let s=i.data;return K.forEach(r,function(a){s=a.call(t,s,n.normalize(),e?e.status:void 0)}),n.normalize(),s}function cp(r){return!!(r&&r.__CANCEL__)}function Es(r,e,t){Te.call(this,r??"canceled",Te.ERR_CANCELED,e,t),this.name="CanceledError"}K.inherits(Es,Te,{__CANCEL__:!0});function _1(r,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?r(t):e(new Te("Request failed with status code "+t.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const E1=xr.isStandardBrowserEnv?function(){return{write:function(t,i,n,s,o,a){const l=[];l.push(t+"="+encodeURIComponent(i)),K.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),K.isString(s)&&l.push("path="+s),K.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function T1(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function I1(r,e){return e?r.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):r}function hp(r,e){return r&&!T1(e)?I1(r,e):e}const R1=xr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function n(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=n(window.location.href),function(o){const a=K.isString(o)?n(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function D1(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function $1(r,e){r=r||10;const t=new Array(r),i=new Array(r);let n=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=i[s];o||(o=c),t[n]=l,i[n]=c;let u=s,f=0;for(;u!==n;)f+=t[u++],u=u%r;if(n=(n+1)%r,n===s&&(s=(s+1)%r),c-o<e)return;const d=h&&c-h;return d?Math.round(f*1e3/d):void 0}}function up(r,e){let t=0;const i=$1(50,250);return n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-t,l=i(a),c=s<=o;t=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:n};h[e?"download":"upload"]=!0,r(h)}}const Yo={http:a1,xhr:typeof XMLHttpRequest<"u"&&function(r){return new Promise(function(t,i){let n=r.data;const s=Xr.from(r.headers).normalize(),o=r.responseType;let a;function l(){r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}K.isFormData(n)&&(xr.isStandardBrowserEnv||xr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(r.auth){const d=r.auth.username||"",p=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";s.set("Authorization","Basic "+btoa(d+":"+p))}const h=hp(r.baseURL,r.url);c.open(r.method.toUpperCase(),np(h,r.params,r.paramsSerializer),!0),c.timeout=r.timeout;function u(){if(!c)return;const d=Xr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:r,request:c};_1(function(y){t(y),l()},function(y){i(y),l()},g),c=null}if("onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(u)},c.onabort=function(){c&&(i(new Te("Request aborted",Te.ECONNABORTED,r,c)),c=null)},c.onerror=function(){i(new Te("Network Error",Te.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let p=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const g=r.transitional||op;r.timeoutErrorMessage&&(p=r.timeoutErrorMessage),i(new Te(p,g.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,r,c)),c=null},xr.isStandardBrowserEnv){const d=(r.withCredentials||R1(h))&&r.xsrfCookieName&&E1.read(r.xsrfCookieName);d&&s.set(r.xsrfHeaderName,d)}n===void 0&&s.setContentType(null),"setRequestHeader"in c&&K.forEach(s.toJSON(),function(p,g){c.setRequestHeader(g,p)}),K.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),o&&o!=="json"&&(c.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&c.addEventListener("progress",up(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",up(r.onUploadProgress)),(r.cancelToken||r.signal)&&(a=d=>{c&&(i(!d||d.type?new Es(null,r,c):d),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const f=D1(h);if(f&&xr.protocols.indexOf(f)===-1){i(new Te("Unsupported protocol "+f+":",Te.ERR_BAD_REQUEST,r));return}c.send(n||null)})}};K.forEach(Yo,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const L1={getAdapter:r=>{r=K.isArray(r)?r:[r];const{length:e}=r;let t,i;for(let n=0;n<e&&(t=r[n],!(i=K.isString(t)?Yo[t.toLowerCase()]:t));n++);if(!i)throw i===!1?new Te(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(K.hasOwnProp(Yo,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!K.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Yo};function zc(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Es(null,r)}function fp(r){return zc(r),r.headers=Xr.from(r.headers),r.data=Fc.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),L1.getAdapter(r.adapter||Bc.adapter)(r).then(function(i){return zc(r),i.data=Fc.call(r,r.transformResponse,i),i.headers=Xr.from(i.headers),i},function(i){return cp(i)||(zc(r),i&&i.response&&(i.response.data=Fc.call(r,r.transformResponse,i.response),i.response.headers=Xr.from(i.response.headers))),Promise.reject(i)})}const dp=r=>r instanceof Xr?r.toJSON():r;function An(r,e){e=e||{};const t={};function i(c,h,u){return K.isPlainObject(c)&&K.isPlainObject(h)?K.merge.call({caseless:u},c,h):K.isPlainObject(h)?K.merge({},h):K.isArray(h)?h.slice():h}function n(c,h,u){if(K.isUndefined(h)){if(!K.isUndefined(c))return i(void 0,c,u)}else return i(c,h,u)}function s(c,h){if(!K.isUndefined(h))return i(void 0,h)}function o(c,h){if(K.isUndefined(h)){if(!K.isUndefined(c))return i(void 0,c)}else return i(void 0,h)}function a(c,h,u){if(u in e)return i(c,h);if(u in r)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>n(dp(c),dp(h),!0)};return K.forEach(Object.keys(Object.assign({},r,e)),function(h){const u=l[h]||n,f=u(r[h],e[h],h);K.isUndefined(f)&&u!==a||(t[h]=f)}),t}const pp="1.4.0",Hc={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Hc[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const gp={};Hc.transitional=function(e,t,i){function n(s,o){return"[Axios v"+pp+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Te(n(o," has been removed"+(t?" in "+t:"")),Te.ERR_DEPRECATED);return t&&!gp[o]&&(gp[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function M1(r,e,t){if(typeof r!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let n=i.length;for(;n-- >0;){const s=i[n],o=e[s];if(o){const a=r[s],l=a===void 0||o(a,s,r);if(l!==!0)throw new Te("option "+s+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Te("Unknown option "+s,Te.ERR_BAD_OPTION)}}const Wc={assertOptions:M1,validators:Hc},hi=Wc.validators;class qo{constructor(e){this.defaults=e,this.interceptors={request:new sp,response:new sp}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=An(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:s}=t;i!==void 0&&Wc.assertOptions(i,{silentJSONParsing:hi.transitional(hi.boolean),forcedJSONParsing:hi.transitional(hi.boolean),clarifyTimeoutError:hi.transitional(hi.boolean)},!1),n!=null&&(K.isFunction(n)?t.paramsSerializer={serialize:n}:Wc.assertOptions(n,{encode:hi.function,serialize:hi.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o;o=s&&K.merge(s.common,s[t.method]),o&&K.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),t.headers=Xr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let h,u=0,f;if(!l){const p=[fp.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,h=Promise.resolve(t);u<f;)h=h.then(p[u++],p[u++]);return h}f=a.length;let d=t;for(u=0;u<f;){const p=a[u++],g=a[u++];try{d=p(d)}catch(v){g.call(this,v);break}}try{h=fp.call(this,d)}catch(p){return Promise.reject(p)}for(u=0,f=c.length;u<f;)h=h.then(c[u++],c[u++]);return h}getUri(e){e=An(this.defaults,e);const t=hp(e.baseURL,e.url);return np(t,e.params,e.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(e){qo.prototype[e]=function(t,i){return this.request(An(i||{},{method:e,url:t,data:(i||{}).data}))}}),K.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(An(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}qo.prototype[e]=t(),qo.prototype[e+"Form"]=t(!0)});const Ko=qo;class jc{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(n=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](n);i._listeners=null}),this.promise.then=n=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(n);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Es(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new jc(function(n){e=n}),cancel:e}}}const B1=jc;function N1(r){return function(t){return r.apply(null,t)}}function F1(r){return K.isObject(r)&&r.isAxiosError===!0}const Vc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vc).forEach(([r,e])=>{Vc[e]=r});const z1=Vc;function mp(r){const e=new Ko(r),t=Wd(Ko.prototype.request,e);return K.extend(t,Ko.prototype,e,{allOwnKeys:!0}),K.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return mp(An(r,n))},t}const it=mp(Bc);it.Axios=Ko,it.CanceledError=Es,it.CancelToken=B1,it.isCancel=cp,it.VERSION=pp,it.toFormData=Uo,it.AxiosError=Te,it.Cancel=it.CanceledError,it.all=function(e){return Promise.all(e)},it.spread=N1,it.isAxiosError=F1,it.mergeConfig=An,it.AxiosHeaders=Xr,it.formToJSON=r=>ap(K.isHTMLForm(r)?new FormData(r):r),it.HttpStatusCode=z1,it.default=it;const H1=it;async function Ts(r){const e=US(r),t=await H1.request({url:e,method:"GET",responseType:"json",withCredentials:!0});if(t&&t.data!==void 0)return t.data;throw new Error("Couldn't map response.")}var J=(r=>(r.Ready="Ready",r.PlayerMessageCenterEvent="PlayerMessageCenterEvent",r.ProjectLoaded="ProjectLoaded",r.PageAdded="PageAdded",r.PageRemoved="PageRemoved",r.PageWillChange="PageSelected",r.PageDidChange="AfterPageSelected",r.InspectorShow="InspectorShow",r.InspectorHide="InspectorHide",r.InspectorEnabled="InspectorEnabled",r.InspectorDisabled="InspectorDisabled",r.InspectSet="InspectSet",r.InspectHide="InspectHide",r.InspectShow="InspectShow",r.InspectClear="InspectClear",r.InspectSetHover="InspectSetHover",r.InspectClearHover="InspectClearHover",r.Resized="Resized",r.ShowAllColors="ShowAllColors",r.ShowAllAssets="ShowAllAssets",r.OpenLayerView="OpenLayerView",r.CloseLayerView="CloseLayerView",r.ArtboardColorsSet="ArtboardColorsSet",r.ArtboardAssetsSet="ArtboardAssetsSet",r.PreviewPrototype="PreviewPrototype",r.InspectGet="InspectGet",r.InspectHoverGet="InspectHoverGet",r.RenderExpo="RenderExpo",r.BundleSelected="BundleSelected",r.DocumentDidLoad="DocumentDidLoad",r.DocumentDidReload="DocumentDidReload",r.OpenNextPage="OpenNextPage",r.OpenPreviousPage="OpenPreviousPage",r.PrototypeGenerated="PrototypeGenerated",r.SetPageHighlight="SetPageHighlight",r.RefreshViewPort="RefreshViewPort",r.ExitCommentMode="ExitCommentMode",r.ToogleCommentMode="ToogleCommentMode",r.SetDynamicPanelState="SetDynamicPanelState",r.PreviousHistory="PreviousHistory",r))(J||{});class yp{constructor(e){A(this,"bridgeEventsQueue",[]);A(this,"bootstrapper");A(this,"iframeBridge");A(this,"iframeBridgeConfigured",!1);A(this,"eventHub",new zo);A(this,"ready",!1);A(this,"size",{height:0,width:0});A(this,"currentPage");A(this,"inspectorEnabled",!1);A(this,"_cloudMode",!1);A(this,"bootstrappers",{RP:()=>On(()=>Promise.resolve().then(()=>PI),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.000b108a.js",document.baseURI).href).then(e=>e.default),Expo:()=>On(()=>Promise.resolve().then(()=>DI),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.000b108a.js",document.baseURI).href).then(e=>e.default)});A(this,"bootstrapperCtor");this.options=e,this._cloudMode=!!window.$axure.player.isCloud;const t=this.bootstrappers[this.options.projectType];if(!t)throw new Error(`Project type ${this.options.projectType} is not supported.`);this.iframeBridge=new Px({source:window.parent,origin:this.options.baseUrl}),this.currentPage=e.startPageId||"",this.bootstrapperCtor=t,this.subscribe({[J.PageDidChange]:()=>this.emitPageData(),[J.OpenNextPage]:()=>this.openNextPage(),[J.OpenPreviousPage]:()=>this.openPreviousPage(),[J.ExitCommentMode]:()=>this.exitCommentMode(),[J.ToogleCommentMode]:()=>this.toogleCommentMode(),[J.SetDynamicPanelState]:i=>this.setDynamicPanelState(i)}),$(document).on("pluginCreated",(i,n)=>{this.triggerOnBridge(nr.pluginCreated,{gid:n})})}get isMobile(){return window.$axure?window.$axure.mobileSupport.mobile:!1}get cloudMode(){return this._cloudMode}get prototypeBaseUrl(){return`${this.options.baseUrl}/${this.options.shortcut}`}get Size(){return this.size}set Size(e){this.size!==e&&(this.size=e,this.eventHub.trigger(J.Resized,this.size))}get CurrentPage(){return this.currentPage}get InspectorEnabled(){return this.inspectorEnabled}async setup(e=""){this.bootstrapper=new(await this.bootstrapperCtor())(this),await this.setupIframeBridge(),this.iframeBridgeConfigured=!0,this.triggerOnBridge(nr.bridgeReady),this.replayBridgeEvents(),await this.bootstrapper.setup(e),this.cloudMode||this.addHandoff(),this.ready=!0,this.trigger(J.Ready),this.triggerOnBridge(nr.ready)}addHandoff(){this.bootstrapper&&this.bootstrapper.addHandoff()}subscribe(e){this.eventHub.subscribe(e)}subscribeToBridge(e){if(e)for(const t in e)t&&this.iframeBridge.on(t,e[t])}trigger(e,t){t&&t.message===J.SetPageHighlight&&t.data&&t.data.isExpo?this.eventHub.trigger(t.message,t.data.id,t.data.addToHistory):t&&t.message===J.PreviousHistory?this.eventHub.trigger(t.message):this.eventHub.trigger(e,t)}triggerOnBridge(e,t){this.cloudMode&&(this.iframeBridgeConfigured?this.iframeBridge.trigger(e,t):this.bridgeEventsQueue.push([e,t]))}addPage(e){this.eventHub.trigger(J.PageAdded,e)}selectPage(e){this.currentPage=e,this.eventHub.trigger(J.PageWillChange,e)}removePage(e){this.eventHub.trigger(J.PageRemoved,e)}showAllColors(){this.eventHub.trigger(J.ShowAllColors)}showAllAssets(){this.eventHub.trigger(J.ShowAllAssets)}inspectorShow(){this.eventHub.trigger(J.InspectorShow)}inspectorHide(){this.eventHub.trigger(J.InspectorHide)}inspectorEnable(){this.cloudMode&&(Ac(window.location.href,"g").includes(Ic.handoff.gid.toString())||this.addHandoff()),this.inspectorEnabled=!0,this.eventHub.trigger(J.InspectorEnabled),this.eventHub.trigger(J.InspectShow),this.triggerOnBridge(nr.inspectorToggled,{enabled:!0})}inspectorDisable(){this.inspectorEnabled=!1,this.eventHub.trigger(J.InspectorDisabled),this.eventHub.trigger(J.InspectHide),this.eventHub.trigger(J.InspectClearHover),this.triggerOnBridge(nr.inspectorToggled,{enabled:!1})}renderExpo(e){this.bootstrapper&&this.eventHub.trigger(J.RenderExpo,e)}async setupIframeBridge(){(await Ts(`${this.options.baseUrl}/framed/getTrustedDomains`)).forEach(t=>this.iframeBridge.addToOriginWhitelist(t)),this.iframeBridge.on(Ne.addHandoff,()=>this.addHandoff()),this.iframeBridge.on(Ne.inspectorEnable,()=>this.inspectorEnable()),this.iframeBridge.on(Ne.inspectorDisable,()=>this.inspectorDisable()),this.iframeBridge.on(Ne.inspectorShow,()=>this.inspectorShow()),this.iframeBridge.on(Ne.inspectorHide,()=>this.inspectorHide()),this.iframeBridge.on(Ne.hidePlayerControls,()=>this.hidePlayerControls()),this.iframeBridge.on(Ne.hidePinsOverlay,()=>this.hidePinsControls()),this.iframeBridge.on(Ne.resizePlayerContent,()=>this.resizePlayerContent()),this.iframeBridge.on(Ne.selectPage,t=>this.selectPage(t.pageId)),this.iframeBridge.on(Ne.pluginToggle,t=>this.togglePlugin(t)),this.iframeBridge.on(Ne.setZoom,t=>this.setZoom(t)),this.iframeBridge.on(Ne.selectAdaptiveView,t=>this.selectAdaptiveView(t.view)),this.iframeBridge.on(Ne.getPageData,()=>this.emitPageData()),this.iframeBridge.on(Ne.getDocumentConfiguration,()=>this.getDocumentConfiguration()),this.iframeBridge.on(Ne.selectScaleOption,t=>this.selectScaleOption(t.scale)),this.iframeBridge.on(Ne.selectOverlayOption,t=>this.selectOverlayOption(t)),this.iframeBridge.on(Ne.keyboardEvent,t=>this.handleKeyboardEvent(t)),this.iframeBridge.on(Ne.generateLocalExpoPreview,t=>this.renderExpo(t)),this.iframeBridge.on(Ne.refreshViewPort,()=>this.trigger(J.RefreshViewPort)),this.iframeBridge.on(Ne.navigateToIssue,t=>this.navigateToIssue(t.issueId)),this.iframeBridge.on(Ne.updateNotificationState,t=>this.updateNotificationState(t)),this.iframeBridge.on(Ne.triggerUpdateIsPanZoomEnabled,()=>this.updateIsPanZoomEnabled()),this.iframeBridge.on(Ne.exitCommentMode,()=>this.exitCommentMode()),this.iframeBridge.on(Ne.reset,()=>this.handleResetEvent())}handleKeyboardEvent(e){switch(e){case Ur.period:this.openNextPage();break;case Ur.comma:this.openPreviousPage();break;case Ur.esc:this.exitCommentMode(),this.hideFilterOptions();break;case Ur.comment:this.toogleCommentMode();break}}replayBridgeEvents(){for(;this.bridgeEventsQueue.length;){const e=this.bridgeEventsQueue.pop();e&&this.triggerOnBridge(...e)}}hidePlayerControls(){window.$axure.player.hideAllPlayerControllers()}hidePinsControls(){const e=window.$axpin;e&&typeof e.removeAll=="function"&&e.removeAll()}resizePlayerContent(){window.$axure.player.resizeContent()}openNextPage(){this.bootstrapper&&this.bootstrapper.openNextPage()}openPreviousPage(){this.bootstrapper&&this.bootstrapper.openPreviousPage()}toogleCommentMode(){this.bootstrapper&&this.bootstrapper.toogleCommentMode()}setDynamicPanelState(e){this.bootstrapper&&this.bootstrapper.setDynamicPanelState(e.id,e.stateNumber)}exitCommentMode(){this.bootstrapper&&this.bootstrapper.exitCommentMode()}hideFilterOptions(){this.bootstrapper&&this.bootstrapper.toggleFilterActive(!1)}handleResetEvent(){this.exitCommentMode(),this.hideFilterOptions()}togglePlugin(e){e.hide?this.pluginHide(e.id):this.pluginShow(e.gid)}pluginHide(e){try{window.$axure.player.pluginClose(e)}catch{}}pluginShow(e){try{window.$axure.player.showPlugin(e)}catch{}}selectAdaptiveView(e){window.$axure.player.selectAdaptiveView(e)}async selectScaleOption(e){await ks(()=>window.$axure.player&&window.$axure.player.selectScaleOption&&typeof window.$axure.player.selectScaleOption=="function",void 0,50),window.$axure.player.selectScaleOption(e)}setZoom(e){var t;(t=this.bootstrapper)==null||t.setZoom(e)}selectOverlayOption(e){this.bootstrapper&&this.bootstrapper.selectOverlayOption(e)}getDocumentConfiguration(){const{configuration:e}=window.$axure.document;this.triggerOnBridge(nr.documentConfiguration,e)}emitPageData(){if(!this.bootstrapper)return;const e=this.bootstrapper.getPageData();e&&this.triggerOnBridge(nr.playerMessageCenterEvent,{message:"setState",data:{key:"page.data",value:e}})}navigateToIssue(e){window.$axure.player&&window.$axure.player.navigateToIssue&&typeof window.$axure.player.navigateToIssue=="function"&&window.$axure.player.navigateToIssue(e)}updateNotificationState(e){window.$axure.messageCenter&&window.$axure.messageCenter.postMessage("updateNotificationState",e)}updateIsPanZoomEnabled(){var e;typeof((e=window.$axure.player)==null?void 0:e.isPanZoomEnabled)=="function"&&this.triggerOnBridge(nr.updateIsPanZoomEnabled,window.$axure.player.isPanZoomEnabled())}}const W1={State:yp};$.holdReady(!0);function j1(r){return!!r.SHORTCUT}let Uc=!1,Zo="";(async()=>{function r(){return window&&window.$axure&&window.$axure.document&&window.$axure.document.configuration}await ks(()=>{if(j1(window))return Uc=!0,Zo=window.SHORTCUT,!0;const t=r();return Zo=t&&t.prototypeId||"",!!Zo},void 0,50),Uc||$.holdReady(!1);const e="/";try{await new yp({baseUrl:e,shortcut:Zo,projectType:Uc?"Expo":"RP",startPageId:Ac(window.location.href,"id"),inspectMode:QS(Ac(window.location.href,"hand"))}).setup()}catch(t){console.error(ax(t).message)}})();var vp="Expected a function",bp=0/0,V1="[object Symbol]",U1=/^\s+|\s+$/g,X1=/^[-+]0x[0-9a-f]+$/i,G1=/^0b[01]+$/i,Q1=/^0o[0-7]+$/i,Y1=parseInt,q1=typeof At=="object"&&At&&At.Object===Object&&At,K1=typeof self=="object"&&self&&self.Object===Object&&self,Z1=q1||K1||Function("return this")(),J1=Object.prototype,eO=J1.toString,tO=Math.max,rO=Math.min,Xc=function(){return Z1.Date.now()};function iO(r,e,t){var i,n,s,o,a,l,c=0,h=!1,u=!1,f=!0;if(typeof r!="function")throw new TypeError(vp);e=wp(e)||0,Jo(t)&&(h=!!t.leading,u="maxWait"in t,s=u?tO(wp(t.maxWait)||0,e):s,f="trailing"in t?!!t.trailing:f);function d(R){var D=i,j=n;return i=n=void 0,c=R,o=r.apply(j,D),o}function p(R){return c=R,a=setTimeout(y,e),h?d(R):o}function g(R){var D=R-l,j=R-c,M=e-D;return u?rO(M,s-j):M}function v(R){var D=R-l,j=R-c;return l===void 0||D>=e||D<0||u&&j>=s}function y(){var R=Xc();if(v(R))return S(R);a=setTimeout(y,g(R))}function S(R){return a=void 0,f&&i?d(R):(i=n=void 0,o)}function k(){a!==void 0&&clearTimeout(a),c=0,i=l=n=a=void 0}function _(){return a===void 0?o:S(Xc())}function T(){var R=Xc(),D=v(R);if(i=arguments,n=this,l=R,D){if(a===void 0)return p(l);if(u)return a=setTimeout(y,e),d(l)}return a===void 0&&(a=setTimeout(y,e)),o}return T.cancel=k,T.flush=_,T}function nO(r,e,t){var i=!0,n=!0;if(typeof r!="function")throw new TypeError(vp);return Jo(t)&&(i="leading"in t?!!t.leading:i,n="trailing"in t?!!t.trailing:n),iO(r,e,{leading:i,maxWait:e,trailing:n})}function Jo(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function sO(r){return!!r&&typeof r=="object"}function oO(r){return typeof r=="symbol"||sO(r)&&eO.call(r)==V1}function wp(r){if(typeof r=="number")return r;if(oO(r))return bp;if(Jo(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Jo(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(U1,"");var t=G1.test(r);return t||Q1.test(r)?Y1(r.slice(2),t?2:8):X1.test(r)?bp:+r}var aO=nO;const Is=Cn(aO);var Be=(r=>(r[r.SetPanelState=0]="SetPanelState",r[r.PreviousScreen=1]="PreviousScreen",r[r.NextScreen=2]="NextScreen",r[r.PreviousHistoryScreen=3]="PreviousHistoryScreen",r[r.PointOnScreen=4]="PointOnScreen",r[r.ExternalUrl=5]="ExternalUrl",r))(Be||{}),nt=(r=>(r[r.Click=0]="Click",r[r.DoubleClick=1]="DoubleClick",r[r.SwipeRight=2]="SwipeRight",r[r.SwipeLeft=3]="SwipeLeft",r[r.SwipeUp=4]="SwipeUp",r[r.SwipeDown=5]="SwipeDown",r))(nt||{}),Le=(r=>(r[r.None=0]="None",r[r.Fade=1]="Fade",r[r.PushRight=2]="PushRight",r[r.PushLeft=3]="PushLeft",r[r.SlideRight=4]="SlideRight",r[r.SlideLeft=5]="SlideLeft",r[r.SlideUp=6]="SlideUp",r[r.SlideDown=7]="SlideDown",r[r.FlipRight=8]="FlipRight",r[r.FlipLeft=9]="FlipLeft",r[r.FlipUp=10]="FlipUp",r[r.FlipDown=11]="FlipDown",r))(Le||{}),Gr=(r=>(r[r.None=0]="None",r[r.Swing=1]="Swing",r[r.Linear=2]="Linear",r[r.EaseInCubic=3]="EaseInCubic",r[r.EaseOutCubic=4]="EaseOutCubic",r[r.EaseInOutCubic=5]="EaseInOutCubic",r[r.Bounce=6]="Bounce",r[r.Elastic=7]="Elastic",r))(Gr||{}),Pn=(r=>(r[r.Jpg=0]="Jpg",r[r.Png=1]="Png",r[r.Gif=2]="Gif",r[r.Axvg=3]="Axvg",r))(Pn||{}),Gc=(r=>(r[r.Web=0]="Web",r[r.Mobile=1]="Mobile",r[r.MobileApple=2]="MobileApple",r[r.MobileGoogle=3]="MobileGoogle",r[r.MobileSamsung=4]="MobileSamsung",r))(Gc||{}),ui=(r=>(r[r.IPhone8=0]="IPhone8",r[r.IPhone8Plus=1]="IPhone8Plus",r[r.IPhoneSE=2]="IPhoneSE",r[r.IPhoneX=3]="IPhoneX",r[r.IPhone11Pro=4]="IPhone11Pro",r[r.IPhone12Pro=5]="IPhone12Pro",r[r.IPhone12ProMax=6]="IPhone12ProMax",r[r.IPhone13Pro=7]="IPhone13Pro",r[r.IPhone13ProMax=8]="IPhone13ProMax",r[r.IPadMini7_9=9]="IPadMini7_9",r[r.IPadMini8_3=10]="IPadMini8_3",r[r.IPad10_2=11]="IPad10_2",r[r.IPadPro11=12]="IPadPro11",r[r.IPadPro12_9=13]="IPadPro12_9",r[r.GalaxyS8=14]="GalaxyS8",r[r.Pixel2=15]="Pixel2",r[r.Pixel2XL=16]="Pixel2XL",r[r.Mobile=17]="Mobile",r[r.Tablet9=18]="Tablet9",r[r.Tablet7=19]="Tablet7",r[r.Custom=20]="Custom",r[r.Web=21]="Web",r[r.Auto=22]="Auto",r[r.IPhone11=23]="IPhone11",r[r.GalaxyS9=24]="GalaxyS9",r[r.GalaxyS10=25]="GalaxyS10",r[r.Pixel3=26]="Pixel3",r[r.Pixel3XL=27]="Pixel3XL",r[r.Pixel4=28]="Pixel4",r[r.Pixel5=29]="Pixel5",r[r.Pixel4XL=30]="Pixel4XL",r))(ui||{}),Rs=(r=>(r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right",r))(Rs||{}),Ds=(r=>(r[r.Top=0]="Top",r[r.Middle=1]="Middle",r[r.Bottom=2]="Bottom",r))(Ds||{});for(let r=0;r<256;r++)(r<16?"0":"")+r.toString(16);window.$axExpo||(window.$axExpo={shortcutKey:"",resourceUrl:"",resourceAxureUrl:"",project:null,artboardMap:{},assetMap:{},imgMap:{},idMap:{},masterMap:{},bgImgLink:null,imgLoadTree:{},docObj:null,dataObj:null,objPaths:null,imgProcessedList:[],initProject:()=>null,processImgSeed:()=>null,processImgSeeds:()=>null,genDocObj:()=>null,previewEditPrototype:()=>null,previewPrototype:()=>null,pushHistory:()=>null,popHistory:()=>null,isLoaded:!1,isPreview:!1,enableLazyLoading:!0,generations:2}),window.$axExpo.initProject=(r,e,t,i,n,s=null)=>{window.$axExpo.shortcutKey=r,window.$axExpo.resourceUrl=e,window.$axExpo.resourceAxureUrl=t,window.$axExpo.project=i,window.$axExpo.artboardMap={},window.$axExpo.assetMap={},window.$axExpo.imgMap={},window.$axExpo.idMap={},window.$axExpo.masterMap=n,window.$axExpo.bgImgLink=s,window.$axExpo.imgLoadTree={},window.$axExpo.imgProcessedList=[],window.$axExpo.isLoaded=!0};function lO(r,e=document.head,t=!1){const i=document.createElement("script");i.type="text/javascript",i.src=r,i.async=t,e.appendChild(i)}function ea(r,e=document.head){const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=r,e.appendChild(t)}function Sp(r){if(xp(r.artboardAsset.OriginalFileName))return r.artboardAsset.Dimensions;const e=[];for(const t in r.assets){const i=r.assets[t];i.LayerId===r.artboardAsset.LayerId&&i.Type!==Pn.Axvg&&e.push(i)}for(const t of e)if(t.Scale&&t.Scale===1||xp(t.OriginalFileName))return t.Dimensions;return r.artboardAsset.Dimensions}function xp(r){const e=r.split("."),t=e[e.length-2];return!(t.endsWith("@2x")||t.endsWith("@3x"))}let Op=class{constructor(){A(this,"items");A(this,"length");this.items=[],this.length=0}push(e){e==null||e===void 0||(this.items[this.length++]=e)}pop(){if(this.length<1)return null;const e=this.items[--this.length];return delete this.items[this.length],e}peek(){return this.length<1?null:this.items[this.length-1]}count(){return this.length}};function cO(){return"<div class='dottedDivider'></div>"}function Cp(){return $(`
<div class='handoffLayerViewRow'>
  <div class='handoffLayerViewCell'>
    <span class='handoffCloseSection handoffCloseIcon'>&times;</span>
  </div>
</div>
`)}class kp{constructor(e,t,i){A(this,"layerSection",$("<div class='handoffLayerSection'>"));A(this,"sectionBody",$("<div class='handoffLayerSectionBody handoffLayerSectionContentBody'>"));this.sectionBody.append(t),this.layerSection.append($(`<div class='handoffSectionName'>${e}</div>`)),this.layerSection.append(this.sectionBody),i&&this.mount(i)}mount(e){this.layerSection.appendTo(e)}}var hO=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0},Ap=typeof Symbol<"u"&&Symbol,uO=hO,Pp=function(){return typeof Ap!="function"||typeof Symbol!="function"||typeof Ap("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:uO()},fO="Function.prototype.bind called on incompatible ",Qc=Array.prototype.slice,dO=Object.prototype.toString,pO="[object Function]",gO=function(e){var t=this;if(typeof t!="function"||dO.call(t)!==pO)throw new TypeError(fO+t);for(var i=Qc.call(arguments,1),n,s=function(){if(this instanceof n){var h=t.apply(this,i.concat(Qc.call(arguments)));return Object(h)===h?h:this}else return t.apply(e,i.concat(Qc.call(arguments)))},o=Math.max(0,t.length-i.length),a=[],l=0;l<o;l++)a.push("$"+l);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n},mO=gO,ta=Function.prototype.bind||mO,yO=ta,_p=yO.call(Function.call,Object.prototype.hasOwnProperty),_e,_n=SyntaxError,Ep=Function,En=TypeError,Yc=function(r){try{return Ep('"use strict"; return ('+r+").constructor;")()}catch{}},Gi=Object.getOwnPropertyDescriptor;if(Gi)try{Gi({},"")}catch{Gi=null}var qc=function(){throw new En},vO=Gi?function(){try{return arguments.callee,qc}catch{try{return Gi(arguments,"callee").get}catch{return qc}}}():qc,Tn=Pp(),fi=Object.getPrototypeOf||function(r){return r.__proto__},In={},bO=typeof Uint8Array>"u"?_e:fi(Uint8Array),Rn={"%AggregateError%":typeof AggregateError>"u"?_e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_e:ArrayBuffer,"%ArrayIteratorPrototype%":Tn?fi([][Symbol.iterator]()):_e,"%AsyncFromSyncIteratorPrototype%":_e,"%AsyncFunction%":In,"%AsyncGenerator%":In,"%AsyncGeneratorFunction%":In,"%AsyncIteratorPrototype%":In,"%Atomics%":typeof Atomics>"u"?_e:Atomics,"%BigInt%":typeof BigInt>"u"?_e:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?_e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_e:FinalizationRegistry,"%Function%":Ep,"%GeneratorFunction%":In,"%Int8Array%":typeof Int8Array>"u"?_e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Tn?fi(fi([][Symbol.iterator]())):_e,"%JSON%":typeof JSON=="object"?JSON:_e,"%Map%":typeof Map>"u"?_e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Tn?_e:fi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_e:Promise,"%Proxy%":typeof Proxy>"u"?_e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?_e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Tn?_e:fi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Tn?fi(""[Symbol.iterator]()):_e,"%Symbol%":Tn?Symbol:_e,"%SyntaxError%":_n,"%ThrowTypeError%":vO,"%TypedArray%":bO,"%TypeError%":En,"%Uint8Array%":typeof Uint8Array>"u"?_e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?_e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_e:WeakSet},wO=function r(e){var t;if(e==="%AsyncFunction%")t=Yc("async function () {}");else if(e==="%GeneratorFunction%")t=Yc("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Yc("async function* () {}");else if(e==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(t=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=r("%AsyncGenerator%");n&&(t=fi(n.prototype))}return Rn[e]=t,t},Tp={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$s=ta,ra=_p,SO=$s.call(Function.call,Array.prototype.concat),xO=$s.call(Function.apply,Array.prototype.splice),Ip=$s.call(Function.call,String.prototype.replace),ia=$s.call(Function.call,String.prototype.slice),OO=$s.call(Function.call,RegExp.prototype.exec),CO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,kO=/\\(\\)?/g,AO=function(e){var t=ia(e,0,1),i=ia(e,-1);if(t==="%"&&i!=="%")throw new _n("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&t!=="%")throw new _n("invalid intrinsic syntax, expected opening `%`");var n=[];return Ip(e,CO,function(s,o,a,l){n[n.length]=a?Ip(l,kO,"$1"):o||s}),n},PO=function(e,t){var i=e,n;if(ra(Tp,i)&&(n=Tp[i],i="%"+n[0]+"%"),ra(Rn,i)){var s=Rn[i];if(s===In&&(s=wO(i)),typeof s>"u"&&!t)throw new En("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new _n("intrinsic "+e+" does not exist!")},_O=function(e,t){if(typeof e!="string"||e.length===0)throw new En("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new En('"allowMissing" argument must be a boolean');if(OO(/^%?[^%]*%?$/g,e)===null)throw new _n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=AO(e),n=i.length>0?i[0]:"",s=PO("%"+n+"%",t),o=s.name,a=s.value,l=!1,c=s.alias;c&&(n=c[0],xO(i,SO([0,1],c)));for(var h=1,u=!0;h<i.length;h+=1){var f=i[h],d=ia(f,0,1),p=ia(f,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new _n("property names with quotes must have matching quotes");if((f==="constructor"||!u)&&(l=!0),n+="."+f,o="%"+n+"%",ra(Rn,o))a=Rn[o];else if(a!=null){if(!(f in a)){if(!t)throw new En("base intrinsic for "+e+" exists, but the property is not available.");return}if(Gi&&h+1>=i.length){var g=Gi(a,f);u=!!g,u&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[f]}else u=ra(a,f),a=a[f];u&&!l&&(Rn[o]=a)}}return a},Ee,Dn=SyntaxError,Rp=Function,$n=TypeError,Kc=function(r){try{return Rp('"use strict"; return ('+r+").constructor;")()}catch{}},Qi=Object.getOwnPropertyDescriptor;if(Qi)try{Qi({},"")}catch{Qi=null}var Zc=function(){throw new $n},EO=Qi?function(){try{return arguments.callee,Zc}catch{try{return Qi(arguments,"callee").get}catch{return Zc}}}():Zc,Ln=Pp(),di=Object.getPrototypeOf||function(r){return r.__proto__},Mn={},TO=typeof Uint8Array>"u"?Ee:di(Uint8Array),Bn={"%AggregateError%":typeof AggregateError>"u"?Ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ee:ArrayBuffer,"%ArrayIteratorPrototype%":Ln?di([][Symbol.iterator]()):Ee,"%AsyncFromSyncIteratorPrototype%":Ee,"%AsyncFunction%":Mn,"%AsyncGenerator%":Mn,"%AsyncGeneratorFunction%":Mn,"%AsyncIteratorPrototype%":Mn,"%Atomics%":typeof Atomics>"u"?Ee:Atomics,"%BigInt%":typeof BigInt>"u"?Ee:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ee:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ee:FinalizationRegistry,"%Function%":Rp,"%GeneratorFunction%":Mn,"%Int8Array%":typeof Int8Array>"u"?Ee:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ee:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ln?di(di([][Symbol.iterator]())):Ee,"%JSON%":typeof JSON=="object"?JSON:Ee,"%Map%":typeof Map>"u"?Ee:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ln?Ee:di(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ee:Promise,"%Proxy%":typeof Proxy>"u"?Ee:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ee:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ln?Ee:di(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ln?di(""[Symbol.iterator]()):Ee,"%Symbol%":Ln?Symbol:Ee,"%SyntaxError%":Dn,"%ThrowTypeError%":EO,"%TypedArray%":TO,"%TypeError%":$n,"%Uint8Array%":typeof Uint8Array>"u"?Ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ee:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ee:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ee:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ee:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ee:WeakSet},IO=function r(e){var t;if(e==="%AsyncFunction%")t=Kc("async function () {}");else if(e==="%GeneratorFunction%")t=Kc("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Kc("async function* () {}");else if(e==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(t=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=r("%AsyncGenerator%");n&&(t=di(n.prototype))}return Bn[e]=t,t},Dp={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ls=ta,na=_p,RO=Ls.call(Function.call,Array.prototype.concat),DO=Ls.call(Function.apply,Array.prototype.splice),$p=Ls.call(Function.call,String.prototype.replace),sa=Ls.call(Function.call,String.prototype.slice),$O=Ls.call(Function.call,RegExp.prototype.exec),LO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,MO=/\\(\\)?/g,BO=function(e){var t=sa(e,0,1),i=sa(e,-1);if(t==="%"&&i!=="%")throw new Dn("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&t!=="%")throw new Dn("invalid intrinsic syntax, expected opening `%`");var n=[];return $p(e,LO,function(s,o,a,l){n[n.length]=a?$p(l,MO,"$1"):o||s}),n},NO=function(e,t){var i=e,n;if(na(Dp,i)&&(n=Dp[i],i="%"+n[0]+"%"),na(Bn,i)){var s=Bn[i];if(s===Mn&&(s=IO(i)),typeof s>"u"&&!t)throw new $n("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new Dn("intrinsic "+e+" does not exist!")},Lp=function(e,t){if(typeof e!="string"||e.length===0)throw new $n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new $n('"allowMissing" argument must be a boolean');if($O(/^%?[^%]*%?$/g,e)===null)throw new Dn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=BO(e),n=i.length>0?i[0]:"",s=NO("%"+n+"%",t),o=s.name,a=s.value,l=!1,c=s.alias;c&&(n=c[0],DO(i,RO([0,1],c)));for(var h=1,u=!0;h<i.length;h+=1){var f=i[h],d=sa(f,0,1),p=sa(f,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Dn("property names with quotes must have matching quotes");if((f==="constructor"||!u)&&(l=!0),n+="."+f,o="%"+n+"%",na(Bn,o))a=Bn[o];else if(a!=null){if(!(f in a)){if(!t)throw new $n("base intrinsic for "+e+" exists, but the property is not available.");return}if(Qi&&h+1>=i.length){var g=Qi(a,f);u=!!g,u&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[f]}else u=na(a,f),a=a[f];u&&!l&&(Bn[o]=a)}}return a},Mp={exports:{}};(function(r){var e=ta,t=Lp,i=t("%Function.prototype.apply%"),n=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(n,i),o=t("%Object.getOwnPropertyDescriptor%",!0),a=t("%Object.defineProperty%",!0),l=t("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}r.exports=function(u){var f=s(e,n,arguments);if(o&&a){var d=o(f,"length");d.configurable&&a(f,"length",{value:1+l(0,u.length-(arguments.length-1))})}return f};var c=function(){return s(e,i,arguments)};a?a(r.exports,"apply",{value:c}):r.exports.apply=c})(Mp);var FO=Mp.exports,Bp=Lp,Np=FO,zO=Np(Bp("String.prototype.indexOf")),HO=function(e,t){var i=Bp(e,!!t);return typeof i=="function"&&zO(e,".prototype.")>-1?Np(i):i};const WO=dx(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Jc=typeof Map=="function"&&Map.prototype,eh=Object.getOwnPropertyDescriptor&&Jc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,oa=Jc&&eh&&typeof eh.get=="function"?eh.get:null,jO=Jc&&Map.prototype.forEach,th=typeof Set=="function"&&Set.prototype,rh=Object.getOwnPropertyDescriptor&&th?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,aa=th&&rh&&typeof rh.get=="function"?rh.get:null,VO=th&&Set.prototype.forEach,UO=typeof WeakMap=="function"&&WeakMap.prototype,Ms=UO?WeakMap.prototype.has:null,XO=typeof WeakSet=="function"&&WeakSet.prototype,Bs=XO?WeakSet.prototype.has:null,GO=typeof WeakRef=="function"&&WeakRef.prototype,Fp=GO?WeakRef.prototype.deref:null,QO=Boolean.prototype.valueOf,YO=Object.prototype.toString,qO=Function.prototype.toString,KO=String.prototype.match,ih=String.prototype.slice,pi=String.prototype.replace,ZO=String.prototype.toUpperCase,zp=String.prototype.toLowerCase,Hp=RegExp.prototype.test,Wp=Array.prototype.concat,Or=Array.prototype.join,JO=Array.prototype.slice,jp=Math.floor,nh=typeof BigInt=="function"?BigInt.prototype.valueOf:null,sh=Object.getOwnPropertySymbols,oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",vt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Nn||"symbol")?Symbol.toStringTag:null,Vp=Object.prototype.propertyIsEnumerable,Up=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function Xp(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||Hp.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var i=r<0?-jp(-r):jp(r);if(i!==r){var n=String(i),s=ih.call(e,n.length+1);return pi.call(n,t,"$&_")+"."+pi.call(pi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return pi.call(e,t,"$&_")}var ah=WO,Gp=ah.custom,Qp=Kp(Gp)?Gp:null,eC=function r(e,t,i,n){var s=t||{};if(gi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(gi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=gi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(gi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(gi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Jp(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Xp(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?Xp(e,c):c}var h=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=h&&h>0&&typeof e=="object")return lh(e)?"[Array]":"[Object]";var u=vC(s,i);if(typeof n>"u")n=[];else if(Zp(n,e)>=0)return"[Circular]";function f(C,m,L){if(m&&(n=JO.call(n),n.push(m)),L){var Y={depth:s.depth};return gi(s,"quoteStyle")&&(Y.quoteStyle=s.quoteStyle),r(C,Y,i+1,n)}return r(C,s,i+1,n)}if(typeof e=="function"&&!qp(e)){var d=cC(e),p=la(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Or.call(p,", ")+" }":"")}if(Kp(e)){var g=Nn?pi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):oh.call(e);return typeof e=="object"&&!Nn?Ns(g):g}if(gC(e)){for(var v="<"+zp.call(String(e.nodeName)),y=e.attributes||[],S=0;S<y.length;S++)v+=" "+y[S].name+"="+Yp(tC(y[S].value),"double",s);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+zp.call(String(e.nodeName))+">",v}if(lh(e)){if(e.length===0)return"[]";var k=la(e,f);return u&&!yC(k)?"["+hh(k,u)+"]":"[ "+Or.call(k,", ")+" ]"}if(iC(e)){var _=la(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Vp.call(e,"cause")?"{ ["+String(e)+"] "+Or.call(Wp.call("[cause]: "+f(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Or.call(_,", ")+" }"}if(typeof e=="object"&&o){if(Qp&&typeof e[Qp]=="function"&&ah)return ah(e,{depth:h-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(hC(e)){var T=[];return jO.call(e,function(C,m){T.push(f(m,e,!0)+" => "+f(C,e))}),eg("Map",oa.call(e),T,u)}if(dC(e)){var R=[];return VO.call(e,function(C){R.push(f(C,e))}),eg("Set",aa.call(e),R,u)}if(uC(e))return ch("WeakMap");if(pC(e))return ch("WeakSet");if(fC(e))return ch("WeakRef");if(sC(e))return Ns(f(Number(e)));if(aC(e))return Ns(f(nh.call(e)));if(oC(e))return Ns(QO.call(e));if(nC(e))return Ns(f(String(e)));if(!rC(e)&&!qp(e)){var D=la(e,f),j=Up?Up(e)===Object.prototype:e instanceof Object||e.constructor===Object,M=e instanceof Object?"":"null prototype",G=!j&&vt&&Object(e)===e&&vt in e?ih.call(mi(e),8,-1):M?"Object":"",ie=j||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",w=ie+(G||M?"["+Or.call(Wp.call([],G||[],M||[]),": ")+"] ":"");return D.length===0?w+"{}":u?w+"{"+hh(D,u)+"}":w+"{ "+Or.call(D,", ")+" }"}return String(e)};function Yp(r,e,t){var i=(t.quoteStyle||e)==="double"?'"':"'";return i+r+i}function tC(r){return pi.call(String(r),/"/g,"&quot;")}function lh(r){return mi(r)==="[object Array]"&&(!vt||!(typeof r=="object"&&vt in r))}function rC(r){return mi(r)==="[object Date]"&&(!vt||!(typeof r=="object"&&vt in r))}function qp(r){return mi(r)==="[object RegExp]"&&(!vt||!(typeof r=="object"&&vt in r))}function iC(r){return mi(r)==="[object Error]"&&(!vt||!(typeof r=="object"&&vt in r))}function nC(r){return mi(r)==="[object String]"&&(!vt||!(typeof r=="object"&&vt in r))}function sC(r){return mi(r)==="[object Number]"&&(!vt||!(typeof r=="object"&&vt in r))}function oC(r){return mi(r)==="[object Boolean]"&&(!vt||!(typeof r=="object"&&vt in r))}function Kp(r){if(Nn)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!oh)return!1;try{return oh.call(r),!0}catch{}return!1}function aC(r){if(!r||typeof r!="object"||!nh)return!1;try{return nh.call(r),!0}catch{}return!1}var lC=Object.prototype.hasOwnProperty||function(r){return r in this};function gi(r,e){return lC.call(r,e)}function mi(r){return YO.call(r)}function cC(r){if(r.name)return r.name;var e=KO.call(qO.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function Zp(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,i=r.length;t<i;t++)if(r[t]===e)return t;return-1}function hC(r){if(!oa||!r||typeof r!="object")return!1;try{oa.call(r);try{aa.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function uC(r){if(!Ms||!r||typeof r!="object")return!1;try{Ms.call(r,Ms);try{Bs.call(r,Bs)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function fC(r){if(!Fp||!r||typeof r!="object")return!1;try{return Fp.call(r),!0}catch{}return!1}function dC(r){if(!aa||!r||typeof r!="object")return!1;try{aa.call(r);try{oa.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function pC(r){if(!Bs||!r||typeof r!="object")return!1;try{Bs.call(r,Bs);try{Ms.call(r,Ms)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function gC(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function Jp(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,i="... "+t+" more character"+(t>1?"s":"");return Jp(ih.call(r,0,e.maxStringLength),e)+i}var n=pi.call(pi.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,mC);return Yp(n,"single",e)}function mC(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+ZO.call(e.toString(16))}function Ns(r){return"Object("+r+")"}function ch(r){return r+" { ? }"}function eg(r,e,t,i){var n=i?hh(t,i):Or.call(t,", ");return r+" ("+e+") {"+n+"}"}function yC(r){for(var e=0;e<r.length;e++)if(Zp(r[e],`
`)>=0)return!1;return!0}function vC(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=Or.call(Array(r.indent+1)," ");else return null;return{base:t,prev:Or.call(Array(e+1),t)}}function hh(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+Or.call(r,","+t)+`
`+e.prev}function la(r,e){var t=lh(r),i=[];if(t){i.length=r.length;for(var n=0;n<r.length;n++)i[n]=gi(r,n)?e(r[n],r):""}var s=typeof sh=="function"?sh(r):[],o;if(Nn){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in r)gi(r,l)&&(t&&String(Number(l))===l&&l<r.length||Nn&&o["$"+l]instanceof Symbol||(Hp.call(/[^\w$]/,l)?i.push(e(l,r)+": "+e(r[l],r)):i.push(l+": "+e(r[l],r))));if(typeof sh=="function")for(var c=0;c<s.length;c++)Vp.call(r,s[c])&&i.push("["+e(s[c])+"]: "+e(r[s[c]],r));return i}var uh=_O,Fn=HO,bC=eC,wC=uh("%TypeError%"),ca=uh("%WeakMap%",!0),ha=uh("%Map%",!0),SC=Fn("WeakMap.prototype.get",!0),xC=Fn("WeakMap.prototype.set",!0),OC=Fn("WeakMap.prototype.has",!0),CC=Fn("Map.prototype.get",!0),kC=Fn("Map.prototype.set",!0),AC=Fn("Map.prototype.has",!0),fh=function(r,e){for(var t=r,i;(i=t.next)!==null;t=i)if(i.key===e)return t.next=i.next,i.next=r.next,r.next=i,i},PC=function(r,e){var t=fh(r,e);return t&&t.value},_C=function(r,e,t){var i=fh(r,e);i?i.value=t:r.next={key:e,next:r.next,value:t}},EC=function(r,e){return!!fh(r,e)},TC=function(){var e,t,i,n={assert:function(s){if(!n.has(s))throw new wC("Side channel does not contain "+bC(s))},get:function(s){if(ca&&s&&(typeof s=="object"||typeof s=="function")){if(e)return SC(e,s)}else if(ha){if(t)return CC(t,s)}else if(i)return PC(i,s)},has:function(s){if(ca&&s&&(typeof s=="object"||typeof s=="function")){if(e)return OC(e,s)}else if(ha){if(t)return AC(t,s)}else if(i)return EC(i,s);return!1},set:function(s,o){ca&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new ca),xC(e,s,o)):ha?(t||(t=new ha),kC(t,s,o)):(i||(i={key:{},next:null}),_C(i,s,o))}};return n},IC=String.prototype.replace,RC=/%20/g,dh={RFC1738:"RFC1738",RFC3986:"RFC3986"},ph={default:dh.RFC3986,formatters:{RFC1738:function(r){return IC.call(r,RC,"+")},RFC3986:function(r){return String(r)}},RFC1738:dh.RFC1738,RFC3986:dh.RFC3986},DC=ph,gh=Object.prototype.hasOwnProperty,Yi=Array.isArray,Cr=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),$C=function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(Yi(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);t.obj[t.prop]=n}}},tg=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},LC=function r(e,t,i){if(!t)return e;if(typeof t!="object"){if(Yi(e))e.push(t);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!gh.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var n=e;return Yi(e)&&!Yi(t)&&(n=tg(e,i)),Yi(e)&&Yi(t)?(t.forEach(function(s,o){if(gh.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=r(a,s,i):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return gh.call(s,o)?s[o]=r(s[o],a,i):s[o]=a,s},n)},MC=function(e,t){return Object.keys(t).reduce(function(i,n){return i[n]=t[n],i},e)},BC=function(r,e,t){var i=r.replace(/\+/g," ");if(t==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},NC=function(e,t,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===DC.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+Cr[c];continue}if(c<2048){a=a+(Cr[192|c>>6]+Cr[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Cr[224|c>>12]+Cr[128|c>>6&63]+Cr[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=Cr[240|c>>18]+Cr[128|c>>12&63]+Cr[128|c>>6&63]+Cr[128|c&63]}return a},FC=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],n=0;n<t.length;++n)for(var s=t[n],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],h=o[c];typeof h=="object"&&h!==null&&i.indexOf(h)===-1&&(t.push({obj:o,prop:c}),i.push(h))}return $C(t),e},zC=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},HC=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},WC=function(e,t){return[].concat(e,t)},jC=function(e,t){if(Yi(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i}return t(e)},rg={arrayToObject:tg,assign:MC,combine:WC,compact:FC,decode:BC,encode:NC,isBuffer:HC,isRegExp:zC,maybeMap:jC,merge:LC},ig=TC,ua=rg,Fs=ph,VC=Object.prototype.hasOwnProperty,ng={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Qr=Array.isArray,UC=Array.prototype.push,sg=function(r,e){UC.apply(r,Qr(e)?e:[e])},XC=Date.prototype.toISOString,og=Fs.default,bt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ua.encode,encodeValuesOnly:!1,format:og,formatter:Fs.formatters[og],indices:!1,serializeDate:function(e){return XC.call(e)},skipNulls:!1,strictNullHandling:!1},GC=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},mh={},QC=function r(e,t,i,n,s,o,a,l,c,h,u,f,d,p,g,v){for(var y=e,S=v,k=0,_=!1;(S=S.get(mh))!==void 0&&!_;){var T=S.get(e);if(k+=1,typeof T<"u"){if(T===k)throw new RangeError("Cyclic object value");_=!0}typeof S.get(mh)>"u"&&(k=0)}if(typeof l=="function"?y=l(t,y):y instanceof Date?y=u(y):i==="comma"&&Qr(y)&&(y=ua.maybeMap(y,function(Y){return Y instanceof Date?u(Y):Y})),y===null){if(s)return a&&!p?a(t,bt.encoder,g,"key",f):t;y=""}if(GC(y)||ua.isBuffer(y)){if(a){var R=p?t:a(t,bt.encoder,g,"key",f);return[d(R)+"="+d(a(y,bt.encoder,g,"value",f))]}return[d(t)+"="+d(String(y))]}var D=[];if(typeof y>"u")return D;var j;if(i==="comma"&&Qr(y))p&&a&&(y=ua.maybeMap(y,a)),j=[{value:y.length>0?y.join(",")||null:void 0}];else if(Qr(l))j=l;else{var M=Object.keys(y);j=c?M.sort(c):M}for(var G=n&&Qr(y)&&y.length===1?t+"[]":t,ie=0;ie<j.length;++ie){var w=j[ie],C=typeof w=="object"&&typeof w.value<"u"?w.value:y[w];if(!(o&&C===null)){var m=Qr(y)?typeof i=="function"?i(G,w):G:G+(h?"."+w:"["+w+"]");v.set(e,k);var L=ig();L.set(mh,v),sg(D,r(C,m,i,n,s,o,i==="comma"&&p&&Qr(y)?null:a,l,c,h,u,f,d,p,g,L))}}return D},YC=function(e){if(!e)return bt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||bt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=Fs.default;if(typeof e.format<"u"){if(!VC.call(Fs.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=Fs.formatters[i],s=bt.filter;return(typeof e.filter=="function"||Qr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:bt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?bt.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:bt.charsetSentinel,delimiter:typeof e.delimiter>"u"?bt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:bt.encode,encoder:typeof e.encoder=="function"?e.encoder:bt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:bt.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:bt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:bt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:bt.strictNullHandling}},qC=function(r,e){var t=r,i=YC(e),n,s;typeof i.filter=="function"?(s=i.filter,t=s("",t)):Qr(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in ng?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=ng[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;n||(n=Object.keys(t)),i.sort&&n.sort(i.sort);for(var h=ig(),u=0;u<n.length;++u){var f=n[u];i.skipNulls&&t[f]===null||sg(o,QC(t[f],f,l,c,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,h))}var d=o.join(i.delimiter),p=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},zn=rg,yh=Object.prototype.hasOwnProperty,KC=Array.isArray,ct={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:zn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ZC=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},ag=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},JC="utf8=%26%2310003%3B",ek="utf8=%E2%9C%93",tk=function(e,t){var i={__proto__:null},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,s),a=-1,l,c=t.charset;if(t.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===ek?c="utf-8":o[l]===JC&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],u=h.indexOf("]="),f=u===-1?h.indexOf("="):u+1,d,p;f===-1?(d=t.decoder(h,ct.decoder,c,"key"),p=t.strictNullHandling?null:""):(d=t.decoder(h.slice(0,f),ct.decoder,c,"key"),p=zn.maybeMap(ag(h.slice(f+1),t),function(g){return t.decoder(g,ct.decoder,c,"value")})),p&&t.interpretNumericEntities&&c==="iso-8859-1"&&(p=ZC(p)),h.indexOf("[]=")>-1&&(p=KC(p)?[p]:p),yh.call(i,d)?i[d]=zn.combine(i[d],p):i[d]=p}return i},rk=function(r,e,t,i){for(var n=i?e:ag(e,t),s=r.length-1;s>=0;--s){var o,a=r[s];if(a==="[]"&&t.parseArrays)o=[].concat(n);else{o=t.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(l,10);!t.parseArrays&&l===""?o={0:n}:!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&t.parseArrays&&c<=t.arrayLimit?(o=[],o[c]=n):l!=="__proto__"&&(o[l]=n)}n=o}return n},ik=function(e,t,i,n){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=i.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,h=[];if(c){if(!i.plainObjects&&yh.call(Object.prototype,c)&&!i.allowPrototypes)return;h.push(c)}for(var u=0;i.depth>0&&(l=a.exec(s))!==null&&u<i.depth;){if(u+=1,!i.plainObjects&&yh.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;h.push(l[1])}return l&&h.push("["+s.slice(l.index)+"]"),rk(h,t,i,n)}},nk=function(e){if(!e)return ct;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?ct.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ct.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ct.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ct.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ct.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ct.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ct.comma,decoder:typeof e.decoder=="function"?e.decoder:ct.decoder,delimiter:typeof e.delimiter=="string"||zn.isRegExp(e.delimiter)?e.delimiter:ct.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ct.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ct.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ct.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ct.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ct.strictNullHandling}},sk=function(r,e){var t=nk(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var i=typeof r=="string"?tk(r,t):r,n=t.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],l=ik(a,i[a],t,typeof r=="string");n=zn.merge(n,l,t)}return t.allowSparse===!0?n:zn.compact(n)},ok=qC,ak=sk,lk=ph,ck={formats:lk,parse:ak,stringify:ok};const lg=Cn(ck),cg=On(()=>Promise.resolve().then(()=>$I),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.000b108a.js",document.baseURI).href);function hg(r){return Array.isArray(r)?r.length===1?ug(r[0]):hk(r):ug(r)}async function hk(r){const e=await On(()=>Promise.resolve().then(()=>LI),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.000b108a.js",document.baseURI).href),t=new e.default,i=[];async function n(o,a){const l=o.url,c=await fg(l);a.file(o.fileName,c)}for(const o of r)i.push(n(o,t));await Promise.all(i);const s=await t.generateAsync({type:"blob"});(await cg).default.saveAs(s,"assets.zip")}async function ug(r){const e=r.url,t=await fg(e);(await cg).default.saveAs(t,r.fileName)}function fg(r){return new Promise((e,t)=>{const i=new XMLHttpRequest;i.responseType="blob";const n=uk(r);i.open("GET",encodeURI(n)),i.onload=function(){i.status===200?e(this.response):t()},i.send()})}function uk(r,e="t"){let t=r;const[i,n=""]=r.split("?"),s={...lg.parse(n),[e]:Date.now()};return t=`${i}?${lg.stringify(s)}`,t}class vh{constructor(e,t){A(this,"element",$("<div id='handoffLayerAssetsGroups'>"));this.setAssets(e),t&&this.mount(t)}setAssets(e){for(const t of e)this.addAssetGroup(t)}setSize(e){$(".handoffAssetGroupDimensions").text(`${e.width}px x ${e.height}px`)}mount(e){this.element.appendTo(e)}addAssetGroup(e,t=!1){const i=$(`
<div>
  <div class='handoffAssetGroup'>
    <div class='handoffAssetGroupTitle'>
      <div class='handoffLayerViewRow'>
        <div class='handoffLayerViewCell'>
          ${fk(t)}
        </div>
      </div>
    </div>
  </div>
</div>
`),n=i.find(".handoffAssetGroupModifier"),s=i.find(".handoffExportAssets"),o=i.find(".handoffAssetGroup"),a=i.find(".handoffAssetGroupExtension");o.addClass(`handoffAssetGroup-${e.name}`),t&&o.addClass("handoffAssetGroup-simpleMode"),(t?i.find(".handoffExportAssetsLink"):s).click(()=>(this.exportAssets(e.assets),!1));const c=e.assets[0];c.modifier&&c.modifier!=="normal"&&n.text(`:${c.modifier}`),i.find("#handoffAssetGroupPreview").attr("src",c.url),a.text(`${c.fileType.toUpperCase()}`),this.element.append(i)}exportAssets(e){if(e.length!==0)return hg(e)}}function fk(r){return r?`
<button class='handoffExportAssets handoffExportAssetsLink' title='Download assets'>
  <span class='handoffAssetGroupName'></span> <span class='handoffAssetGroupTotal'></span>
</button>
`:`
<div class='handoffAssetGroupModifier'></div>
<div class='handoffAssetGroupPreviewContainer'><img id='handoffAssetGroupPreview'/></div>
<span class='handoffAssetGroupName'></span>
<span class='handoffAssetGroupTotal'></span>
<div class='handoffAssetGroupDimensionsRow'>Size: <span class='handoffAssetGroupDimensions'></span></div>
<span>Type: <span class='handoffAssetGroupExtension'></span></span>
<button class='handoffExportAssets' title='Download assets'>Download</button>
`}class dk{constructor(e,t){A(this,"element",$("<div id='handoffArtboardAssetsLayerList'>"));this.setAssets(e),t&&this.mount(t)}mount(e){this.element.appendTo(e)}setAssets(e){for(const t of e)this.addAssetGroup(t)}addAssetGroup(e){const t=$(`
<div class='handoffArtboardAssetsLayerListItem'>
  <div class='handoffLayerViewRow'>
  <div class='handoffLayerViewCell'>
    <div class='handoffAssetLayerGroupItemInfo'>
      <span class='handoffAssetLayerGroupItemInfoLayerName'></span>
      <button class='handoffExportAssets toggleHandoffLayerAssetsBubble' title='Download assets'>&darr;</button>
      <div class='iBubble axContextSpeechBubbleTop handoffLayerAssetsBubble' style='display: none'>
        <div class='handoffAssetsList'>

        </div>
      </div>
    </div>
  </div>
  </div>
</div>
    `),i=t.find(".handoffAssetLayerGroupItemInfoLayerName"),n=t.find(".handoffLayerAssetsBubble"),s=t.find(".toggleHandoffLayerAssetsBubble"),o=t.find(".handoffAssetsList");s.click(()=>{const l=n.is(":visible");n.closest("#handoffArtboardAssetsLayerList").find(".handoffLayerAssetsBubble").hide(),n.toggle(!l)}),i.text(e.name),new vh(e.assets).mount(o),this.element.append(t)}}class pk{constructor(e,t){A(this,"close",Cp());A(this,"artboardAssets",$("<div id='handoffArtboardAssets' style='display: none;'>").append(this.close));A(this,"assets",$(`
<div>
  <div id='handoffArtboardAssetsList'></div>
  <div id='handoffArtboardAssetsLayerList'></div>
<div>`));A(this,"assetsAllList",this.assets.find("#handoffArtboardAssetsList"));A(this,"assetsByLayerList",this.assets.find("#handoffArtboardAssetsLayerList"));this.state=e,new kp("Assets",this.assets.contents()).mount(this.artboardAssets),t&&this.mount(t)}mount(e){this.attachEvents(),this.artboardAssets.appendTo(e)}set(e){this.setAssetsAll(e.all),this.setAssetsByLayer(e.byLayer)}show(){this.artboardAssets.show()}hide(){this.artboardAssets.hide()}setAssetsAll(e){this.assetsAllList.empty(),new vh(e).mount(this.assetsAllList)}setAssetsByLayer(e){this.assetsByLayerList.empty(),new dk(e).mount(this.assetsByLayerList)}attachEvents(){this.close.click(()=>{this.state.trigger(J.CloseLayerView)})}}var Wt=(r=>(r[r.Solid=0]="Solid",r[r.Gradient=1]="Gradient",r[r.Radial=2]="Radial",r[r.Angular=3]="Angular",r))(Wt||{}),sr=(r=>(r[r.Center=0]="Center",r[r.Inside=1]="Inside",r[r.Outside=2]="Outside",r))(sr||{}),Lt=(r=>(r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right",r[r.Justified=3]="Justified",r))(Lt||{}),kr=(r=>(r[r.Normal=0]="Normal",r[r.Oblique=1]="Oblique",r[r.Italic=2]="Italic",r))(kr||{});function zs(r){return r.type===Wt.Solid}function bh(r){return r.type===Wt.Gradient}function wh(r){return r.type===Wt.Radial}function Sh(r){return r.type===Wt.Angular}const gk=r=>typeof r=="string";function mk(r){const{rect:e,selection:t}=r;return{...r,rect:dg(e),selection:dg(t)}}function dg({location:r,size:e}){return{location:{x:Ue(r.x,0),y:Ue(r.y,0)},size:{height:Ue(e.height,0),width:Ue(e.width,0)}}}const Ar=r=>r.a===1?vk(r):yk(r),yk=({r,g:e,b:t,a:i})=>{const n=[r,e,t].map(pg);return n.push(Ue(i,2)),`rgba(${n.join(", ")})`},vk=({r,g:e,b:t})=>`#${[r,e,t].map(pg).map(bk).join("")}`,pg=r=>r>1?r:Ue(r*255,0),bk=r=>{const e=r.toString(16);return e.length===1?`0${e}`:e};function gg(r){switch(r){case kr.Normal:return"normal";case kr.Oblique:case kr.Italic:return"italic";default:return"normal"}}function wk(r){return r?"underline":"none"}function Sk(r){switch(r){case sr.Center:return"center";case sr.Inside:return"inside";case sr.Outside:return"outside";default:return"center"}}function xk(r){switch(r){case sr.Inside:return"border-box";default:return}}function xh(r){switch(r){case Lt.Left:return"left";case Lt.Center:return"center";case Lt.Right:return"right";case Lt.Justified:return"justified";default:return"left"}}function Ok(r){const e=fa(r);if(e)return{backgroundColor:e.color,backgroundImage:e.image}}function fa(r){if(Sh(r))return{image:Ck(r)};if(wh(r))return{image:kk(r)};if(bh(r))return{image:Ak(r)};if(zs(r))return{color:Ar(r.color)}}function Ck({center:r,angle:e,stops:t}){const i=`${e}deg`,n=[];for(const o of t)n.push(`${Ar(o.color)} ${o.offset}turn`);const s=n.join(", ");return`conic-gradient(from ${i} at ${r.x}% ${r.y}%, ${s})`}function kk({axis1:r,axis2:e,center:t,stops:i}){const n=[];for(const o of i)n.push(`${Ar(o.color)} ${o.offset}%`);const s=n.join(", ");return`radial-gradient(${r}% ${e}% at ${t.x}% ${t.y}%, ${s})`}function Ak({angle:r,stops:e}){const t=`${r}deg`,i=[];for(const s of e)i.push(`${Ar(s.color)} ${s.offset}%`);const n=i.join(", ");return`linear-gradient(${t}, ${n})`}function mg(r){if(!r||r.length===0)return;const e=[];for(const t of r){if(!t.on)continue;const i=t.inner?"inset ":"",n=`${t.offsetX}px`,s=`${t.offsetY}px`,o=`${t.blurRadius}px`,a=`${t.spreadRadius}px`,l=Ar(t.color);e.push(`${i}${n} ${s} ${o} ${a} ${l}`)}if(e.length!==0)return e.join(", ")}function Pk(r){const{borderWidth:e,borderStyle:t,borderFill:i}=r;if(!e||e===0||e==="0")return;const n=`${e}px`,s=t||"solid";let o=null;if(i!==void 0&&i[0]!==void 0){const a=fa(i[0]);o=a&&a.color?a.color:null}return o?`${n} ${s} ${o}`:`${n} ${s}`}function _k(r){return Number(r)>0?`${r}px`:r}function Ek(r){return gk(r)?r:`${r}px`}function Tk(r){return`${r.top}px ${r.right}px ${r.bottom}px ${r.left}px`}class da{constructor(e,t){A(this,"element",$("<div id='handoffFillsList'>"));this.setFills(e),t&&this.mount(t)}setFills(e){for(const t of e)this.addFill(t)}addFill(e){if(zs(e))this.addFillColor(e.color);else if(bh(e)||wh(e)||Sh(e))for(const t of e.stops)this.addFillColor(t.color)}mount(e){this.element.appendTo(e)}addFillColor(e){const t=this.newFill(),i=Ar(e);t.find(".handoffFillSample").css("background-color",i),e.r===1&&e.g===1&&e.b===1?t.find(".handoffFillSample").css("border","1px solid #979797"):t.find(".handoffFillSample").css("border","1px solid transparent"),t.find(".handoffFillSampleValue").text(i),t.appendTo(this.element)}newFill(){return $(`
<div class="handoffFill">
  <div class="handoffFillSample"></div> <span class="handoffFillSampleValue handoffLayerValue"></span>
</div>`)}}class Ik{constructor(e,t){A(this,"close",Cp());A(this,"artboardColors",$("<div id='handoffArtboardColors' style='display: none;'>").append(this.close));A(this,"container",$("<div id='handoffArtboardFillsList'>"));this.state=e,new kp("Colors",this.container).mount(this.artboardColors),t&&this.mount(t)}mount(e){this.attachEvents(),this.artboardColors.appendTo(e)}set(e){this.container.empty(),new da(e).mount(this.container)}show(){this.artboardColors.show()}hide(){this.artboardColors.hide()}attachEvents(){this.close.click(()=>{this.state.trigger(J.CloseLayerView)})}}class Rk{constructor(){A(this,"element",$(`
<div id='handoffLayerAssetsSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>
    <span>Assets</span>
    <div class='download-all-assets-container'>
      <button type='button' class='handoff-download-btn'>Download All</button>
    </div>
  </div>

  <div class='handoffLayerSectionBody'>

  </div>
</div>
  `));A(this,"container",this.element.find(".handoffLayerSectionBody"));A(this,"downloadAllAssetsBtn",this.element.find(".handoff-download-btn"));A(this,"assetGroups",[])}mount(e){this.downloadAllAssetsBtn.on("click",this.downloadAll.bind(this)),this.element.appendTo(e)}set(e){this.setLayerAssets(e.assets,e.rect);const t=e.assets.length>0;this.element.toggle(t)}setLayerAssets(e,t){e.length>1?this.downloadAllAssetsBtn.show():this.downloadAllAssetsBtn.hide(),this.container.empty(),this.assetGroups=e;const i=new vh(e);i.mount(this.container),i.setSize(t.size)}downloadAll(){const e=this.assetGroups.map(i=>i.assets),t=[].concat(...e);return hg(t)}}class Dk{constructor(){A(this,"element",$(`
<div id='handoffLayerBordersSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Border</div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Width: <span id='handoffBorderWidth' class='handoffLayerValue'></span>
      </div>
      <div class='handoffLayerViewCell'>
        Position: <span id='handoffBorderAlignment' class='handoffLayerValue'></span>
      </div>
    </div>
    <div class='handoffLayerViewRow'>
      <div id='handoffFillsListContainer' class='handoffLayerViewCell'>
      </div>
    </div>
  </div>
</div>
  `));A(this,"borderWidth",this.element.find("#handoffBorderWidth"));A(this,"borderAlignment",this.element.find("#handoffBorderAlignment"));A(this,"container",this.element.find("#handoffFillsListContainer"))}mount(e){this.element.appendTo(e)}set(e){this.setBorder(e.style),e.style.borderFill&&this.setFills(e.style.borderFill)}setBorder({borderWidth:e,borderAlignment:t}){const i=!!(e&&Number(e)>0);if(e!==void 0){let n=e;(typeof e=="number"||!e.endsWith("px"))&&(n=`${e}px`),this.borderWidth.text(n)}t!==void 0&&this.borderAlignment.text(Sk(t)),this.element.toggle(i)}setFills(e){this.container.empty(),new da(e).mount(this.container)}}class yg{constructor(){A(this,"element",$(`
<div class='handoff-copy-to-clipboard'>
  <div class='copy-to-clipboard-toast'>Copied To Clipboard</div>
  <button type="button" title="Copy to clipboard" class="copy-to-clipboard-btn">
  </button>
</div>
  `));A(this,"button",this.element.find(".copy-to-clipboard-btn"));A(this,"toast",this.element.find(".copy-to-clipboard-toast"));A(this,"text")}mount(e){this.toast.hide(),this.element.appendTo(e),this.button.on("click",this.copyToClipboard.bind(this))}setText(e){this.text=e}async copyToClipboard(){this.text!==void 0&&await KS(this.text)&&(this.toast.show(),await Rd(2e3),this.toast.hide())}}class $k{constructor(){A(this,"element",$(`
<div id='handoffLayerContentSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>
    <span>Content</span>
    <div class='copy-to-clipboard-container'></div>
  </div>
  <div class='handoffLayerSectionBody handoffLayerSectionContentBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        <div class='handoffTextContentContainer'>
          <div id='handoffTextContent' class='handoffLayerValue'></div>
        </div>
      </div>
    </div>
  </div>
</div>
  `));A(this,"textContent",this.element.find("#handoffTextContent"));A(this,"copyToClipboardContainer",this.element.find(".copy-to-clipboard-container"));A(this,"copyToClipboard");this.copyToClipboard=new yg}mount(e){this.copyToClipboard.mount(this.copyToClipboardContainer),this.element.appendTo(e)}set(e){this.setContent(e.style.text)}setContent(e){const t=!!e;e&&(this.copyToClipboard.setText(e),e.indexOf(`
`)<0?this.textContent.text(e):(this.textContent.text(""),e.split(`
`).forEach(n=>{n?$(`<p>${n}</p>`).appendTo(this.textContent):this.textContent.append($("<br/>"))}))),this.element.toggle(t)}}const vg=1024;let Lk=0,Oh=class{constructor(e,t){this.from=e,this.to=t}};class Se{constructor(e={}){this.id=Lk++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Mt.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Se.closedBy=new Se({deserialize:r=>r.split(" ")}),Se.openedBy=new Se({deserialize:r=>r.split(" ")}),Se.group=new Se({deserialize:r=>r.split(" ")}),Se.contextHash=new Se({perNode:!0}),Se.lookAhead=new Se({perNode:!0}),Se.mounted=new Se({perNode:!0});const Mk=Object.create(null);class Mt{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):Mk,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new Mt(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Se.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(Se.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}}Mt.none=new Mt("",Object.create(null),0,8);class Ch{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let n=null;for(let s of e){let o=s(i);o&&(n||(n=Object.assign({},i.props)),n[o[0].id]=o[1])}t.push(n?new Mt(i.name,n,i.id,i.flags):i)}return new Ch(t)}}const pa=new WeakMap,bg=new WeakMap;var ht;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(ht||(ht={}));class et{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(Se.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ya(this.topNode,e)}cursorAt(e,t=0,i=0){let n=pa.get(this)||this.topNode,s=new ya(n);return s.moveTo(e,t),pa.set(this,s._tree),s}get topNode(){return new or(this,0,0,null)}resolve(e,t=0){let i=Hn(pa.get(this)||this.topNode,e,t,!1);return pa.set(this,i),i}resolveInner(e,t=0){let i=Hn(bg.get(this)||this.topNode,e,t,!0);return bg.set(this,i),i}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|ht.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=n&&(o.type.isAnonymous||t(o)!==!1)){if(o.firstChild())continue;a=!0}for(;a&&i&&!o.type.isAnonymous&&i(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Ph(Mt.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new et(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new et(Mt.none,t,i,n)))}static build(e){return Nk(e)}}et.empty=new et(Mt.none,[],[],0);class kh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new kh(this.buffer,this.index)}}class qi{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Mt.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(wg(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new qi(s,o,this.set)}}function wg(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Sg(r,e){let t=r.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}function Hn(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof or&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:ht.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof or&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}class or{constructor(e,t,i,n){this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],u=l[e]+o.from;if(wg(n,i,u,u+h.length)){if(h instanceof qi){if(s&ht.ExcludeBuffers)continue;let f=h.findChild(0,h.buffer.length,t,i-u,n);if(f>-1)return new Pr(new Bk(o,h,e,u),null,f)}else if(s&ht.IncludeAnonymous||!h.type.isAnonymous||Ah(h)){let f;if(!(s&ht.IgnoreMounts)&&h.props&&(f=h.prop(Se.mounted))&&!f.overlay)return new or(f.tree,u,e,o);let d=new or(h,u,e,o);return s&ht.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&ht.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&ht.IgnoreOverlays)&&(n=this._tree.prop(Se.mounted))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new or(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new ya(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Hn(this,e,t,!1)}resolveInner(e,t=0){return Hn(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Sg(this,e)}getChild(e,t=null,i=null){let n=ga(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return ga(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return ma(this,e)}}function ga(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(;!n.type.is(t);)if(!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function ma(r,e,t=e.length-1){for(let i=r.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class Bk{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}}class Pr{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Pr(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&ht.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Pr(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Pr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Pr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new ya(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new et(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Hn(this,e,t,!1)}resolveInner(e,t=0){return Hn(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Sg(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let n=ga(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return ga(this,e,t,i)}get node(){return this}matchContext(e){return ma(this,e)}}class ya{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof or)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof or?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&ht.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ht.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ht.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&ht.IncludeAnonymous||a instanceof qi||!a.type.isAnonymous||Ah(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new Pr(this.buffer,t,this.stack[n]);return this.bufferNode=new Pr(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return ma(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return ma(this.node,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}}function Ah(r){return r.children.some(e=>e instanceof qi||!e.type.isAnonymous||Ah(e))}function Nk(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=vg,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new kh(t,t.length):t,l=i.types,c=0,h=0;function u(_,T,R,D,j){let{id:M,start:G,end:ie,size:w}=a,C=h;for(;w<0;)if(a.next(),w==-1){let re=s[M];R.push(re),D.push(G-_);return}else if(w==-3){c=M;return}else if(w==-4){h=M;return}else throw new RangeError(`Unrecognized record size: ${w}`);let m=l[M],L,Y,X=G-_;if(ie-G<=n&&(Y=g(a.pos-T,j))){let re=new Uint16Array(Y.size-Y.skip),H=a.pos-Y.size,te=re.length;for(;a.pos>H;)te=v(Y.start,re,te);L=new qi(re,ie-Y.start,i),X=Y.start-_}else{let re=a.pos-w;a.next();let H=[],te=[],F=M>=o?M:-1,B=0,ue=ie;for(;a.pos>re;)F>=0&&a.id==F&&a.size>=0?(a.end<=ue-n&&(d(H,te,G,B,a.end,ue,F,C),B=H.length,ue=a.end),a.next()):u(G,re,H,te,F);if(F>=0&&B>0&&B<H.length&&d(H,te,G,B,G,ue,F,C),H.reverse(),te.reverse(),F>-1&&B>0){let ae=f(m);L=Ph(m,H,te,0,H.length,0,ie-G,ae,ae)}else L=p(m,H,te,ie-G,C-ie)}R.push(L),D.push(X)}function f(_){return(T,R,D)=>{let j=0,M=T.length-1,G,ie;if(M>=0&&(G=T[M])instanceof et){if(!M&&G.type==_&&G.length==D)return G;(ie=G.prop(Se.lookAhead))&&(j=R[M]+G.length+ie)}return p(_,T,R,D,j)}}function d(_,T,R,D,j,M,G,ie){let w=[],C=[];for(;_.length>D;)w.push(_.pop()),C.push(T.pop()+R-j);_.push(p(i.types[G],w,C,M-j,ie-M)),T.push(j-R)}function p(_,T,R,D,j=0,M){if(c){let G=[Se.contextHash,c];M=M?[G].concat(M):[G]}if(j>25){let G=[Se.lookAhead,j];M=M?[G].concat(M):[G]}return new et(_,T,R,D,M)}function g(_,T){let R=a.fork(),D=0,j=0,M=0,G=R.end-n,ie={size:0,start:0,skip:0};e:for(let w=R.pos-_;R.pos>w;){let C=R.size;if(R.id==T&&C>=0){ie.size=D,ie.start=j,ie.skip=M,M+=4,D+=4,R.next();continue}let m=R.pos-C;if(C<0||m<w||R.start<G)break;let L=R.id>=o?4:0,Y=R.start;for(R.next();R.pos>m;){if(R.size<0)if(R.size==-3)L+=4;else break e;else R.id>=o&&(L+=4);R.next()}j=Y,D+=C,M+=L}return(T<0||D==_)&&(ie.size=D,ie.start=j,ie.skip=M),ie.size>4?ie:void 0}function v(_,T,R){let{id:D,start:j,end:M,size:G}=a;if(a.next(),G>=0&&D<o){let ie=R;if(G>4){let w=a.pos-(G-4);for(;a.pos>w;)R=v(_,T,R)}T[--R]=ie,T[--R]=M-_,T[--R]=j-_,T[--R]=D}else G==-3?c=D:G==-4&&(h=D);return R}let y=[],S=[];for(;a.pos>0;)u(r.start||0,r.bufferStart||0,y,S,-1);let k=(e=r.length)!==null&&e!==void 0?e:y.length?S[0]+y[0].length:0;return new et(l[r.topID],y.reverse(),S.reverse(),k)}const xg=new WeakMap;function va(r,e){if(!r.isAnonymous||e instanceof qi||e.type!=r)return 1;let t=xg.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof et)){t=1;break}t+=va(r,i)}xg.set(e,t)}return t}function Ph(r,e,t,i,n,s,o,a,l){let c=0;for(let p=i;p<n;p++)c+=va(r,e[p]);let h=Math.ceil(c*1.5/8),u=[],f=[];function d(p,g,v,y,S){for(let k=v;k<y;){let _=k,T=g[k],R=va(r,p[k]);for(k++;k<y;k++){let D=va(r,p[k]);if(R+D>=h)break;R+=D}if(k==_+1){if(R>h){let D=p[_];d(D.children,D.positions,0,D.children.length,g[_]+S);continue}u.push(p[_])}else{let D=g[k-1]+p[k-1].length-T;u.push(Ph(r,p,g,_,k,T,D,null,l))}f.push(T+S-s)}}return d(e,t,i,n,0),(a||l)(u,f,o)}class Fk{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof Pr?this.setBuffer(e.context.buffer,e.index,t):e instanceof or&&this.map.set(e.tree,t)}get(e){return e instanceof Pr?this.getBuffer(e.context.buffer,e.index):e instanceof or?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ki{constructor(e,t,i,n,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=n,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let n=[new Ki(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&n.push(s);return n}static applyChanges(e,t,i=128){if(!t.length)return e;let n=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let h=a<t.length?t[a]:null,u=h?h.fromA:1e9;if(u-l>=i)for(;o&&o.from<u;){let f=o;if(l>=f.from||u<=f.to||c){let d=Math.max(f.from,l)-c,p=Math.min(f.to,u)-c;f=d>=p?null:new Ki(d,p,f.tree,f.offset+c,a>0,!!h)}if(f&&n.push(f),o.to>u)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,c=h.toA-h.toB}return n}}class Og{startParse(e,t,i){return typeof e=="string"&&(e=new zk(e)),i=i?i.length?i.map(n=>new Oh(n.from,n.to)):[new Oh(0,0)]:[new Oh(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let n=this.startParse(e,t,i);for(;;){let s=n.advance();if(s)return s}}}class zk{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Se({perNode:!0});class ba{constructor(e,t,i,n,s,o,a,l,c,h=0,u){this.p=e,this.stack=t,this.state=i,this.reducePos=n,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=h,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let n=e.parser.context;return new ba(e,[],t,i,i,0,[],0,n?new Cg(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,n=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(n);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(i-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[n])===null||t===void 0)&&t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let h=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-h;if(n<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,f,u+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=s.getGoto(f,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(e,t,i,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,n);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=n}}shift(e,t,i){let n=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,i,4)}}apply(e,t,i){e&65536?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new ba(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Hk(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&n.push(t[s],o);if(this.stack.length<120)for(let s=0;n.length<8&&s<t.length;s+=2){let o=t[s+1];n.some((a,l)=>l&1&&a==o)||n.push(t[s],o)}t=n}let i=[];for(let n=0;n<t.length&&i.length<4;n+=2){let s=t[n+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[n],this.pos),o.score-=200,i.push(o)}return i}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let i=e>>19,n=e&65535,s=this.stack.length-i*3;if(s<0||t.getGoto(this.stack[s],n,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Cg(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Cg{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var kg;(function(r){r[r.Insert=200]="Insert",r[r.Delete=190]="Delete",r[r.Reduce=100]="Reduce",r[r.MaxNext=4]="MaxNext",r[r.MaxInsertStackDepth=300]="MaxInsertStackDepth",r[r.DampenInsertStackDepth=120]="DampenInsertStackDepth",r[r.MinBigReduction=2e3]="MinBigReduction"})(kg||(kg={}));class Hk{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class wa{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new wa(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new wa(this.stack,this.pos,this.index)}}function Sa(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let o=r.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[n++]=s:t=new e(s)}return t}class xa{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Ag=new xa;class Wk{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Ag,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!n)return null;let o=this.ranges[--n];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let o=this.ranges[++n];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,n;if(t>=0&&t<this.chunk.length)i=this.pos+e,n=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Ag,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(i+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return i}}class Wn{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;jk(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Wn.prototype.contextual=Wn.prototype.fallback=Wn.prototype.extend=!1,Wn.prototype.fallback=Wn.prototype.extend=!1;class _h{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function jk(r,e,t,i,n,s){let o=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&r[o];){let c=r[o+1];for(let d=o+3;d<c;d+=2)if((r[d+1]&a)>0){let p=r[d];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||Vk(p,e.token.value,n,s))){e.acceptToken(p);break}}let h=e.next,u=0,f=r[o+2];if(e.next<0&&f>u&&r[c+f*3-3]==65535&&r[c+f*3-3]==65535){o=r[c+f*3-1];continue e}for(;u<f;){let d=u+f>>1,p=c+d+(d<<1),g=r[p],v=r[p+1]||65536;if(h<g)f=d;else if(h>=v)u=d+1;else{o=r[p+2],e.advance();continue e}}break}}function Pg(r,e,t){for(let i=e,n;(n=r[i])!=65535;i++)if(n==t)return i-e;return-1}function Vk(r,e,t,i){let n=Pg(t,i,e);return n<0||Pg(t,i,r)<n}const ar=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let Eh=null;var _g;(function(r){r[r.Margin=25]="Margin"})(_g||(_g={}));function Eg(r,e,t){let i=r.cursor(ht.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(r.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:r.length}}class Uk{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Eg(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Eg(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],n=this.index[t];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],o=this.start[t]+i.positions[n];if(o>e)return this.nextStart=o,null;if(s instanceof et){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Se.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class Xk{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new xa)}getActions(e){let t=0,i=null,{parser:n}=e.p,{tokenizers:s}=n,o=n.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let h=s[c],u=this.tokens[c];if(!(i&&!h.fallback)&&((h.contextual||u.start!=e.pos||u.mask!=o||u.context!=a)&&(this.updateCachedToken(u,h,e),u.mask=o,u.context=a),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),u.value!=0)){let f=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!h.extend&&(i=u,t>f))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new xa,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new xa,{pos:i,p:n}=e;return t.start=i,t.end=Math.min(i+1,n.stream.end),t.value=i==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,i){let n=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(n,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=i,n}addActions(e,t,i,n){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Yr(a,c+2);else{n==0&&a[c+1]==2&&(n=this.putAction(Yr(a,c+2),t,i,n));break}a[c]==t&&(n=this.putAction(Yr(a,c+1),t,i,n))}return n}}var Tg;(function(r){r[r.Distance=5]="Distance",r[r.MaxRemainingPerStep=3]="MaxRemainingPerStep",r[r.MinBufferLengthPrune=500]="MinBufferLengthPrune",r[r.ForceReduceLimit=10]="ForceReduceLimit",r[r.CutDepth=15e3]="CutDepth",r[r.CutTo=9e3]="CutTo",r[r.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",r[r.MaxStackCount=12]="MaxStackCount"})(Tg||(Tg={}));class Gk{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Wk(t,n),this.tokens=new Xk(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[ba.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new Uk(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{n||(n=[],s=[]),n.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=n&&Yk(n);if(o)return this.stackToTree(o);if(this.parser.strict)throw ar&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&n){let o=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(o)return this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let n=e.pos,{parser:s}=this,o=ar?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,h=c?e.curContext.hash:0;for(let u=this.fragments.nodeAt(n);u;){let f=this.parser.nodeSet.types[u.type.id]==u.type?s.getGoto(e.state,u.type.id):-1;if(f>-1&&u.length&&(!c||(u.prop(Se.contextHash)||0)==h))return e.useNode(u,f),ar&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(u.type.id)})`),!0;if(!(u instanceof et)||u.children.length==0||u.positions[0]>0)break;let d=u.children[0];if(d instanceof et&&u.positions[0]==0)u=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),ar&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let h=l[c++],u=l[c++],f=l[c++],d=c==l.length||!i,p=d?e:e.split();if(p.apply(h,u,f),ar&&console.log(o+this.stackID(p)+` (via ${h&65536?`reduce of ${s.getName(h&65535)}`:"shift"} for ${s.getName(u)} @ ${n}${p==e?"":", split"})`),d)return!0;p.pos>n?t.push(p):i.push(p)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Ig(e,t),!0}}runRecovery(e,t,i){let n=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],h=ar?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),ar&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let u=a.split(),f=h;for(let d=0;u.forceReduce()&&d<10&&(ar&&console.log(f+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,i));d++)ar&&(f=this.stackID(u)+" -> ");for(let d of a.recoverByInsert(l))ar&&console.log(h+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),ar&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Ig(a,i)):(!n||n.score<a.score)&&(n=a)}return n}stackToTree(e){return e.close(),et.build({buffer:wa.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Eh||(Eh=new WeakMap)).get(e);return t||Eh.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Ig(r,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==r.pos&&i.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class Qk{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class Oa extends Og{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),n=[];for(let a=0;a<t.length;a++)n.push([]);function s(a,l,c){n[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Se[l]);for(let c=1;c<a.length;){let h=a[c++];if(h>=0)s(h,l,a[c++]);else{let u=a[c+-h];for(let f=-h;f>0;f--)s(a[c++],l,u);c++}}}this.nodeSet=new Ch(t.map((a,l)=>Mt.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:n[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=vg;let o=Sa(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Rg),this.states=Sa(e.states,Uint32Array),this.data=Sa(e.stateData),this.goto=Sa(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Wn(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let n=new Gk(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}getGoto(e,t,i=!1){let n=this.goto;if(t>=n[0])return-1;for(let s=n[t+1];;){let o=n[s++],a=o&1,l=n[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(n[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=Yr(i,s+2)];else{if(i[s+1]==2)return Yr(i,s+2);break}if(o==t||o==0)return Yr(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Yr(this.data,i+2);else return!1;if(t==Yr(this.data,i+1))return!0}}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Yr(this.data,i+2);else break;if(!(this.data[i+2]&1)){let n=this.data[i+1];t.some((s,o)=>o&1&&s==n)||t.push(this.data[i],n)}}return t}configure(e){let t=Object.assign(Object.create(Oa.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let n=e.tokenizers.find(s=>s.from==i);return n?n.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[n]=Rg(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let n=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[a]=1;return new Qk(e,i,n)}static deserialize(e){return new Oa(e)}}function Yr(r,e){return r[e]|r[e+1]<<16}function Yk(r){let e=null;for(let t of r){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Rg(r){if(r.external){let e=r.extend?1:0;return(t,i)=>r.external(t,i)<<1|e}return r.get}let qk=0;class _r{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=qk++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new _r([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Ca;return t=>t.modified.indexOf(e)>-1?t:Ca.get(t.base||t,t.modified.concat(e).sort((i,n)=>i.id-n.id))}}let Kk=0;class Ca{constructor(){this.instances=[],this.id=Kk++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&Zk(t,a.modified));if(i)return i;let n=[],s=new _r(n,e,t);for(let a of t)a.instances.push(s);let o=Jk(t);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(Ca.get(a,l));return s}}function Zk(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function Jk(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function Dg(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let n of t.split(" "))if(n){let s=[],o=2,a=n;for(let u=0;;){if(a=="..."&&u>0&&u+3==n.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+n);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),u+=f[0].length,u==n.length)break;let d=n[u++];if(u==n.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+n);a=n.slice(u)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+n);let h=new ka(i,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return $g.add(e)}const $g=new Se;class ka{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}ka.empty=new ka([],2,null);function Lg(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function eA(r,e){let t=null;for(let i of r){let n=i.style(e);n&&(t=t?t+" "+n:n)}return t}function tA(r,e,t,i=0,n=r.length){let s=new rA(i,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),i,n,"",s.highlighters),s.flush(n)}class rA{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,n,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let c=n,h=iA(e)||ka.empty,u=eA(s,h.tags);if(u&&(c&&(c+=" "),c+=u,h.mode==1&&(n+=(n?" ":"")+u)),this.startSpan(e.from,c),h.opaque)return;let f=e.tree&&e.tree.prop(Se.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+a,1),p=this.highlighters.filter(v=>!v.scope||v.scope(f.tree.type)),g=e.firstChild();for(let v=0,y=a;;v++){let S=v<f.overlay.length?f.overlay[v]:null,k=S?S.from+a:l,_=Math.max(t,y),T=Math.min(i,k);if(_<T&&g)for(;e.from<T&&(this.highlightRange(e,_,T,n,s),this.startSpan(Math.min(T,e.to),c),!(e.to>=k||!e.nextSibling())););if(!S||k>i)break;y=S.to+a,y>t&&(this.highlightRange(d.cursor(),Math.max(t,S.from+a),Math.min(i,y),n,p),this.startSpan(y,c))}g&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,n,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function iA(r){let e=r.type.prop($g);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const he=_r.define,Aa=he(),yi=he(),Mg=he(yi),Bg=he(yi),vi=he(),Pa=he(vi),Th=he(vi),Er=he(),Zi=he(Er),Tr=he(),Ir=he(),Ih=he(),Hs=he(Ih),_a=he(),z={comment:Aa,lineComment:he(Aa),blockComment:he(Aa),docComment:he(Aa),name:yi,variableName:he(yi),typeName:Mg,tagName:he(Mg),propertyName:Bg,attributeName:he(Bg),className:he(yi),labelName:he(yi),namespace:he(yi),macroName:he(yi),literal:vi,string:Pa,docString:he(Pa),character:he(Pa),attributeValue:he(Pa),number:Th,integer:he(Th),float:he(Th),bool:he(vi),regexp:he(vi),escape:he(vi),color:he(vi),url:he(vi),keyword:Tr,self:he(Tr),null:he(Tr),atom:he(Tr),unit:he(Tr),modifier:he(Tr),operatorKeyword:he(Tr),controlKeyword:he(Tr),definitionKeyword:he(Tr),moduleKeyword:he(Tr),operator:Ir,derefOperator:he(Ir),arithmeticOperator:he(Ir),logicOperator:he(Ir),bitwiseOperator:he(Ir),compareOperator:he(Ir),updateOperator:he(Ir),definitionOperator:he(Ir),typeOperator:he(Ir),controlOperator:he(Ir),punctuation:Ih,separator:he(Ih),bracket:Hs,angleBracket:he(Hs),squareBracket:he(Hs),paren:he(Hs),brace:he(Hs),content:Er,heading:Zi,heading1:he(Zi),heading2:he(Zi),heading3:he(Zi),heading4:he(Zi),heading5:he(Zi),heading6:he(Zi),contentSeparator:he(Er),list:he(Er),quote:he(Er),emphasis:he(Er),strong:he(Er),link:he(Er),monospace:he(Er),strikethrough:he(Er),inserted:he(),deleted:he(),changed:he(),invalid:he(),meta:_a,documentMeta:he(_a),annotation:he(_a),processingInstruction:he(_a),definition:_r.defineModifier(),constant:_r.defineModifier(),function:_r.defineModifier(),standard:_r.defineModifier(),local:_r.defineModifier(),special:_r.defineModifier()};Lg([{tag:z.link,class:"tok-link"},{tag:z.heading,class:"tok-heading"},{tag:z.emphasis,class:"tok-emphasis"},{tag:z.strong,class:"tok-strong"},{tag:z.keyword,class:"tok-keyword"},{tag:z.atom,class:"tok-atom"},{tag:z.bool,class:"tok-bool"},{tag:z.url,class:"tok-url"},{tag:z.labelName,class:"tok-labelName"},{tag:z.inserted,class:"tok-inserted"},{tag:z.deleted,class:"tok-deleted"},{tag:z.literal,class:"tok-literal"},{tag:z.string,class:"tok-string"},{tag:z.number,class:"tok-number"},{tag:[z.regexp,z.escape,z.special(z.string)],class:"tok-string2"},{tag:z.variableName,class:"tok-variableName"},{tag:z.local(z.variableName),class:"tok-variableName tok-local"},{tag:z.definition(z.variableName),class:"tok-variableName tok-definition"},{tag:z.special(z.variableName),class:"tok-variableName2"},{tag:z.definition(z.propertyName),class:"tok-propertyName tok-definition"},{tag:z.typeName,class:"tok-typeName"},{tag:z.namespace,class:"tok-namespace"},{tag:z.className,class:"tok-className"},{tag:z.macroName,class:"tok-macroName"},{tag:z.propertyName,class:"tok-propertyName"},{tag:z.operator,class:"tok-operator"},{tag:z.comment,class:"tok-comment"},{tag:z.meta,class:"tok-meta"},{tag:z.invalid,class:"tok-invalid"},{tag:z.punctuation,class:"tok-punctuation"}]);const nA=94,Ng=1,sA=95,oA=96,Fg=2,zg=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],aA=58,lA=40,Hg=95,cA=91,Ea=45,hA=46,uA=35,fA=37;function Ta(r){return r>=65&&r<=90||r>=97&&r<=122||r>=161}function dA(r){return r>=48&&r<=57}const pA=new _h((r,e)=>{for(let t=!1,i=0,n=0;;n++){let{next:s}=r;if(Ta(s)||s==Ea||s==Hg||t&&dA(s))!t&&(s!=Ea||n>0)&&(t=!0),i===n&&s==Ea&&i++,r.advance();else{t&&r.acceptToken(s==lA?sA:i==2&&e.canShift(Fg)?Fg:oA);break}}}),gA=new _h(r=>{if(zg.includes(r.peek(-1))){let{next:e}=r;(Ta(e)||e==Hg||e==uA||e==hA||e==cA||e==aA||e==Ea)&&r.acceptToken(nA)}}),mA=new _h(r=>{if(!zg.includes(r.peek(-1))){let{next:e}=r;if(e==fA&&(r.advance(),r.acceptToken(Ng)),Ta(e)){do r.advance();while(Ta(r.next));r.acceptToken(Ng)}}}),yA=Dg({"AtKeyword import charset namespace keyframes media supports":z.definitionKeyword,"from to selector":z.keyword,NamespaceName:z.namespace,KeyframeName:z.labelName,TagName:z.tagName,ClassName:z.className,PseudoClassName:z.constant(z.className),IdName:z.labelName,"FeatureName PropertyName":z.propertyName,AttributeName:z.attributeName,NumberLiteral:z.number,KeywordQuery:z.keyword,UnaryQueryOp:z.operatorKeyword,"CallTag ValueName":z.atom,VariableName:z.variableName,Callee:z.operatorKeyword,Unit:z.unit,"UniversalSelector NestingSelector":z.definitionOperator,MatchOp:z.compareOperator,"ChildOp SiblingOp, LogicOp":z.logicOperator,BinOp:z.arithmeticOperator,Important:z.modifier,Comment:z.blockComment,ParenthesizedContent:z.special(z.name),ColorLiteral:z.color,StringLiteral:z.string,":":z.punctuation,"PseudoOp #":z.derefOperator,"; ,":z.separator,"( )":z.paren,"[ ]":z.squareBracket,"{ }":z.brace}),vA={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},bA={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},wA={__proto__:null,not:128,only:128,from:158,to:160},SA=Oa.deserialize({version:14,states:"7WQYQ[OOO#_Q[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO#fQ[O'#CfO$YQXO'#CaO$aQ[O'#ChO$lQ[O'#DPO$qQ[O'#DTOOQP'#Ed'#EdO$vQdO'#DeO%bQ[O'#DrO$vQdO'#DtO%sQ[O'#DvO&OQ[O'#DyO&TQ[O'#EPO&cQ[O'#EROOQS'#Ec'#EcOOQS'#ET'#ETQYQ[OOO&jQXO'#CdO'_QWO'#DaO'dQWO'#EjO'oQ[O'#EjQOQWOOOOQP'#Cg'#CgOOQP,59Q,59QO#fQ[O,59QO'yQ[O'#EWO(eQWO,58{O(mQ[O,59SO$lQ[O,59kO$qQ[O,59oO'yQ[O,59sO'yQ[O,59uO'yQ[O,59vO(xQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)PQWO,59SO)UQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)ZQ`O,59oOOQS'#Cp'#CpO$vQdO'#CqO)cQvO'#CsO*pQtO,5:POOQO'#Cx'#CxO)UQWO'#CwO+UQWO'#CyOOQS'#Eg'#EgOOQO'#Dh'#DhO+ZQ[O'#DoO+iQWO'#EkO&TQ[O'#DmO+wQWO'#DpOOQO'#El'#ElO(hQWO,5:^O+|QpO,5:`OOQS'#Dx'#DxO,UQWO,5:bO,ZQ[O,5:bOOQO'#D{'#D{O,cQWO,5:eO,hQWO,5:kO,pQWO,5:mOOQS-E8R-E8RO$vQdO,59{O,xQ[O'#EYO-VQWO,5;UO-VQWO,5;UOOQP1G.l1G.lO-|QXO,5:rOOQO-E8U-E8UOOQS1G.g1G.gOOQP1G.n1G.nO)PQWO1G.nO)UQWO1G.nOOQP1G/V1G/VO.ZQ`O1G/ZO.tQXO1G/_O/[QXO1G/aO/rQXO1G/bO0YQWO,59zO0_Q[O'#DOO0fQdO'#CoOOQP1G/Z1G/ZO$vQdO1G/ZO0mQpO,59]OOQS,59_,59_O$vQdO,59aO0uQWO1G/kOOQS,59c,59cO0zQ!bO,59eO1SQWO'#DhO1_QWO,5:TO1dQWO,5:ZO&TQ[O,5:VO&TQ[O'#EZO1lQWO,5;VO1wQWO,5:XO'yQ[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2YQWO1G/|O2_QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO2mQtO1G/gOOQO,5:t,5:tO3TQ[O,5:tOOQO-E8W-E8WO3bQWO1G0pOOQP7+$Y7+$YOOQP7+$u7+$uO$vQdO7+$uOOQS1G/f1G/fO3mQXO'#EiO3tQWO,59jO3yQtO'#EUO4nQdO'#EfO4xQWO,59ZO4}QpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5VQWO1G/PO$vQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5[QWO,5:uOOQO-E8X-E8XO5jQXO1G/vOOQS7+%h7+%hO5qQYO'#CsO(hQWO'#E[O5yQdO,5:hOOQS,5:h,5:hO6XQtO'#EXO$vQdO'#EXO7VQdO7+%ROOQO7+%R7+%ROOQO1G0`1G0`O7jQpO<<HaO7rQWO,5;TOOQP1G/U1G/UOOQS-E8S-E8SO$vQdO'#EVO7zQWO,5;QOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO8SQdO7+%ZOOQO7+%b7+%bOOQS,5:v,5:vOOQS-E8Y-E8YOOQS1G0S1G0SO8ZQtO,5:sOOQS-E8V-E8VOOQO<<Hm<<HmOOQPAN={AN={O9XQdO,5:qOOQO-E8T-E8TOOQO<<Hu<<Hu",stateData:"9i~O#UOSROS~OUXOXXO]UO^UOtVOxWO!Y`O!ZYO!gZO!i[O!k]O!n^O!t_O#SQO#XSO~OQeOUXOXXO]UO^UOtVOxWO!Y`O!ZYO!gZO!i[O!k]O!n^O!t_O#SdO#XSO~O#P#^P~P!ZO#SiO~O]nO^nOplOtoOxpO|qO!PsO#QrO#XkO~O!RtO~P#kO`zO#RwO#SvO~O#S{O~O#S}O~OQ!WOb!QOf!WOh!WOn!VO#R!TO#S!PO#[!RO~Ob!YO!b![O!e!]O#S!XO!R#_P~Oh!bOn!VO#S!aO~O#S!dO~Ob!YO!b![O!e!]O#S!XO~O!W#_P~P%bO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#QWX#XWX~O]!iO~O!W!jO#P#^X!Q#^X~O#P#^X!Q#^X~P!ZOUXOXXO]UO^UOtVOxWO#SQO#XSO~OplO!RtO~O`!sO#RwO#SvO~O!Q#^P~P!ZOb!zO~Ob!{O~Ov!|Oz!}O~OP#PObgXjgX!WgX!bgX!egX#SgXagXQgXfgXhgXngXpgX!VgX#PgX#RgX#[gXvgX!QgX~Ob!YOj#QO!b![O!e!]O#S!XO!W#_P~Ob#TO~Ob!YO!b![O!e!]O#S#UO~Op#YO!`#XO!R#_X!W#_X~Ob#]O~Oj#QO!W#_O~O!W#`O~Oh#aOn!VO~O!R#bO~O!RtO!`#XO~O!RtO!W#eO~O!W!|X#P!|X!Q!|X~P!ZO!W!jO#P#^a!Q#^a~O]nO^nOtoOxpO|qO!PsO#QrO#XkO~Op!za!R!zaa!za~P-bOv#lOz#mO~O]nO^nOtoOxpO#XkO~Op{i|{i!P{i!R{i#Q{ia{i~P.cOp}i|}i!P}i!R}i#Q}ia}i~P.cOp!Oi|!Oi!P!Oi!R!Oi#Q!Oia!Oi~P.cO!Q#nO~Oa#]P~P'yOa#YP~P$vOa#uOj#QO~O!W#wO~Oh#xOo#xO~O]!^Xa![X!`![X~O]#yO~Oa#zO!`#XO~Op#YO!R#_a!W#_a~O!`#XOp!aa!R!aa!W!aaa!aa~O!W$PO~O!Q$TO!q$RO!r$RO#[$QO~Oj#QOp$VO!V$XO!W!Ti#P!Ti!Q!Ti~P$vO!W!|a#P!|a!Q!|a~P!ZO!W!jO#P#^i!Q#^i~Oa#]X~P#kOa$]O~Oj#QOQ!xXa!xXb!xXf!xXh!xXn!xXp!xX#R!xX#S!xX#[!xX~Op$_Oa#YX~P$vOa$aO~Oj#QOv$bO~Oa$cO~O!`#XOp!}a!R!}a!W!}a~Oa$eO~P-bOP#PO!RgX~O!Q$hO!q$RO!r$RO#[$QO~Oj#QOQ!{Xb!{Xf!{Xh!{Xn!{Xp!{X!V!{X!W!{X#P!{X#R!{X#S!{X#[!{X!Q!{X~Op$VO!V$kO!W!Tq#P!Tq!Q!Tq~P$vOj#QOv$lO~OplOa#]a~Op$_Oa#Ya~Oa$oO~P$vOj#QOQ!{ab!{af!{ah!{an!{ap!{a!V!{a!W!{a#P!{a#R!{a#S!{a#[!{a!Q!{a~Oa!yap!ya~P$vOo#[j!Pj~",goto:",`#aPPPPP#bP#k#zP#k$Z#kPP$aPPP$g$p$pP%SP$pP$p%j%|PPP&f&l#kP&rP#kP&xP#kP#k#kPPP'O'b'oPP#bPP'v'v(Q'vP'vP'v'vP#bP#bP#bP(T#bP(W(ZPP#bP#bP(^(m({)R)])c)m)sPPPPPP)y*SP*o*rP+h+k+q+z_aOPcgt!j#hkXOPcglqrst!j!z#]#hkROPcglqrst!j!z#]#hQjSR!mkQxUR!qnQ!qzQ#S!UR#k!sq!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mp!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mT$R#b$Sq!UY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mp!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mQ!b]R#a!cQyUR!rnQ!qyR#k!rQ|VR!toQ!OWR!upQuTQ!pmQ#^!_Q#d!fQ#e!gR$f$RSfPtQ!lgQ#g!jR$Y#hZePgt!j#ha!^Z_`!S!Y![#X#YR#V!YR!c]R!e^R#c!eQcOSgPtU!hcg#hR#h!jQ#r!{U$^#r$d$mQ$d#yR$m$_Q$`#rR$n$`QmTS!om$[R$[#oQ$W#fR$j$WQ!kfS#i!k#jR#j!lQ#Z!ZR#}#ZQ$S#bR$g$S_bOPcgt!j#h^TOPcgt!j#hQ!nlQ!vqQ!wrQ!xsQ#o!zR$O#]R#s!{Q!SYQ!`[Q#O!QQ#f!i[#q!{#r#y$_$d$mQ#t!}Q#v#QS$U#f$WQ$Z#mR$i$VR#p!zQhPR!ytQ!_ZQ!g`R#R!SU!ZZ`!SQ!f_Q#W!YQ#[![Q#{#XR#|#Y",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule Styles",maxTerm:108,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[yA],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Lq~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Cu![!]Dp!]!^El!^!_$}!_!`E}!`!aF`!a!b$}!b!cG[!c!}$}!}#OHt#O#P$}#P#QIV#Q#R6d#R#T$}#T#UIh#U#c$}#c#dJy#d#o$}#o#pK`#p#q6d#q#rKq#r#sLS#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`Lk<%lO$}W%QSOy%^z;'S%^;'S;=`%o<%lO%^W%cSoWOy%^z;'S%^;'S;=`%o<%lO%^W%rP;=`<%l%^~%zh#U~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#U~oWOX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^^)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^^)sUoWOy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^^*[UoWOy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^^*sUoWOy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^^+[UoWOy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^^+sUoWOy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^^,[UoWOy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^^,sUoWOy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^^-[UoWOy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^^-uS!VUoWOy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.R_/zYtPOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^^0oYoWOy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^^1dYoWOy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^^2ZYfUoWOy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^^3QYfUoWOy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^^3uYoWOy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^^4lYfUoWOy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^^5aYoWOy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^^6WSfUoWOy%^z;'S%^;'S;=`%o<%lO%^Y6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^Y7QSzQoWOy%^z;'S%^;'S;=`%o<%lO%^X7cSXPOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7o_9cSbVOy%^z;'S%^;'S;=`%o<%lO%^~9tOa~_9{UUPjSOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^_:fWjS!PPOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^^;TUoWOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^^;nYoW#[UOy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^^<cYoWOy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^=WUoWOy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^=qUoW#[UOy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^>[[oW#[UOy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^_?VSpVOy%^z;'S%^;'S;=`%o<%lO%^^?hWjSOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^_@VU#XPOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjSOy%^z{@}{;'S%^;'S;=`%o<%lO%^~ASUoWOy@}yzAfz{Bm{;'S@};'S;=`Co<%lO@}~AiTOzAfz{Ax{;'SAf;'S;=`Bg<%lOAf~A{VOzAfz{Ax{!PAf!P!QBb!Q;'SAf;'S;=`Bg<%lOAf~BgOR~~BjP;=`<%lAf~BrWoWOy@}yzAfz{Bm{!P@}!P!QC[!Q;'S@};'S;=`Co<%lO@}~CcSoWR~Oy%^z;'S%^;'S;=`%o<%lO%^~CrP;=`<%l@}^Cz[#[UOy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^XDuU]POy%^z![%^![!]EX!];'S%^;'S;=`%o<%lO%^XE`S^PoWOy%^z;'S%^;'S;=`%o<%lO%^_EqS!WVOy%^z;'S%^;'S;=`%o<%lO%^YFSSzQOy%^z;'S%^;'S;=`%o<%lO%^XFeU|POy%^z!`%^!`!aFw!a;'S%^;'S;=`%o<%lO%^XGOS|PoWOy%^z;'S%^;'S;=`%o<%lO%^XG_WOy%^z!c%^!c!}Gw!}#T%^#T#oGw#o;'S%^;'S;=`%o<%lO%^XHO[!YPoWOy%^z}%^}!OGw!O!Q%^!Q![Gw![!c%^!c!}Gw!}#T%^#T#oGw#o;'S%^;'S;=`%o<%lO%^XHySxPOy%^z;'S%^;'S;=`%o<%lO%^^I[SvUOy%^z;'S%^;'S;=`%o<%lO%^XIkUOy%^z#b%^#b#cI}#c;'S%^;'S;=`%o<%lO%^XJSUoWOy%^z#W%^#W#XJf#X;'S%^;'S;=`%o<%lO%^XJmS!`PoWOy%^z;'S%^;'S;=`%o<%lO%^XJ|UOy%^z#f%^#f#gJf#g;'S%^;'S;=`%o<%lO%^XKeS!RPOy%^z;'S%^;'S;=`%o<%lO%^_KvS!QVOy%^z;'S%^;'S;=`%o<%lO%^ZLXU!PPOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^WLnP;=`<%l$}",tokenizers:[gA,mA,pA,0,1,2,3],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:95,get:r=>vA[r]||-1},{term:56,get:r=>bA[r]||-1},{term:96,get:r=>wA[r]||-1}],tokenPrec:1123});class De{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let n=[];return this.decompose(0,e,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(t,this.length,n,1),Rr.from(n,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Rr.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),n=new Ws(this),s=new Ws(e);for(let o=t,a=t;;){if(n.next(o),s.next(o),o=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(a+=n.value.length,n.done||a>=i)return!0}}iter(e=1){return new Ws(this,e)}iterRange(e,t=this.length){return new jg(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let n=this.line(e).from;i=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Vg(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?De.empty:e.length<=32?new Je(e):Rr.from(Je.split(e,[]))}}class Je extends De{constructor(e,t=xA(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.text[s],a=n+o.length;if((t?i:a)>=e)return new OA(n,a,i,o);n=a+1,i++}}decompose(e,t,i,n){let s=e<=0&&t>=this.length?this:new Je(Wg(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(n&1){let o=i.pop(),a=Ia(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new Je(a,o.length+s.length));else{let l=a.length>>1;i.push(new Je(a.slice(0,l)),new Je(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof Je))return super.replace(e,t,i);let n=Ia(this.text,Ia(i.text,Wg(this.text,0,e)),t),s=this.length+i.length-(t-e);return n.length<=32?new Je(n,s):Rr.from(Je.split(n,[]),s)}sliceString(e,t=this.length,i=`
`){let n="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(n+=i),e<l&&t>s&&(n+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],n=-1;for(let s of e)i.push(s),n+=s.length+1,i.length==32&&(t.push(new Je(i,n)),i=[],n=-1);return n>-1&&t.push(new Je(i,n)),t}}class Rr extends De{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.children[s],a=n+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,n);n=a+1,i=l+1}}decompose(e,t,i,n){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=n&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?i.push(a):a.decompose(e-o,t-o,i,c)}o=l+1}}replace(e,t,i){if(i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>5-1&&l.lines>c>>5+1){let h=this.children.slice();return h[n]=l,new Rr(h,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let n="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(n+=i),e<l&&t>o&&(n+=a.sliceString(e-o,t-o,i)),o=l+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Rr))return 0;let i=0,[n,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,s+=t){if(n==o||s==a)return i;let l=this.children[n],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,t);i+=l.length+1}}static from(e,t=e.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let p of e)p.flatten(d);return new Je(d,t)}let n=Math.max(32,i>>5),s=n<<1,o=n>>1,a=[],l=0,c=-1,h=[];function u(d){let p;if(d.lines>s&&d instanceof Rr)for(let g of d.children)u(g);else d.lines>o&&(l>o||!l)?(f(),a.push(d)):d instanceof Je&&l&&(p=h[h.length-1])instanceof Je&&d.lines+p.lines<=32?(l+=d.lines,c+=d.length+1,h[h.length-1]=new Je(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>n&&f(),l+=d.lines,c+=d.length+1,h.push(d))}function f(){l!=0&&(a.push(h.length==1?h[0]:Rr.from(h,c)),c=-1,l=h.length=0)}for(let d of e)u(d);return f(),a.length==1?a[0]:new Rr(a,t)}}De.empty=new Je([""],0);function xA(r){let e=-1;for(let t of r)e+=t.length+1;return e}function Ia(r,e,t=0,i=1e9){for(let n=0,s=0,o=!0;s<r.length&&n<=i;s++){let a=r[s],l=n+a.length;l>=t&&(l>i&&(a=a.slice(0,i-n)),n<t&&(a=a.slice(t-n)),o?(e[e.length-1]+=a,o=!1):e.push(a)),n=l+1}return e}function Wg(r,e,t){return Ia(r,[""],e,t)}class Ws{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Je?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],o=s>>1,a=n instanceof Je?n.text.length:n.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof Je){let l=n.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Je?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class jg{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Ws(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=i?n:t<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Vg{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:n}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(De.prototype[Symbol.iterator]=function(){return this.iter()},Ws.prototype[Symbol.iterator]=jg.prototype[Symbol.iterator]=Vg.prototype[Symbol.iterator]=function(){return this});class OA{constructor(e,t,i,n){this.from=e,this.to=t,this.number=i,this.text=n}get length(){return this.to-this.from}}let jn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=1;r<jn.length;r++)jn[r]+=jn[r-1];function CA(r){for(let e=1;e<jn.length;e+=2)if(jn[e]>r)return jn[e-1]<=r;return!1}function Ug(r){return r>=127462&&r<=127487}const Xg=8205;function jt(r,e,t=!0,i=!0){return(t?Gg:kA)(r,e,i)}function Gg(r,e,t){if(e==r.length)return e;e&&Qg(r.charCodeAt(e))&&Yg(r.charCodeAt(e-1))&&e--;let i=js(r,e);for(e+=Rh(i);e<r.length;){let n=js(r,e);if(i==Xg||n==Xg||t&&CA(n))e+=Rh(n),i=n;else if(Ug(n)){let s=0,o=e-2;for(;o>=0&&Ug(js(r,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function kA(r,e,t){for(;e>0;){let i=Gg(r,e-2,t);if(i<e)return i;e--}return 0}function Qg(r){return r>=56320&&r<57344}function Yg(r){return r>=55296&&r<56320}function js(r,e){let t=r.charCodeAt(e);if(!Yg(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return Qg(i)?(t-55296<<10)+(i-56320)+65536:t}function Rh(r){return r<65536?1:2}const Dh=/\r\n?|\n/;var Vt=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(Vt||(Vt={}));class Dr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,n=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,n,s),n+=s):n+=o,i+=s}}iterChangedRanges(e,t=!1){$h(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];n<0?e.push(i,n):e.push(n,i)}return new Dr(e)}composeDesc(e){return this.empty?e:e.empty?this:qg(this,e)}mapDesc(e,t=!1){return e.empty?this:Lh(this,e,t)}mapPos(e,t=-1,i=Vt.Simple){let n=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=n+a;if(l<0){if(c>e)return s+(e-n);s+=a}else{if(i!=Vt.Simple&&c>=e&&(i==Vt.TrackDel&&n<e&&c>e||i==Vt.TrackBefore&&n<e||i==Vt.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==n||t<0?s:s+l;s+=l}n=c}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,t=e){for(let i=0,n=0;i<this.sections.length&&n<=t;){let s=this.sections[i++],o=this.sections[i++],a=n+s;if(o>=0&&n<=t&&a>=e)return n<e&&a>t?"cover":!0;n=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+i+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Dr(e)}static create(e){return new Dr(e)}}class st extends Dr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return $h(this,(t,i,n,s,o)=>e=e.replace(n,n+(i-t),o),!1),e}mapDesc(e,t=!1){return Lh(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let n=0,s=0;n<t.length;n+=2){let o=t[n],a=t[n+1];if(a>=0){t[n]=a,t[n+1]=o;let l=n>>1;for(;i.length<l;)i.push(De.empty);i.push(o?e.slice(s,s+o):De.empty)}s+=o}return new st(t,i)}compose(e){return this.empty?e:e.empty?this:qg(this,e,!0)}map(e,t=!1){return e.empty?this:Lh(this,e,t,!0)}iterChanges(e,t=!1){$h(this,e,t)}get desc(){return Dr.create(this.sections)}filter(e){let t=[],i=[],n=[],s=new Vs(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);wt(n,h,-1);let u=s.ins==-1?-1:s.off==0?s.ins:0;wt(t,h,u),u>0&&bi(i,t,s.text),s.forward(h),a+=h}let c=e[o++];for(;a<c;){if(s.done)break e;let h=Math.min(s.len,c-a);wt(t,h,-1),wt(n,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new st(t,i),filtered:Dr.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],n=this.sections[t+1];n<0?e.push(i):n==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let n=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!n.length)return;o<t&&wt(n,t-o,-1);let u=new st(n,s);a=a?a.compose(u.map(a)):u,n=[],s=[],o=0}function c(h){if(Array.isArray(h))for(let u of h)c(u);else if(h instanceof st){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:u,to:f=u,insert:d}=h;if(u>f||u<0||f>t)throw new RangeError(`Invalid change range ${u} to ${f} (in doc of length ${t})`);let p=d?typeof d=="string"?De.of(d.split(i||Dh)):d:De.empty,g=p.length;if(u==f&&g==0)return;u<o&&l(),u>o&&wt(n,u-o,-1),wt(n,f-u,g),bi(s,n,p),o=f}}return c(e),l(!a),a}static empty(e){return new st(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<n;)i.push(De.empty);i[n]=De.of(s.slice(1)),t.push(s[0],i[n].length)}}}return new st(t,i)}static createSet(e,t){return new st(e,t)}}function wt(r,e,t,i=!1){if(e==0&&t<=0)return;let n=r.length-2;n>=0&&t<=0&&t==r[n+1]?r[n]+=e:e==0&&r[n]==0?r[n+1]+=t:i?(r[n]+=e,r[n+1]+=t):r.push(e,t)}function bi(r,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<i;)r.push(De.empty);r.push(t)}}function $h(r,e,t){let i=r.inserted;for(let n=0,s=0,o=0;o<r.sections.length;){let a=r.sections[o++],l=r.sections[o++];if(l<0)n+=a,s+=a;else{let c=n,h=s,u=De.empty;for(;c+=a,h+=l,l&&i&&(u=u.append(i[o-2>>1])),!(t||o==r.sections.length||r.sections[o+1]<0);)a=r.sections[o++],l=r.sections[o++];e(n,c,s,h,u),n=c,s=h}}}function Lh(r,e,t,i=!1){let n=[],s=i?[]:null,o=new Vs(r),a=new Vs(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);wt(n,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(wt(n,a.ins,-1);c;){let h=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=h&&(wt(n,0,o.ins),s&&bi(s,n,o.text),l=o.i),o.forward(h),c-=h}a.next()}else if(o.ins>=0){let c=0,h=o.len;for(;h;)if(a.ins==-1){let u=Math.min(h,a.len);c+=u,h-=u,a.forward(u)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;wt(n,c,l<o.i?o.ins:0),s&&l<o.i&&bi(s,n,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?st.createSet(n,s):Dr.create(n);throw new Error("Mismatched change set lengths")}}function qg(r,e,t=!1){let i=[],n=t?[]:null,s=new Vs(r),o=new Vs(e);for(let a=!1;;){if(s.done&&o.done)return n?st.createSet(i,n):Dr.create(i);if(s.ins==0)wt(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)wt(i,0,o.ins,a),n&&bi(n,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;wt(i,l,h,a),n&&h&&bi(n,i,o.text)}else o.ins==-1?(wt(i,s.off?0:s.len,l,a),n&&bi(n,i,s.textBit(l))):(wt(i,s.off?0:s.len,o.off?0:o.ins,a),n&&!o.off&&bi(n,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}}}class Vs{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?De.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?De.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ji{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,n;return this.empty?i=n=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new Ji(i,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return ce.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return ce.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ce.range(e.anchor,e.head)}static create(e,t,i){return new Ji(e,t,i)}}class ce{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:ce.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ce([this.main],0)}addRange(e,t=!0){return ce.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,ce.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ce(e.ranges.map(t=>Ji.fromJSON(t)),e.main)}static single(e,t=e){return new ce([ce.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=i:s.from<i)return ce.normalized(e.slice(),t);i=s.to}return new ce(e,t)}static cursor(e,t=0,i,n){return Ji.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(n??33554431)<<5)}static range(e,t,i,n){let s=(i??33554431)<<5|(n==null?3:Math.min(2,n));return t<e?Ji.create(t,e,24|s):Ji.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((n,s)=>n.from-s.from),t=e.indexOf(i);for(let n=1;n<e.length;n++){let s=e[n],o=e[n-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);n<=t&&t--,e.splice(--n,2,s.anchor>s.head?ce.range(l,a):ce.range(a,l))}}return new ce(e,t)}}function Kg(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Mh=0;class ye{constructor(e,t,i,n,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=n,this.id=Mh++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new ye(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Bh),!!e.static,e.enables)}of(e){return new Ra([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ra(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ra(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Bh(r,e){return r==e||r.length==e.length&&r.every((t,i)=>t===e[i])}class Ra{constructor(e,t,i,n){this.dependencies=e,this.facet=t,this.type=i,this.value=n,this.id=Mh++}dynamicSlot(e){var t;let i=this.value,n=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,h=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?c=!0:((t=e[u.id])!==null&&t!==void 0?t:1)&1||h.push(e[u.id]);return{create(u){return u.values[o]=i(u),1},update(u,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||Nh(u,h)){let d=i(u);if(a?!Zg(d,u.values[o],n):!n(d,u.values[o]))return u.values[o]=d,1}return 0},reconfigure:(u,f)=>{let d,p=f.config.address[s];if(p!=null){let g=Ma(f,p);if(this.dependencies.every(v=>v instanceof ye?f.facet(v)===u.facet(v):v instanceof wi?f.field(v,!1)==u.field(v,!1):!0)||(a?Zg(d=i(u),g,n):n(d=i(u),g)))return u.values[o]=g,0}else d=i(u);return u.values[o]=d,1}}}}function Zg(r,e,t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!t(r[i],e[i]))return!1;return!0}function Nh(r,e){let t=!1;for(let i of e)Xs(r,i)&1&&(t=!0);return t}function AA(r,e,t){let i=t.map(l=>r[l.id]),n=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=r[e.id]>>1;function a(l){let c=[];for(let h=0;h<i.length;h++){let u=Ma(l,i[h]);if(n[h]==2)for(let f of u)c.push(f);else c.push(u)}return e.combine(c)}return{create(l){for(let c of i)Xs(l,c);return l.values[o]=a(l),1},update(l,c){if(!Nh(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,c){let h=Nh(l,i),u=c.config.facets[e.id],f=c.facet(e);if(u&&!h&&Bh(t,u))return l.values[o]=f,0;let d=a(l);return e.compare(d,f)?(l.values[o]=f,0):(l.values[o]=d,1)}}}const Jg=ye.define({static:!0});class wi{constructor(e,t,i,n,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let t=new wi(Mh++,e.create,e.update,e.compare||((i,n)=>i===n),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Jg).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,n)=>{let s=i.values[t],o=this.updateF(s,n);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,n)=>n.config.address[this.id]!=null?(i.values[t]=n.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,Jg.of({field:this,create:e})]}get extension(){return this}}const en={lowest:4,low:3,default:2,high:1,highest:0};function Us(r){return e=>new em(e,r)}const Da={highest:Us(en.highest),high:Us(en.high),default:Us(en.default),low:Us(en.low),lowest:Us(en.lowest)};class em{constructor(e,t){this.inner=e,this.prec=t}}class $a{of(e){return new Fh(this,e)}reconfigure(e){return $a.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Fh{constructor(e,t){this.compartment=e,this.inner=t}}class La{constructor(e,t,i,n,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let n=[],s=Object.create(null),o=new Map;for(let f of PA(e,t,o))f instanceof wi?n.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of n)a[f.id]=c.length<<1,c.push(d=>f.slot(d));let h=i==null?void 0:i.config.facets;for(let f in s){let d=s[f],p=d[0].facet,g=h&&h[f]||[];if(d.every(v=>v.type==0))if(a[p.id]=l.length<<1|1,Bh(g,d))l.push(i.facet(p));else{let v=p.combine(d.map(y=>y.value));l.push(i&&p.compare(v,i.facet(p))?i.facet(p):v)}else{for(let v of d)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(y=>v.dynamicSlot(y)));a[p.id]=c.length<<1,c.push(v=>AA(v,p,d))}}let u=c.map(f=>f(a));return new La(e,o,u,a,l,s)}}function PA(r,e,t){let i=[[],[],[],[],[]],n=new Map;function s(o,a){let l=n.get(o);if(l!=null){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof Fh&&t.delete(o.compartment)}if(n.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Fh){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof em)s(o.inner,o.prec);else if(o instanceof wi)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Ra)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,en.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(r,en.default),i.reduce((o,a)=>o.concat(a))}function Xs(r,e){if(e&1)return 2;let t=e>>1,i=r.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[t]=4;let n=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|n}function Ma(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const tm=ye.define(),rm=ye.define({combine:r=>r.some(e=>e),static:!0}),im=ye.define({combine:r=>r.length?r[0]:void 0,static:!0}),nm=ye.define(),sm=ye.define(),om=ye.define(),am=ye.define({combine:r=>r.length?r[0]:!1});class Si{constructor(e,t){this.type=e,this.value=t}static define(){return new _A}}class _A{of(e){return new Si(this,e)}}class EA{constructor(e){this.map=e}of(e){return new ot(this,e)}}class ot{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new ot(this.type,t)}is(e){return this.type==e}static define(e={}){return new EA(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let n of e){let s=n.map(t);s&&i.push(s)}return i}}ot.reconfigure=ot.define(),ot.appendConfig=ot.define();class at{constructor(e,t,i,n,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&Kg(i,t.newLength),s.some(a=>a.type==at.time)||(this.annotations=s.concat(at.time.of(Date.now())))}static create(e,t,i,n,s,o){return new at(e,t,i,n,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(at.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}at.time=Si.define(),at.userEvent=Si.define(),at.addToHistory=Si.define(),at.remote=Si.define();function TA(r,e){let t=[];for(let i=0,n=0;;){let s,o;if(i<r.length&&(n==e.length||e[n]>=r[i]))s=r[i++],o=r[i++];else if(n<e.length)s=e[n++],o=e[n++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function lm(r,e,t){var i;let n,s,o;return t?(n=e.changes,s=st.empty(e.changes.length),o=r.changes.compose(e.changes)):(n=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),o=r.changes.compose(n)),{changes:o,selection:e.selection?e.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:ot.mapEffects(r.effects,n).concat(ot.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function zh(r,e,t){let i=e.selection,n=Vn(e.annotations);return e.userEvent&&(n=n.concat(at.userEvent.of(e.userEvent))),{changes:e.changes instanceof st?e.changes:st.of(e.changes||[],t,r.facet(im)),selection:i&&(i instanceof ce?i:ce.single(i.anchor,i.head)),effects:Vn(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function cm(r,e,t){let i=zh(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=lm(i,zh(r,e[s],o?i.changes.newLength:r.doc.length),o)}let n=at.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return RA(t?IA(n):n)}function IA(r){let e=r.startState,t=!0;for(let n of e.facet(nm)){let s=n(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:TA(t,s))}if(t!==!0){let n,s;if(t===!1)s=r.changes.invertedDesc,n=st.empty(e.doc.length);else{let o=r.changes.filter(t);n=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}r=at.create(e,n,r.selection&&r.selection.map(s),ot.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=e.facet(sm);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof at?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof at?r=s[0]:r=cm(e,Vn(s),!1)}return r}function RA(r){let e=r.startState,t=e.facet(om),i=r;for(let n=t.length-1;n>=0;n--){let s=t[n](r);s&&Object.keys(s).length&&(i=lm(i,zh(e,s,r.changes.newLength),!0))}return i==r?r:at.create(e,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const DA=[];function Vn(r){return r==null?DA:Array.isArray(r)?r:[r]}var qr=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(qr||(qr={}));const $A=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Hh;try{Hh=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function LA(r){if(Hh)return Hh.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||$A.test(t)))return!0}return!1}function MA(r){return e=>{if(!/\S/.test(e))return qr.Space;if(LA(e))return qr.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return qr.Word;return qr.Other}}class $e{constructor(e,t,i,n,s,o){this.config=e,this.doc=t,this.selection=i,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Xs(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Xs(this,i),Ma(this,i)}update(...e){return cm(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:n}=t;for(let o of e.effects)o.is($a.reconfigure)?(t&&(n=new Map,t.compartments.forEach((a,l)=>n.set(l,a)),t=null),n.set(o.value.compartment,o.value.extension)):o.is(ot.reconfigure)?(t=null,i=o.value):o.is(ot.appendConfig)&&(t=null,i=Vn(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=La.resolve(i,n,this),s=new $e(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new $e(t,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:ce.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),n=this.changes(i.changes),s=[i.range],o=Vn(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),h=c.map(n);for(let f=0;f<a;f++)s[f]=s[f].map(h);let u=n.mapDesc(c,!0);s.push(l.range.map(u)),n=n.compose(h),o=ot.mapEffects(o,h).concat(ot.mapEffects(Vn(l.effects),u))}return{changes:n,selection:ce.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof st?e:st.of(e,this.doc.length,this.facet($e.lineSeparator))}toText(e){return De.of(e.split(this.facet($e.lineSeparator)||Dh))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Xs(this,t),Ma(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let n=e[i];n instanceof wi&&this.config.address[n.id]!=null&&(t[i]=n.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];n.push(o.init(l=>o.spec.fromJSON(a,l)))}}return $e.create({doc:e.doc,selection:ce.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=La.resolve(e.extensions||[],new Map),i=e.doc instanceof De?e.doc:De.of((e.doc||"").split(t.staticFacet($e.lineSeparator)||Dh)),n=e.selection?e.selection instanceof ce?e.selection:ce.single(e.selection.anchor,e.selection.head):ce.single(0);return Kg(n,i.length),t.staticFacet(rm)||(n=n.asSingle()),new $e(t,i,n,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet($e.tabSize)}get lineBreak(){return this.facet($e.lineSeparator)||`
`}get readOnly(){return this.facet(am)}phrase(e,...t){for(let i of this.facet($e.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let n=[];for(let s of this.facet(tm))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&n.push(o[e]);return n}charCategorizer(e){return MA(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=jt(t,o,!1);if(s(t.slice(l,o))!=qr.Word)break;o=l}for(;a<n;){let l=jt(t,a);if(s(t.slice(a,l))!=qr.Word)break;a=l}return o==a?null:ce.range(o+i,a+i)}}$e.allowMultipleSelections=rm,$e.tabSize=ye.define({combine:r=>r.length?r[0]:4}),$e.lineSeparator=im,$e.readOnly=am,$e.phrases=ye.define({compare(r,e){let t=Object.keys(r),i=Object.keys(e);return t.length==i.length&&t.every(n=>r[n]==e[n])}}),$e.languageData=tm,$e.changeFilter=nm,$e.transactionFilter=sm,$e.transactionExtender=om,$a.reconfigure=ot.define();function Ba(r,e,t={}){let i={};for(let n of r)for(let s of Object.keys(n)){let o=n[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let n in e)i[n]===void 0&&(i[n]=e[n]);return i}class Un{eq(e){return this==e}range(e,t=e){return Gs.create(e,t,this)}}Un.prototype.startSide=Un.prototype.endSide=0,Un.prototype.point=!1,Un.prototype.mapMode=Vt.TrackDel;class Gs{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new Gs(e,t,i)}}function Wh(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class jh{constructor(e,t,i,n){this.from=e,this.to=t,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,n=0){let s=i?this.to:this.from;for(let o=n,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,i,n){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],n=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],h=this.from[l]+e,u=this.to[l]+e,f,d;if(h==u){let p=t.mapPos(h,c.startSide,c.mapMode);if(p==null||(f=d=p,c.startSide!=c.endSide&&(d=t.mapPos(h,c.endSide),d<f)))continue}else if(f=t.mapPos(h,c.startSide),d=t.mapPos(u,c.endSide),f>d||f==d&&c.startSide>0&&c.endSide<=0)continue;(d-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(a=Math.max(a,d-f)),i.push(c),n.push(f-o),s.push(d-o))}return{mapped:i.length?new jh(n,s,i,a):null,pos:o}}}class Xe{constructor(e,t,i,n){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=n}static create(e,t,i,n){return new Xe(e,t,i,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(Wh)),this.isEmpty)return t.length?Xe.of(t):this;let a=new um(this,null,-1).goto(0),l=0,c=[],h=new Xn;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let u=t[l++];h.addInner(u.from,u.to,u.value)||c.push(u)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||n>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||n>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||c.push(Gs.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?Xe.empty:this.nextLayer.update({add:c,filter:o,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],n=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)n=Math.max(n,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:h,pos:u}=l.map(a,e);h&&(n=Math.max(n,h.maxPoint),t.push(h),i.push(u))}}let s=this.nextLayer.map(e);return t.length==0?s:new Xe(i,t,s||Xe.empty,n)}between(e,t,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],o=this.chunk[n];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Qs.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Qs.from(e).goto(t)}static compare(e,t,i,n,s=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),a=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),l=hm(o,a,i),c=new Ys(o,l,s),h=new Ys(a,l,s);i.iterGaps((u,f,d)=>fm(c,u,h,f,d,n)),i.empty&&i.length==0&&fm(c,0,h,0,0,n)}static eq(e,t,i=0,n){n==null&&(n=1e9-1);let s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=hm(s,o),l=new Ys(s,a,0).goto(i),c=new Ys(o,a,0).goto(i);for(;;){if(l.to!=c.to||!Uh(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>n)return!0;l.next(),c.next()}}static spans(e,t,i,n,s=-1){let o=new Ys(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let h=o.activeForPoint(o.to),u=o.pointFrom<t?h.length+1:Math.min(h.length,l);n.point(a,c,o.point,h,u,o.pointRank),l=Math.min(o.openEnd(c),h.length)}else c>a&&(n.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,t=!1){let i=new Xn;for(let n of e instanceof Gs?[e]:t?BA(e):e)i.add(n.from,n.to,n.value);return i.finish()}}Xe.empty=new Xe([],[],null,-1);function BA(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let i=r[t];if(Wh(e,i)>0)return r.slice().sort(Wh);e=i}return r}Xe.empty.nextLayer=Xe.empty;class Xn{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new jh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Xn)).add(e,t,i)}addInner(e,t,i){let n=e-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Xe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Xe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function hm(r,e,t){let i=new Map;for(let s of r)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let n=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&n.add(s.chunk[o])}return n}class um{constructor(e,t,i,n=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Qs{constructor(e){this.heap=e}static from(e,t=null,i=-1){let n=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&n.push(new um(o,t,i,s));return n.length==1?n[0]:new Qs(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Vh(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Vh(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Vh(this.heap,0)}}}function Vh(r,e){for(let t=r[e];;){let i=(e<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),t.compare(n)<0)break;r[i]=t,r[e]=n,e=i}}class Ys{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Qs.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Na(this.active,e),Na(this.activeTo,e),Na(this.activeRank,e),this.minActive=dm(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:n,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;Fa(this.active,t,i),Fa(this.activeTo,t,n),Fa(this.activeRank,t,s),e&&Fa(e,t,this.cursor.from),this.minActive=dm(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&Na(i,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let n=i.length-1;n>=0&&i[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function fm(r,e,t,i,n,s){r.goto(e),t.goto(i);let o=i+n,a=i,l=i-e;for(;;){let c=r.to+l-t.to||r.endSide-t.endSide,h=c<0?r.to+l:t.to,u=Math.min(h,o);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&Uh(r.activeForPoint(r.to+l),t.activeForPoint(t.to))||s.comparePoint(a,u,r.point,t.point):u>a&&!Uh(r.active,t.active)&&s.compareRange(a,u,r.active,t.active),h>o)break;a=h,c<=0&&r.next(),c>=0&&t.next()}}function Uh(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function Na(r,e){for(let t=e,i=r.length-1;t<i;t++)r[t]=r[t+1];r.pop()}function Fa(r,e,t){for(let i=r.length-1;i>=e;i--)r[i+1]=r[i];r[e]=t}function dm(r,e){let t=-1,i=1e9;for(let n=0;n<e.length;n++)(e[n]-i||r[n].endSide-r[t].endSide)<0&&(t=n,i=e[n]);return t}function za(r,e,t=r.length){let i=0;for(let n=0;n<t;)r.charCodeAt(n)==9?(i+=e-i%e,n++):(i++,n=jt(r,n));return i}function NA(r,e,t,i){for(let n=0,s=0;;){if(s>=e)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?t-s%t:1,n=jt(r,n)}return i===!0?-1:r.length}const Xh="ͼ",pm=typeof Symbol>"u"?"__"+Xh:Symbol.for(Xh),Gh=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xi{constructor(e,t){this.rules=[];let{finish:i}=t||{};function n(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let h=[],u=/^@(\w+)\b/.exec(o[0]),f=u&&u[1]=="keyframes";if(u&&a==null)return l.push(o[0]+";");for(let d in a){let p=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(g=>o.map(v=>g.replace(/&/,v))).reduce((g,v)=>g.concat(v)),p,l);else if(p&&typeof p=="object"){if(!u)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(n(d),p,h,f)}else p!=null&&h.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(h.length||f)&&l.push((i&&!u&&!c?o.map(i):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(n(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=gm[pm]||1;return gm[pm]=e+1,Xh+e.toString(36)}static mount(e,t){(e[Gh]||new FA(e)).mount(Array.isArray(t)?t:[t])}}let Ha=null;class FA{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(Ha)return e.adoptedStyleSheets=[Ha.sheet,...e.adoptedStyleSheets],e[Gh]=Ha;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Ha=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Gh]=this}mount(e){let t=this.sheet,i=0,n=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<n&&a>-1&&(this.modules.splice(a,1),n--,a=-1),a==-1){if(this.modules.splice(n++,0,o),t)for(let l=0;l<o.rules.length;l++)t.insertRule(o.rules[l],i++)}else{for(;n<a;)i+=this.modules[n++].rules.length;i+=o.rules.length,n++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}}for(var Oi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},qs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mm=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),zA=typeof navigator<"u"&&/Mac/.test(navigator.platform),HA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),WA=zA||mm&&+mm[1]<57,pt=0;pt<10;pt++)Oi[48+pt]=Oi[96+pt]=String(pt);for(var pt=1;pt<=24;pt++)Oi[pt+111]="F"+pt;for(var pt=65;pt<=90;pt++)Oi[pt]=String.fromCharCode(pt+32),qs[pt]=String.fromCharCode(pt);for(var Qh in Oi)qs.hasOwnProperty(Qh)||(qs[Qh]=Oi[Qh]);function jA(r){var e=WA&&(r.ctrlKey||r.altKey||r.metaKey)||HA&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?qs:Oi)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Wa(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function Gn(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function VA(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ja(r,e){if(!e.anchorNode)return!1;try{return Gn(r,e.anchorNode)}catch{return!1}}function Ks(r){return r.nodeType==3?Yn(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function Va(r,e,t,i){return t?ym(r,e,t,i,-1)||ym(r,e,t,i,1):!1}function Ua(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function ym(r,e,t,i,n){for(;;){if(r==t&&e==i)return!0;if(e==(n<0?0:Zs(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=Ua(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=n<0?Zs(r):0}else return!1}}function Zs(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}const vm={left:0,right:0,top:0,bottom:0};function Yh(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function UA(r){return{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function XA(r,e,t,i,n,s,o,a){let l=r.ownerDocument,c=l.defaultView||window;for(let h=r;h;)if(h.nodeType==1){let u,f=h==l.body;if(f)u=UA(c);else{if(h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let g=h.getBoundingClientRect();u={left:g.left,right:g.left+h.clientWidth,top:g.top,bottom:g.top+h.clientHeight}}let d=0,p=0;if(n=="nearest")e.top<u.top?(p=-(u.top-e.top+o),t>0&&e.bottom>u.bottom+p&&(p=e.bottom-u.bottom+p+o)):e.bottom>u.bottom&&(p=e.bottom-u.bottom+o,t<0&&e.top-p<u.top&&(p=-(u.top+p-e.top+o)));else{let g=e.bottom-e.top,v=u.bottom-u.top;p=(n=="center"&&g<=v?e.top+g/2-v/2:n=="start"||n=="center"&&t<0?e.top-o:e.bottom-v+o)-u.top}if(i=="nearest"?e.left<u.left?(d=-(u.left-e.left+s),t>0&&e.right>u.right+d&&(d=e.right-u.right+d+s)):e.right>u.right&&(d=e.right-u.right+s,t<0&&e.left<u.left+d&&(d=-(u.left+d-e.left+s))):d=(i=="center"?e.left+(e.right-e.left)/2-(u.right-u.left)/2:i=="start"==a?e.left-s:e.right-(u.right-u.left)+s)-u.left,d||p)if(f)c.scrollBy(d,p);else{let g=0,v=0;if(p){let y=h.scrollTop;h.scrollTop+=p,v=h.scrollTop-y}if(d){let y=h.scrollLeft;h.scrollLeft+=d,g=h.scrollLeft-y}e={left:e.left-g,top:e.top-v,right:e.right-g,bottom:e.bottom-v},g&&Math.abs(g-d)<1&&(i="nearest"),v&&Math.abs(v-p)<1&&(n="nearest")}if(f)break;h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function GA(r){let e=r.ownerDocument;for(let t=r.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class QA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=n}}let Qn=null;function bm(r){if(r.setActive)return r.setActive();if(Qn)return r.focus(Qn);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(Qn==null?{get preventScroll(){return Qn={preventScroll:!0},!0}}:void 0),!Qn){Qn=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],s=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let wm;function Yn(r,e,t=e){let i=wm||(wm=document.createRange());return i.setEnd(r,t),i.setStart(r,e),i}function qn(r,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},n=new KeyboardEvent("keydown",i);n.synthetic=!0,r.dispatchEvent(n);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,r.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}function YA(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function Sm(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function qA(r,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(;;)if(i){if(t.nodeType!=1)return!1;let n=t.childNodes[i-1];n.contentEditable=="false"?i--:(t=n,i=Zs(t))}else{if(t==r)return!0;i=Ua(t),t=t.parentNode}}class St{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new St(e.parentNode,Ua(e),t)}static after(e,t){return new St(e.parentNode,Ua(e)+1,t)}}const qh=[];class je{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e,t){if(this.dirty&2){let i=this.dom,n=null,s;for(let o of this.children){if(o.dirty){if(!o.dom&&(s=n?n.nextSibling:i.firstChild)){let a=je.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.dirty=0}if(s=n?n.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=xm(s);else i.insertBefore(o.dom,s);n=o.dom}for(s=n?n.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=xm(s)}else if(this.dirty&1)for(let i of this.children)i.dirty&&(i.sync(e,t),i.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let n=Zs(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!je.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let o=this.children[n];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let n=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,h=i;l<this.children.length;l++){let u=this.children[l],f=c+u.length;if(c<e&&f>t)return u.domBoundsAround(e,t,c);if(f>=e&&n==-1&&(n=l,s=c),c>t&&u.dom.parentNode==this.dom){o=l,a=h;break}h=f,c=f+u.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=qh){this.markDirty();for(let n=e;n<t;n++){let s=this.children[n];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...i);for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Om(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,t,i,n,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}je.prototype.breakAfter=0;function xm(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Om{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Cm(r,e,t,i,n,s,o,a,l){let{children:c}=r,h=c.length?c[e]:null,u=s.length?s[s.length-1]:null,f=u?u.breakAfter:o;if(!(e==i&&h&&!o&&!f&&s.length<2&&h.merge(t,n,s.length?u:null,t==0,a,l))){if(i<c.length){let d=c[i];d&&n<d.length?(e==i&&(d=d.split(n),n=0),!f&&u&&d.merge(0,n,u,!0,0,l)?s[s.length-1]=d:(n&&d.merge(0,n,null,!1,0,l),s.push(d))):d!=null&&d.breakAfter&&(u?u.breakAfter=1:o=1),i++}for(h&&(h.breakAfter=o,t>0&&(!o&&s.length&&h.merge(t,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&r.replaceChildren(e,i,s)}}function km(r,e,t,i,n,s){let o=r.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:h}=o.findPos(e,-1),u=e-t;for(let f of i)u+=f.length;r.length+=u,Cm(r,c,h,a,l,i,0,n,s)}let Ut=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Kh=typeof document<"u"?document:{documentElement:{style:{}}};const Zh=/Edge\/(\d+)/.exec(Ut.userAgent),Am=/MSIE \d/.test(Ut.userAgent),Jh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ut.userAgent),Xa=!!(Am||Jh||Zh),Pm=!Xa&&/gecko\/(\d+)/i.test(Ut.userAgent),eu=!Xa&&/Chrome\/(\d+)/.exec(Ut.userAgent),_m="webkitFontSmoothing"in Kh.documentElement.style,Em=!Xa&&/Apple Computer/.test(Ut.vendor),Tm=Em&&(/Mobile\/\w+/.test(Ut.userAgent)||Ut.maxTouchPoints>2);var pe={mac:Tm||/Mac/.test(Ut.platform),windows:/Win/.test(Ut.platform),linux:/Linux|X11/.test(Ut.platform),ie:Xa,ie_version:Am?Kh.documentMode||6:Jh?+Jh[1]:Zh?+Zh[1]:0,gecko:Pm,gecko_version:Pm?+(/Firefox\/(\d+)/.exec(Ut.userAgent)||[0,0])[1]:0,chrome:!!eu,chrome_version:eu?+eu[1]:0,ios:Tm,android:/Android\b/.test(Ut.userAgent),webkit:_m,safari:Em,webkit_version:_m?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Kh.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const KA=256;class Ci extends je{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof Ci)||this.length-(t-e)+i.length>KA)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ci(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new St(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return tu(this.dom,e,t)}}class $r extends je{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let n of t)n.setParent(this)}setAttrs(e){if(Sm(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,n,s,o){return i&&(!(i instanceof $r&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(km(this,e,t,i?i.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,n=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),n<0&&i>=e&&(n=s),i=l,s++}let o=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new $r(this.mark,t,o)}domAtPos(e){return Dm(this,e)}coordsAt(e,t){return Lm(this,e,t)}}function tu(r,e,t){let i=r.nodeValue.length;e>i&&(e=i);let n=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?pe.chrome||pe.gecko||(e?(n--,o=1):s<i&&(s++,o=-1)):t<0?n--:s<i&&s++;let a=Yn(r,n,s).getClientRects();if(!a.length)return vm;let l=a[(o?o<0:t>=0)?0:a.length-1];return pe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Yh(l,o<0):l||null}class ki extends je{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||ki)(e,t,i)}split(e){let t=ki.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,n,s,o){return i&&(!(i instanceof ki)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof ki&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return De.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):De.empty}domAtPos(e){return e==0?St.before(this.dom):St.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),n=null;if(!i.length)return vm;for(let s=e>0?i.length-1:0;n=i[s],!(e>0?s==0:s==i.length-1||n.top<n.bottom);s+=e>0?-1:1);return this.length?n:Yh(n,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Im extends ki{domAtPos(e){let{topView:t,text:i}=this.widget;return t?ru(e,0,t,i,(n,s)=>n.domAtPos(s),n=>new St(i,Math.min(n,i.nodeValue.length))):new St(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:n}=this.widget;return i?Rm(e,t,i,n):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:n}=this.widget;return i?ru(e,t,i,n,(s,o,a)=>s.coordsAt(o,a),(s,o)=>tu(n,s,o)):tu(n,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function ru(r,e,t,i,n,s){if(t instanceof $r){for(let o=t.dom.firstChild;o;o=o.nextSibling){let a=je.get(o);if(!a)return s(r,e);let l=Gn(o,i),c=a.length+(l?i.nodeValue.length:0);if(r<c||r==c&&a.getSide()<=0)return l?ru(r,e,a,i,n,s):n(a,r,e);r-=c}return n(t,t.length,-1)}else return t.dom==i?s(r,e):n(t,r,e)}function Rm(r,e,t,i){if(t instanceof $r)for(let n of t.children){let s=0,o=Gn(n.dom,i);if(Gn(n.dom,r))return s+(o?Rm(r,e,n,i):n.localPosFromDOM(r,e));s+=o?i.nodeValue.length:n.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(r,e)}class Kn extends je{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Kn&&e.side==this.side}split(){return new Kn(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return St.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=ZA(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return De.empty}}Ci.prototype.children=ki.prototype.children=Kn.prototype.children=qh;function ZA(r,e){let t=r.parent,i=t?t.children.indexOf(r):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let n=t.children[i+e];if(n instanceof Ci){let s=n.coordsAt(e<0?n.length:0,e);if(s)return s}i+=e}else if(t instanceof $r&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let n=t.dom.lastChild;if(n&&n.nodeName=="BR")return n.getClientRects()[0];break}}function Dm(r,e){let t=r.dom,{children:i}=r,n=0;for(let s=0;n<i.length;n++){let o=i[n],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=n;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=n;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new St(t,0)}function $m(r,e,t){let i,{children:n}=r;t>0&&e instanceof $r&&n.length&&(i=n[n.length-1])instanceof $r&&i.mark.eq(e.mark)?$m(i,e.children[0],t-1):(n.push(e),e.setParent(r)),r.length+=e.length}function Lm(r,e,t){let i=null,n=-1,s=null,o=-1;function a(c,h){for(let u=0,f=0;u<c.children.length&&f<=h;u++){let d=c.children[u],p=f+d.length;p>=h&&(d.children.length?a(d,h-f):!s&&(p>h||f==p&&d.getSide()>0)?(s=d,o=h-f):(f<h||f==p&&d.getSide()<0)&&(i=d,n=h-f)),f=p}}a(r,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?n:o),t):JA(r)}function JA(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Ks(e);return t[t.length-1]||null}function iu(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}function nu(r,e){if(r==e)return!0;if(!r||!e)return!1;let t=Object.keys(r),i=Object.keys(e);if(t.length!=i.length)return!1;for(let n of t)if(i.indexOf(n)==-1||r[n]!==e[n])return!1;return!0}function su(r,e,t){let i=null;if(e)for(let n in e)t&&n in t||r.removeAttribute(i=n);if(t)for(let n in t)e&&e[n]==t[n]||r.setAttribute(i=n,t[n]);return!!i}class Zn{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Fe=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(Fe||(Fe={}));class Ze extends Un{constructor(e,t,i,n){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(e){return new Ga(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new tn(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,n;if(e.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:o}=Mm(e,t);i=(s?t?-3e8:-1:5e8)-1,n=(o?t?2e8:1:-6e8)+1}return new tn(e,i,n,t,e.widget||null,!0)}static line(e){return new Js(e)}static set(e,t=!1){return Xe.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ze.none=Xe.empty;class Ga extends Ze{constructor(e){let{start:t,end:i}=Mm(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Ga&&this.tagName==e.tagName&&this.class==e.class&&nu(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Ga.prototype.point=!1;class Js extends Ze{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Js&&this.spec.class==e.spec.class&&nu(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Js.prototype.mapMode=Vt.TrackBefore,Js.prototype.point=!0;class tn extends Ze{constructor(e,t,i,n,s,o){super(t,i,s,e),this.block=n,this.isReplace=o,this.mapMode=n?t<=0?Vt.TrackBefore:Vt.TrackAfter:Vt.TrackDel}get type(){return this.startSide<this.endSide?Fe.WidgetRange:this.startSide<=0?Fe.WidgetBefore:Fe.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof tn&&eP(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}tn.prototype.point=!0;function Mm(r,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=r;return t==null&&(t=r.inclusive),i==null&&(i=r.inclusive),{start:t??e,end:i??e}}function eP(r,e){return r==e||!!(r&&e&&r.compare(e))}function ou(r,e,t,i=0){let n=t.length-1;n>=0&&t[n]+i>=r?t[n]=Math.max(t[n],e):t.push(r,e)}class Pt extends je{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,n,s,o){if(i){if(!(i instanceof Pt))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),km(this,e,t,i?i.children:[],s,o),!0}split(e){let t=new Pt;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:n}=this.childPos(e);n&&(t.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){nu(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){$m(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=iu(t,this.attrs||{})),i&&(this.attrs=iu({class:i},this.attrs||{}))}domAtPos(e){return Dm(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var i;this.dom?this.dirty&4&&(Sm(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(su(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&je.get(n)instanceof $r;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((i=je.get(n))===null||i===void 0?void 0:i.isEditable)==!1&&(!pe.ios||!this.children.some(s=>s instanceof Ci))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Ci)||/[^ -~]/.test(t.text))return null;let i=Ks(t.dom);if(i.length!=1)return null;e+=i[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,t){return Lm(this,e,t)}become(e){return!1}get type(){return Fe.Text}static find(e,t){for(let i=0,n=0;i<e.children.length;i++){let s=e.children[i],o=n+s.length;if(o>=t){if(s instanceof Pt)return s;if(o>t)break}n=o+s.breakAfter}return null}}class rn extends je{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,n,s,o){return i&&(!(i instanceof rn)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?St.before(this.dom):St.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new rn(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return qh}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):De.empty}domBoundsAround(){return null}become(e){return e instanceof rn&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class au{constructor(e,t,i,n){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof rn&&e.type==Fe.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Pt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Qa(new Kn(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Qa(new Ci(this.text.slice(this.textOff,this.textOff+n)),t),i),this.atCursorPos=!0,this.textOff+=n,e-=n,i=0}}span(e,t,i,n){this.buildText(t-e,i,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,i,n,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof tn){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof tn)if(i.block){let{type:l}=i;l==Fe.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new rn(i.widget||new Bm("div"),a,l))}else{let l=ki.create(i.widget||new Bm("span"),a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<t||i.startSide>0),h=!l.isEditable&&(e<t||s>n.length||i.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(n),c&&(u.append(Qa(new Kn(1),n),s),s=n.length+Math.max(0,s-n.length)),u.append(Qa(l,n),s),this.atCursorPos=h,this.pendingBuffer=h?e<t||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,n,s){let o=new au(e,t,i,s);return o.openEnd=Xe.spans(n,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Qa(r,e){for(let t of e)r=new $r(t,[r],r.length);return r}class Bm extends Zn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Nm=ye.define(),Fm=ye.define(),zm=ye.define(),Hm=ye.define(),lu=ye.define(),Wm=ye.define(),jm=ye.define(),Vm=ye.define({combine:r=>r.some(e=>e)}),Um=ye.define({combine:r=>r.some(e=>e)});class Ya{constructor(e,t="nearest",i="nearest",n=5,s=5){this.range=e,this.y=t,this.x=i,this.yMargin=n,this.xMargin=s}map(e){return e.empty?this:new Ya(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Xm=ot.define({map:(r,e)=>r.map(e)});function Ai(r,e,t){let i=r.facet(Hm);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const qa=ye.define({combine:r=>r.length?r[0]:!0});let tP=0;const eo=ye.define();class Kr{constructor(e,t,i,n){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=n(this)}static define(e,t){const{eventHandlers:i,provide:n,decorations:s}=t||{};return new Kr(tP++,e,i,o=>{let a=[eo.of(o)];return s&&a.push(to.of(l=>{let c=l.plugin(o);return c?s(c):Ze.none})),n&&a.push(n(o)),a})}static fromClass(e,t){return Kr.define(i=>new e(i),t)}}class cu{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Ai(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ai(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Ai(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Gm=ye.define(),hu=ye.define(),to=ye.define(),Qm=ye.define(),Ym=ye.define(),ro=ye.define();class Lr{constructor(e,t,i,n){this.fromA=e,this.toA=t,this.fromB=i,this.toB=n}join(e){return new Lr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let n=0,s=0,o=0,a=0;;n++){let l=n==e.length?null:e[n],c=o-a,h=l?l.fromB:1e9;for(;s<t.length&&t[s]<h;){let u=t[s],f=t[s+1],d=Math.max(a,u),p=Math.min(h,f);if(d<=p&&new Lr(d+c,p+c,d,p).addToSet(i),f>h)break;s+=2}if(!l)return i;new Lr(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class Ka{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=st.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,o,a,l)=>n.push(new Lr(s,o,a,l))),this.changedRanges=n}static create(e,t,i){return new Ka(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var tt=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(tt||(tt={}));const uu=tt.LTR,rP=tt.RTL;function qm(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const iP=qm("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),nP=qm("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),fu=Object.create(null),Mr=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);fu[e]=t,fu[t]=-e}function sP(r){return r<=247?iP[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?nP[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203?256:64336<=r&&r<=65023?4:r==8204?256:1}const oP=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Jn{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?rP:uu}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,n){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(n!=0?n<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const Qe=[];function aP(r,e){let t=r.length,i=e==uu?1:2,n=e==uu?2:1;if(!r||i==1&&!oP.test(r))return Km(t);for(let o=0,a=i,l=i;o<t;o++){let c=sP(r.charCodeAt(o));c==512?c=a:c==8&&l==4&&(c=16),Qe[o]=c==4?2:c,c&7&&(l=c),a=c}for(let o=0,a=i,l=i;o<t;o++){let c=Qe[o];if(c==128)o<t-1&&a==Qe[o+1]&&a&24?c=Qe[o]=a:Qe[o]=256;else if(c==64){let h=o+1;for(;h<t&&Qe[h]==64;)h++;let u=o&&a==8||h<t&&Qe[h]==8?l==1?1:8:256;for(let f=o;f<h;f++)Qe[f]=u;o=h-1}else c==8&&l==1&&(Qe[o]=1);a=c,c&7&&(l=c)}for(let o=0,a=0,l=0,c,h,u;o<t;o++)if(h=fu[c=r.charCodeAt(o)])if(h<0){for(let f=a-3;f>=0;f-=3)if(Mr[f+1]==-h){let d=Mr[f+2],p=d&2?i:d&4?d&1?n:i:0;p&&(Qe[o]=Qe[Mr[f]]=p),a=f;break}}else{if(Mr.length==189)break;Mr[a++]=o,Mr[a++]=c,Mr[a++]=l}else if((u=Qe[o])==2||u==1){let f=u==i;l=f?0:1;for(let d=a-3;d>=0;d-=3){let p=Mr[d+2];if(p&2)break;if(f)Mr[d+2]|=2;else{if(p&4)break;Mr[d+2]|=4}}}for(let o=0;o<t;o++)if(Qe[o]==256){let a=o+1;for(;a<t&&Qe[a]==256;)a++;let l=(o?Qe[o-1]:i)==1,c=(a<t?Qe[a]:i)==1,h=l==c?l?1:2:i;for(let u=o;u<a;u++)Qe[u]=h;o=a-1}let s=[];if(i==1)for(let o=0;o<t;){let a=o,l=Qe[o++]!=1;for(;o<t&&l==(Qe[o]!=1);)o++;if(l)for(let c=o;c>a;){let h=c,u=Qe[--c]!=2;for(;c>a&&u==(Qe[c-1]!=2);)c--;s.push(new Jn(c,h,u?2:1))}else s.push(new Jn(a,o,0))}else for(let o=0;o<t;){let a=o,l=Qe[o++]==2;for(;o<t&&l==(Qe[o]==2);)o++;s.push(new Jn(a,o,l?1:2))}return s}function Km(r){return[new Jn(0,r,0)]}let Zm="";function lP(r,e,t,i,n){var s;let o=i.head-r.from,a=-1;if(o==0){if(!n||!r.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),a=0)}else if(o==r.length){if(n)return null;let f=e[e.length-1];f.level!=t&&(o=f.side(!0,t),a=e.length-1)}a<0&&(a=Jn.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let l=e[a];o==l.side(n,t)&&(l=e[a+=n?1:-1],o=l.side(!n,t));let c=n==(l.dir==t),h=jt(r.text,o,c);if(Zm=r.text.slice(Math.min(o,h),Math.max(o,h)),h!=l.side(n,t))return ce.cursor(h+r.from,c?-1:1,l.level);let u=a==(n?e.length-1:0)?null:e[a+(n?1:-1)];return!u&&l.level!=t?ce.cursor(n?r.to:r.from,n?-1:1,t):u&&u.level<l.level?ce.cursor(u.side(!n,t)+r.from,n?1:-1,u.level):ce.cursor(h+r.from,n?-1:1,l.level)}const Pi="￿";class Jm{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet($e.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Pi}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let n=e;;){this.findPointBefore(i,n),this.readNode(n);let s=n.nextSibling;if(s==t)break;let o=je.get(n),a=je.get(s);(o&&a?o.breakAfter:(o?o.breakAfter:ey(n))||ey(s)&&(n.nodeName!="BR"||n.cmIgnore))&&this.lineBreak(),n=s}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=n.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=je.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function ey(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}class ty{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class ry extends je{constructor(e){super(),this.view=e,this.compositionDeco=Ze.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Pt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Lr(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:o,toA:a})=>a<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Ze.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=hP(this.view,e.changes)),(pe.ie||pe.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,n=this.updateDeco(),s=pP(i,n,e.changes);return t=Lr.extendWithRanges(t,s),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=pe.chrome||pe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof rn&&s.widget instanceof iy&&n.push(s.dom);i.updateGaps(n)}updateChildren(e,t){let i=this.childCursor(t);for(let n=e.length-1;;n--){let s=n>=0?e[n]:null;if(!s)break;let{fromA:o,toA:a,fromB:l,toB:c}=s,{content:h,breakAtStart:u,openStart:f,openEnd:d}=au.build(this.view.state.doc,l,c,this.decorations,this.dynamicDecorationMap),{i:p,off:g}=i.findPos(a,1),{i:v,off:y}=i.findPos(o,-1);Cm(this,v,y,p,g,h,u,f,d)}}updateSelection(e=!1,t=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection()))return;let i=this.forceSelection;this.forceSelection=!1;let n=this.view.state.selection.main,s=this.domAtPos(n.anchor),o=n.empty?s:this.domAtPos(n.head);if(pe.gecko&&n.empty&&cP(s)){let l=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(l,s.node.childNodes[s.offset]||null)),s=o=new St(l,0),i=!0}let a=this.view.observer.selectionRange;(i||!a.focusNode||!Va(s.node,s.offset,a.anchorNode,a.anchorOffset)||!Va(o.node,o.offset,a.focusNode,a.focusOffset))&&(this.view.observer.ignore(()=>{pe.android&&pe.chrome&&this.dom.contains(a.focusNode)&&gP(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let l=Wa(this.view.root);if(l)if(n.empty){if(pe.gecko){let c=fP(s.node,s.offset);if(c&&c!=3){let h=sy(s.node,s.offset,c==1?1:-1);h&&(s=new St(h,c==1?0:h.nodeValue.length))}}l.collapse(s.node,s.offset),n.bidiLevel!=null&&a.cursorBidiLevel!=null&&(a.cursorBidiLevel=n.bidiLevel)}else if(l.extend){l.collapse(s.node,s.offset);try{l.extend(o.node,o.offset)}catch{}}else{let c=document.createRange();n.anchor>n.head&&([s,o]=[o,s]),c.setEnd(o.node,o.offset),c.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(c)}}),this.view.observer.setSelectionRange(s,o)),this.impreciseAnchor=s.precise?null:new St(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new St(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,i=Wa(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=Pt.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let h=this.domAtPos(t.head+t.assoc);i.collapse(h.node,h.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&i.collapse(n,s)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||ja(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let i=je.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let n=this.children[t];if(i<n.length||n instanceof Pt)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,n=this.children.length-1;;n--){let s=this.children[n],o=i-s.breakAfter-s.length;if(e>o||e==o&&s.type!=Fe.WidgetBefore&&s.type!=Fe.WidgetAfter&&(!n||t==2||this.children[n-1].breakAfter||this.children[n-1].type==Fe.WidgetBefore&&t>-2))return s.coordsAt(e-o,t);i=o}}measureVisibleLineHeights(e){let t=[],{from:i,to:n}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==tt.LTR;for(let c=0,h=0;h<this.children.length;h++){let u=this.children[h],f=c+u.length;if(f>n)break;if(c>=i){let d=u.dom.getBoundingClientRect();if(t.push(d.height),o){let p=u.dom.lastChild,g=p?Ks(p):[];if(g.length){let v=g[g.length-1],y=l?v.right-d.left:d.right-v.left;y>a&&(a=y,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?tt.RTL:tt.LTR}measureTextSize(){for(let n of this.children)if(n instanceof Pt){let s=n.measureTextSize();if(s)return s}let e=document.createElement("div"),t,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let n=Ks(e.firstChild)[0];t=e.getBoundingClientRect().height,i=n?n.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Om(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,n=0;;n++){let s=n==t.viewports.length?null:t.viewports[n],o=s?s.from-1:this.length;if(o>i){let a=t.lineBlockAt(o).bottom-t.lineBlockAt(i).top;e.push(Ze.replace({widget:new iy(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return Ze.set(e)}updateDeco(){let e=this.view.state.facet(to).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),n;if(!i)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=0,o=0,a=0,l=0;for(let h of this.view.state.facet(Ym).map(u=>u(this.view)))if(h){let{left:u,right:f,top:d,bottom:p}=h;u!=null&&(s=Math.max(s,u)),f!=null&&(o=Math.max(o,f)),d!=null&&(a=Math.max(a,d)),p!=null&&(l=Math.max(l,p))}let c={left:i.left-s,top:i.top-a,right:i.right+o,bottom:i.bottom+l};XA(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==tt.LTR)}}function cP(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}class iy extends Zn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function ny(r){let e=r.observer.selectionRange,t=e.focusNode&&sy(e.focusNode,e.focusOffset,0);if(!t)return null;let i=r.docView.nearest(t);if(!i)return null;if(i instanceof Pt){let n=t;for(;n.parentNode!=i.dom;)n=n.parentNode;let s=n.previousSibling;for(;s&&!je.get(s);)s=s.previousSibling;let o=s?je.get(s).posAtEnd:i.posAtStart;return{from:o,to:o,node:n,text:t}}else{for(;;){let{parent:s}=i;if(!s)return null;if(s instanceof Pt)break;i=s}let n=i.posAtStart;return{from:n,to:n+i.length,node:i.dom,text:t}}}function hP(r,e){let t=ny(r);if(!t)return Ze.none;let{from:i,to:n,node:s,text:o}=t,a=e.mapPos(i,1),l=Math.max(a,e.mapPos(n,-1)),{state:c}=r,h=s.nodeType==3?s.nodeValue:new Jm([],c).readRange(s.firstChild,null).text;if(l-a<h.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+h.length),Pi)==h)l=a+h.length;else if(c.doc.sliceString(Math.max(0,l-h.length),l,Pi)==h)a=l-h.length;else return Ze.none;else if(c.doc.sliceString(a,l,Pi)!=h)return Ze.none;let u=je.get(s);return u instanceof Im?u=u.widget.topView:u&&(u.parent=null),Ze.set(Ze.replace({widget:new uP(s,o,u),inclusive:!0}).range(a,l))}class uP extends Zn{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Im}}function sy(r,e,t){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&e>0&&t<=0)r=r.childNodes[e-1],e=Zs(r);else if(r.nodeType==1&&e<r.childNodes.length&&t>=0)r=r.childNodes[e],e=0;else return null}}function fP(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}class dP{constructor(){this.changes=[]}compareRange(e,t){ou(e,t,this.changes)}comparePoint(e,t){ou(e,t,this.changes)}}function pP(r,e,t){let i=new dP;return Xe.compare(r,e,t,i),i.changes}function gP(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function mP(r,e,t=1){let i=r.charCategorizer(e),n=r.doc.lineAt(e),s=e-n.from;if(n.length==0)return ce.cursor(e);s==0?t=1:s==n.length&&(t=-1);let o=s,a=s;t<0?o=jt(n.text,s,!1):a=jt(n.text,s);let l=i(n.text.slice(o,a));for(;o>0;){let c=jt(n.text,o,!1);if(i(n.text.slice(c,o))!=l)break;o=c}for(;a<n.length;){let c=jt(n.text,a);if(i(n.text.slice(a,c))!=l)break;a=c}return ce.range(o+n.from,a+n.from)}function yP(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function vP(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function du(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function oy(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function ay(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function pu(r,e,t){let i,n,s,o,a=!1,l,c,h,u;for(let p=r.firstChild;p;p=p.nextSibling){let g=Ks(p);for(let v=0;v<g.length;v++){let y=g[v];n&&du(n,y)&&(y=oy(ay(y,n.bottom),n.top));let S=yP(e,y),k=vP(t,y);if(S==0&&k==0)return p.nodeType==3?ly(p,e,t):pu(p,e,t);if(!i||o>k||o==k&&s>S){i=p,n=y,s=S,o=k;let _=k?t<y.top?-1:1:S?e<y.left?-1:1:0;a=!_||(_>0?v<g.length-1:v>0)}S==0?t>y.bottom&&(!h||h.bottom<y.bottom)?(l=p,h=y):t<y.top&&(!u||u.top>y.top)&&(c=p,u=y):h&&du(h,y)?h=ay(h,y.bottom):u&&du(u,y)&&(u=oy(u,y.top))}}if(h&&h.bottom>=t?(i=l,n=h):u&&u.top<=t&&(i=c,n=u),!i)return{node:r,offset:0};let f=Math.max(n.left,Math.min(n.right,e));if(i.nodeType==3)return ly(i,f,t);if(a&&i.contentEditable!="false")return pu(i,f,t);let d=Array.prototype.indexOf.call(r.childNodes,i)+(e>=(n.left+n.right)/2?1:0);return{node:r,offset:d}}function ly(r,e,t){let i=r.nodeValue.length,n=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=Yn(r,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(h.top==h.bottom)continue;o||(o=e-h.left);let u=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&u<s){let f=e>=(h.left+h.right)/2,d=f;if((pe.chrome||pe.gecko)&&Yn(r,a).getBoundingClientRect().left==h.right&&(d=!f),u<=0)return{node:r,offset:a+(d?1:0)};n=a+(d?1:0),s=u}}}return{node:r,offset:n>-1?n:o>0?r.nodeValue.length:0}}function cy(r,e,t,i=-1){var n,s;let o=r.contentDOM.getBoundingClientRect(),a=o.top+r.viewState.paddingTop,l,{docHeight:c}=r.viewState,{x:h,y:u}=e,f=u-a;if(f<0)return 0;if(f>c)return r.state.doc.length;for(let _=r.defaultLineHeight/2,T=!1;l=r.elementAtHeight(f),l.type!=Fe.Text;)for(;f=i>0?l.bottom+_:l.top-_,!(f>=0&&f<=c);){if(T)return t?null:0;T=!0,i=-i}u=a+f;let d=l.from;if(d<r.viewport.from)return r.viewport.from==0?0:t?null:hy(r,o,l,h,u);if(d>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:hy(r,o,l,h,u);let p=r.dom.ownerDocument,g=r.root.elementFromPoint?r.root:p,v=g.elementFromPoint(h,u);v&&!r.contentDOM.contains(v)&&(v=null),v||(h=Math.max(o.left+1,Math.min(o.right-1,h)),v=g.elementFromPoint(h,u),v&&!r.contentDOM.contains(v)&&(v=null));let y,S=-1;if(v&&((n=r.docView.nearest(v))===null||n===void 0?void 0:n.isEditable)!=!1){if(p.caretPositionFromPoint){let _=p.caretPositionFromPoint(h,u);_&&({offsetNode:y,offset:S}=_)}else if(p.caretRangeFromPoint){let _=p.caretRangeFromPoint(h,u);_&&({startContainer:y,startOffset:S}=_,(!r.contentDOM.contains(y)||pe.safari&&bP(y,S,h)||pe.chrome&&wP(y,S,h))&&(y=void 0))}}if(!y||!r.docView.dom.contains(y)){let _=Pt.find(r.docView,d);if(!_)return f>l.top+l.height/2?l.to:l.from;({node:y,offset:S}=pu(_.dom,h,u))}let k=r.docView.nearest(y);if(!k)return null;if(k.isWidget&&((s=k.dom)===null||s===void 0?void 0:s.nodeType)==1){let _=k.dom.getBoundingClientRect();return e.y<_.top||e.y<=_.bottom&&e.x<=(_.left+_.right)/2?k.posAtStart:k.posAtEnd}else return k.localPosFromDOM(y,S)+k.posAtStart}function hy(r,e,t,i,n){let s=Math.round((i-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let a=Math.floor((n-t.top)/r.defaultLineHeight);s+=a*r.viewState.heightOracle.lineLength}let o=r.state.sliceDoc(t.from,t.to);return t.from+NA(o,s,r.state.tabSize)}function bP(r,e,t){let i;if(r.nodeType!=3||e!=(i=r.nodeValue.length))return!1;for(let n=r.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return Yn(r,i-1,i).getBoundingClientRect().left>t}function wP(r,e,t){if(e!=0)return!1;for(let n=r;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let i=r.nodeType==1?r.getBoundingClientRect():Yn(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function SP(r,e,t,i){let n=r.state.doc.lineAt(e.head),s=!i||!r.lineWrapping?null:r.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let l=r.dom.getBoundingClientRect(),c=r.textDirectionAt(n.from),h=r.posAtCoords({x:t==(c==tt.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(h!=null)return ce.cursor(h,t?-1:1)}let o=Pt.find(r.docView,e.head),a=o?t?o.posAtEnd:o.posAtStart:t?n.to:n.from;return ce.cursor(a,t?-1:1)}function uy(r,e,t,i){let n=r.state.doc.lineAt(e.head),s=r.bidiSpans(n),o=r.textDirectionAt(n.from);for(let a=e,l=null;;){let c=lP(n,s,o,a,t),h=Zm;if(!c){if(n.number==(t?r.state.doc.lines:1))return a;h=`
`,n=r.state.doc.line(n.number+(t?1:-1)),s=r.bidiSpans(n),c=ce.cursor(t?n.from:n.to)}if(l){if(!l(h))return a}else{if(!i)return c;l=i(h)}a=c}}function xP(r,e,t){let i=r.state.charCategorizer(e),n=i(t);return s=>{let o=i(s);return n==qr.Space&&(n=o),n==o}}function OP(r,e,t,i){let n=e.head,s=t?1:-1;if(n==(t?r.state.doc.length:0))return ce.cursor(n,e.assoc);let o=e.goalColumn,a,l=r.contentDOM.getBoundingClientRect(),c=r.coordsAtPos(n),h=r.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let d=r.viewState.lineBlockAt(n);o==null&&(o=Math.min(l.right-l.left,r.defaultCharacterWidth*(n-d.from))),a=(s<0?d.top:d.bottom)+h}let u=l.left+o,f=i??r.defaultLineHeight>>1;for(let d=0;;d+=10){let p=a+(f+d)*s,g=cy(r,{x:u,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?g<n:g>n))return ce.cursor(g,e.assoc,void 0,o)}}function gu(r,e,t){let i=r.state.facet(Qm).map(n=>n(r));for(;;){let n=!1;for(let s of i)s.between(t.from-1,t.from+1,(o,a,l)=>{t.from>o&&t.from<a&&(t=e.head>t.from?ce.cursor(o,1):ce.cursor(a,-1),n=!0)});if(!n)return t}}class CP{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let t=(i,n)=>{this.ignoreDuringComposition(n)||n.type=="keydown"&&this.keydown(e,n)||(this.mustFlushObserver(n)&&e.observer.forceFlush(),this.runCustomHandlers(n.type,e,n)?n.preventDefault():i(e,n))};for(let i in lt){let n=lt[i];e.contentDOM.addEventListener(i,s=>{py(e,s)&&t(n,s)},mu[i]),this.registeredEvents.push(i)}e.scrollDOM.addEventListener("mousedown",i=>{i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(lt.mousedown,i)}),pe.chrome&&pe.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,pe.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let n;this.customHandlers=[];for(let s of t)if(n=(i=s.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:n});for(let o in n)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{py(e,a)&&this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,t,i){for(let n of this.customHandlers){let s=n.handlers[e];if(s)try{if(s.call(n.plugin,i,t)||i.defaultPrevented)return!0}catch(o){Ai(t.state,o)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let n=i.handlers.scroll;if(n)try{n.call(i.plugin,t,e)}catch(s){Ai(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(pe.android&&pe.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return pe.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((i=fy.find(n=>n.keyCode==t.keyCode))&&!t.ctrlKey||kP.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=i||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,qn(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:pe.safari&&!pe.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const fy=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],kP="dthko",dy=[16,17,18,20,91,92,224,225];function Za(r){return r*.7+8}class AP{constructor(e,t,i,n){this.view=e,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=GA(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet($e.allowMultipleSelections)&&PP(e,t),this.dragMove=_P(e,t),this.dragging=EP(e,t)&&Cy(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let i=0,n=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=s.left?i=-Za(s.left-e.clientX):e.clientX>=s.right&&(i=Za(e.clientX-s.right)),e.clientY<=s.top?n=-Za(s.top-e.clientY):e.clientY>=s.bottom&&(n=Za(e.clientY-s.bottom)),this.setScrollSpeed(i,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function PP(r,e){let t=r.state.facet(Nm);return t.length?t[0](e):pe.mac?e.metaKey:e.ctrlKey}function _P(r,e){let t=r.state.facet(Fm);return t.length?t[0](e):pe.mac?!e.altKey:!e.ctrlKey}function EP(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let i=Wa(r.root);if(!i||i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let o=n[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function py(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=je.get(t))&&i.ignoreEvent(e))return!1;return!0}const lt=Object.create(null),mu=Object.create(null),gy=pe.ie&&pe.ie_version<15||pe.ios&&pe.webkit_version<604;function TP(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),my(r,t.value)},50)}function my(r,e){let{state:t}=r,i,n=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(yu!=null&&t.selection.ranges.every(l=>l.empty)&&yu==s.toString()){let l=-1;i=t.changeByRange(c=>{let h=t.doc.lineAt(c.from);if(h.from==l)return{range:c};l=h.from;let u=t.toText((o?s.line(n++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:u},range:ce.cursor(c.from+u.length)}})}else o?i=t.changeByRange(l=>{let c=s.line(n++);return{changes:{from:l.from,to:l.to,insert:c.text},range:ce.cursor(l.from+c.length)}}):i=t.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}lt.keydown=(r,e)=>{r.inputState.setSelectionOrigin("select"),e.keyCode==27?r.inputState.lastEscPress=Date.now():dy.indexOf(e.keyCode)<0&&(r.inputState.lastEscPress=0)},lt.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")},lt.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")},mu.touchstart=mu.touchmove={passive:!0},lt.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let i of r.state.facet(zm))if(t=i(r,e),t)break;if(!t&&e.button==0&&(t=DP(r,e)),t){let i=r.root.activeElement!=r.contentDOM;r.inputState.startMouseSelection(new AP(r,e,t,i)),i&&r.observer.ignore(()=>bm(r.contentDOM)),r.inputState.mouseSelection&&r.inputState.mouseSelection.start(e)}};function yy(r,e,t,i){if(i==1)return ce.cursor(e,t);if(i==2)return mP(r.state,e,t);{let n=Pt.find(r.docView,e),s=r.state.doc.lineAt(n?n.posAtEnd:e),o=n?n.posAtStart:s.from,a=n?n.posAtEnd:s.to;return a<r.state.doc.length&&a==s.to&&a++,ce.range(o,a)}}let vy=(r,e)=>r>=e.top&&r<=e.bottom,by=(r,e,t)=>vy(e,t)&&r>=t.left&&r<=t.right;function IP(r,e,t,i){let n=Pt.find(r.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&by(t,i,o))return-1;let a=n.coordsAt(s,1);return a&&by(t,i,a)?1:o&&vy(i,o)?-1:1}function wy(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:IP(r,t,e.clientX,e.clientY)}}const RP=pe.ie&&pe.ie_version<=11;let Sy=null,xy=0,Oy=0;function Cy(r){if(!RP)return r.detail;let e=Sy,t=Oy;return Sy=r,Oy=Date.now(),xy=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(xy+1)%3:1}function DP(r,e){let t=wy(r,e),i=Cy(e),n=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),n=n.map(s.changes))},get(s,o,a){let l=wy(r,s),c=yy(r,l.pos,l.bias,i);if(t.pos!=l.pos&&!o){let h=yy(r,t.pos,t.bias,i),u=Math.min(h.from,c.from),f=Math.max(h.to,c.to);c=u<c.from?ce.range(u,f):ce.range(f,u)}return o?n.replaceRange(n.main.extend(c.from,c.to)):a&&n.ranges.length>1&&n.ranges.some(h=>h.eq(c))?$P(n,c):a?n.addRange(c):ce.create([c])}}}function $P(r,e){for(let t=0;;t++)if(r.ranges[t].eq(e))return ce.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}lt.dragstart=(r,e)=>{let{selection:{main:t}}=r.state,{mouseSelection:i}=r.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",r.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function ky(r,e,t,i){if(!t)return;let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=r.inputState,o=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:n,insert:t},l=r.state.changes(o?[o,a]:a);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"})}lt.drop=(r,e)=>{if(!e.dataTransfer)return;if(r.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),n=0,s=()=>{++n==t.length&&ky(r,e,i.filter(o=>o!=null).join(r.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}}else ky(r,e,e.dataTransfer.getData("Text"),!0)},lt.paste=(r,e)=>{if(r.state.readOnly)return e.preventDefault();r.observer.flush();let t=gy?null:e.clipboardData;t?(my(r,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):TP(r)};function LP(r,e){let t=r.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function MP(r){let e=[],t=[],i=!1;for(let n of r.selection.ranges)n.empty||(e.push(r.sliceDoc(n.from,n.to)),t.push(n));if(!e.length){let n=-1;for(let{from:s}of r.selection.ranges){let o=r.doc.lineAt(s);o.number>n&&(e.push(o.text),t.push({from:o.from,to:Math.min(r.doc.length,o.to+1)})),n=o.number}i=!0}return{text:e.join(r.lineBreak),ranges:t,linewise:i}}let yu=null;lt.copy=lt.cut=(r,e)=>{let{text:t,ranges:i,linewise:n}=MP(r.state);if(!t&&!n)return;yu=n?t:null;let s=gy?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):LP(r,t),e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};const Ay=Si.define();function Py(r,e){let t=[];for(let i of r.facet(jm)){let n=i(r,e);n&&t.push(n)}return t?r.update({effects:t,annotations:Ay.of(!0)}):null}function _y(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=Py(r.state,e);t?r.dispatch(t):r.update([])}},10)}lt.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),_y(r)},lt.blur=r=>{r.observer.clearSelectionRange(),_y(r)},lt.compositionstart=lt.compositionupdate=r=>{r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0)},lt.compositionend=r=>{r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionFirstChange=null,pe.chrome&&pe.android&&r.observer.flushSoon(),setTimeout(()=>{r.inputState.composing<0&&r.docView.compositionDeco.size&&r.update([])},50)},lt.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()},lt.beforeinput=(r,e)=>{var t;let i;if(pe.chrome&&pe.android&&(i=fy.find(n=>n.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let n=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>n+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}};const Ey=["pre-wrap","normal","pre-line","break-spaces"];class BP{constructor(e){this.lineWrapping=e,this.doc=De.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Ey.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let n=e[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(t=!0,this.heightSamples[Math.floor(n*10)]=!0)}return t}refresh(e,t,i,n,s){let o=Ey.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.lineLength=n,a){this.heightSamples={};for(let l=0;l<s.length;l++){let c=s[l];c<0?l++:this.heightSamples[Math.floor(c*10)]=!0}}return a}}class NP{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Zr{constructor(e,t,i,n,s){this.from=e,this.length=t,this.top=i,this.height=n,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Zr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ve=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(Ve||(Ve={}));const Ja=.001;class _t{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Ja&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return _t.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,n){let s=this,o=i.doc;for(let a=n.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:h,toB:u}=n[a],f=s.lineAt(l,Ve.ByPosNoHeight,i.setDoc(t),0,0),d=f.to>=c?f:s.lineAt(c,Ve.ByPosNoHeight,i,0,0);for(u+=d.to-c,c=d.to;a>0&&f.from<=n[a-1].toA;)l=n[a-1].fromA,h=n[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Ve.ByPosNoHeight,i,0,0));h+=f.from-l,l=f.from;let p=vu.build(i.setDoc(o),e,h,u);s=s.replace(l,c,p)}return s.updateHeight(i,0)}static empty(){return new Xt(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,n=0,s=0;for(;;)if(t==i)if(n>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,n-=a.size}else if(s>n*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(n<s){let a=e[t++];a&&(n+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new FP(_t.of(e.slice(0,t)),o,_t.of(e.slice(i)))}}_t.prototype.size=1;class Ty extends _t{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,n){return new Zr(n,this.length,i,this.height,this.type)}lineAt(e,t,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(e,t,i,n,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,n,s))}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Xt extends Ty{constructor(e,t){super(e,t,Fe.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let n=i[0];return i.length==1&&(n instanceof Xt||n instanceof gt&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof gt?n=new Xt(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):_t.of(i)}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more?this.setHeight(e,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class gt extends _t{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,s=n-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,a=(this.height-l)/(this.length-s-1)}else o=this.height/s;return{firstLine:i,lastLine:n,perLine:o,perChar:a}}blockAt(e,t,i,n){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,n);if(t.lineWrapping){let c=n+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),h=t.doc.lineAt(c),u=a+h.length*l,f=Math.max(i,e-u/2);return new Zr(h.from,h.length,f,u,Fe.Text)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:h,length:u}=t.doc.line(s+c);return new Zr(h,u,i+a*c,a,Fe.Text)}}lineAt(e,t,i,n,s){if(t==Ve.ByHeight)return this.blockAt(e,i,n,s);if(t==Ve.ByPosNoHeight){let{from:d,to:p}=i.doc.lineAt(e);return new Zr(d,p-d,0,0,Fe.Text)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),c=i.doc.lineAt(e),h=a+c.length*l,u=c.number-o,f=n+a*u+l*(c.from-s-u);return new Zr(c.from,c.length,Math.max(n,Math.min(f,n+this.height-h)),h,Fe.Text)}forEachLine(e,t,i,n,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,s);for(let h=e,u=n;h<=t;){let f=i.doc.lineAt(h);if(h==e){let p=f.number-a;u+=l*p+c*(e-s-p)}let d=l+c*f.length;o(new Zr(f.from,f.length,u,d,Fe.Text)),u+=d,h=f.to+1}}replace(e,t,i){let n=this.length-t;if(n>0){let s=i[i.length-1];s instanceof gt?i[i.length-1]=new gt(s.length+n):i.push(null,new gt(n-1))}if(e>0){let s=i[0];s instanceof gt?i[0]=new gt(e+s.length):i.unshift(new gt(e-1),null)}return _t.of(i)}decomposeLeft(e,t){t.push(new gt(e-1),null)}decomposeRight(e,t){t.push(null,new gt(this.length-e-1))}updateHeight(e,t=0,i=!1,n){let s=t+this.length;if(n&&n.from<=t+this.length&&n.more){let o=[],a=Math.max(t,n.from),l=-1;for(n.from>t&&o.push(new gt(n.from-t-1).updateHeight(e,t));a<=s&&n.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let u=n.heights[n.index++];l==-1?l=u:Math.abs(u-l)>=Ja&&(l=-2);let f=new Xt(h,u);f.outdated=!1,o.push(f),a+=h+1}a<=s&&o.push(null,new gt(s-a).updateHeight(e,a));let c=_t.of(o);return(l<0||Math.abs(c.height-this.height)>=Ja||Math.abs(l-this.heightMetrics(e,t).perLine)>=Ja)&&(e.heightChanged=!0),c}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class FP extends _t{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,n){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,n):this.right.blockAt(e,t,s,n+this.left.length+this.break)}lineAt(e,t,i,n,s){let o=n+this.left.height,a=s+this.left.length+this.break,l=t==Ve.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,i,n,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let h=t==Ve.ByPosNoHeight?Ve.ByPosNoHeight:Ve.ByPos;return l?c.join(this.right.lineAt(a,h,i,o,a)):this.left.lineAt(a,h,i,n,s).join(c)}forEachLine(e,t,i,n,s,o){let a=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,n,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let c=this.lineAt(l,Ve.ByPos,i,n,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,n,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,a,l,o)}}replace(e,t,i){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&Iy(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),Iy(s,a)}return _t.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,n=i+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?_t.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,n){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return n&&n.from<=t+s.length&&n.more?l=s=s.updateHeight(e,t,i,n):s.updateHeight(e,t,i),n&&n.from<=a+o.length&&n.more?l=o=o.updateHeight(e,a,i,n):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Iy(r,e){let t,i;r[e]==null&&(t=r[e-1])instanceof gt&&(i=r[e+1])instanceof gt&&r.splice(e-1,3,new gt(t.length+1+i.length))}const zP=5;class vu{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Xt?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Xt(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0;n<0&&(n=this.oracle.lineHeight);let s=t-e;i.block?this.addBlock(new Ty(s,n,i.type)):(s||n>=zP)&&this.addLineDeco(n,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Xt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new gt(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Xt)return e;let t=new Xt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==Fe.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Fe.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Xt)&&!this.isCovered?this.nodes.push(new Xt(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let n of this.nodes)n instanceof Xt&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(e,t,i,n){let s=new vu(i,e);return Xe.spans(t,i,n,s,0),s.finish(i)}}function HP(r,e,t){let i=new WP;return Xe.compare(r,e,t,i,0),i.changes}class WP{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,n){(e<t||i&&i.heightRelevant||n&&n.heightRelevant)&&ou(e,t,this.changes,5)}}function jP(r,e){let t=r.getBoundingClientRect(),i=r.ownerDocument,n=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(n.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(n.innerHeight,t.bottom);for(let c=r.parentNode;c&&c!=i.body;)if(c.nodeType==1){let h=c,u=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&u.overflow!="visible"){let f=h.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=c==r.parentNode?f.bottom:Math.min(l,f.bottom)}c=u.position=="absolute"||u.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function VP(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class bu{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e){return Ze.replace({widget:new UP(this.size,e)}).range(this.from,this.to)}}class UP extends Zn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Ry{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=Dy,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=tt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(hu).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new BP(t),this.stateDeco=e.facet(to).filter(i=>typeof i!="function"),this.heightMap=_t.empty().applyChanges(this.stateDeco,De.empty,this.heightOracle.setDoc(e.doc),[new Lr(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ze.set(this.lineGaps.map(i=>i.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let n=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>n>=s&&n<=o)){let{from:s,to:o}=this.lineBlockAt(n);e.push(new el(s,o))}}this.viewports=e.sort((i,n)=>i.from-n.from),this.scaler=this.heightMap.height<=7e6?Dy:new QP(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:io(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(to).filter(c=>typeof c!="function");let n=e.changedRanges,s=Lr.extendWithRanges(n,HP(i,this.stateDeco,e?e.changes:st.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Um)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?tt.RTL:tt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0,u=parseInt(i.paddingTop)||0,f=parseInt(i.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=f)&&(this.paddingTop=u,this.paddingBottom=f,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=(this.printing?VP:jP)(t,this.paddingTop),p=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let k=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(k)&&(o=!0),o||n.lineWrapping&&Math.abs(y-this.contentDOMWidth)>n.charWidth){let{lineHeight:_,charWidth:T}=e.docView.measureTextSize();o=_>0&&n.refresh(s,_,T,y/T,k),o&&(e.docView.minWidth=0,c|=8)}p>0&&g>0?h=Math.max(p,g):p<0&&g<0&&(h=Math.min(p,g)),n.heightChanged=!1;for(let _ of this.viewports){let T=_.from==this.viewport.from?k:e.docView.measureVisibleLineHeights(_);this.heightMap=(o?_t.empty().applyChanges(this.stateDeco,De.empty,this.heightOracle,[new Lr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new NP(_.from,T))}n.heightChanged&&(c|=2)}let S=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return S&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(c&2||S)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new el(n.lineAt(o-i*1e3,Ve.ByHeight,s,0,0).from,n.lineAt(a+(1-i)*1e3,Ve.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=n.lineAt(c,Ve.ByPos,s,0,0),f;t.y=="center"?f=(u.top+u.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&c<l.from?f=u.top:f=u.bottom-h,l=new el(n.lineAt(f-1e3/2,Ve.ByHeight,s,0,0).from,n.lineAt(f+h+1e3/2,Ve.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new el(this.heightMap.lineAt(i,Ve.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Ve.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,Ve.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Ve.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||n<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&n>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let n of e)t.touchesRange(n.from,n.to)||i.push(new bu(t.mapPos(n.from),t.mapPos(n.to),n.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,o=n<<1;if(this.defaultTextDirection!=tt.LTR&&!i)return[];let a=[],l=(c,h,u,f)=>{if(h-c<s)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let v of p)if(v>c&&v<h){l(c,v-10,u,f),l(v+10,h,u,f);return}let g=GP(e,v=>v.from>=u.from&&v.to<=u.to&&Math.abs(v.from-c)<s&&Math.abs(v.to-h)<s&&!p.some(y=>v.from<y&&v.to>y));if(!g){if(h<u.to&&t&&i&&t.visibleRanges.some(v=>v.from<=h&&v.to>=h)){let v=t.moveToLineBoundary(ce.cursor(h),!1,!0).head;v>c&&(h=v)}g=new bu(c,h,this.gapSize(u,c,h,f))}a.push(g)};for(let c of this.viewportLines){if(c.length<o)continue;let h=XP(c.from,c.to,this.stateDeco);if(h.total<o)continue;let u=this.scrollTarget?this.scrollTarget.range.head:null,f,d;if(i){let p=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,v;if(u!=null){let y=rl(h,u),S=((this.visibleBottom-this.visibleTop)/2+p)/c.height;g=y-S,v=y+S}else g=(this.visibleTop-c.top-p)/c.height,v=(this.visibleBottom-c.top+p)/c.height;f=tl(h,g),d=tl(h,v)}else{let p=h.total*this.heightOracle.charWidth,g=n*this.heightOracle.charWidth,v,y;if(u!=null){let S=rl(h,u),k=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p;v=S-k,y=S+k}else v=(this.pixelViewport.left-g)/p,y=(this.pixelViewport.right+g)/p;f=tl(h,v),d=tl(h,y)}f>c.from&&l(c.from,f,c,h),d<c.to&&l(d,c.to,c,h)}return a}gapSize(e,t,i,n){let s=rl(n,i)-rl(n,t);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){bu.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ze.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Xe.spans(e,this.viewport.from,this.viewport.to,{span(n,s){t.push({from:n,to:s})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=t[s].from||n.to!=t[s].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||io(this.heightMap.lineAt(e,Ve.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return io(this.heightMap.lineAt(this.scaler.fromDOM(e),Ve.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return io(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class el{constructor(e,t){this.from=e,this.to=t}}function XP(r,e,t){let i=[],n=r,s=0;return Xe.spans(t,r,e,{span(){},point(o,a){o>n&&(i.push({from:n,to:o}),s+=o-n),n=a}},20),n<e&&(i.push({from:n,to:e}),s+=e-n),{total:s,ranges:i}}function tl({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(r*t);for(let n=0;;n++){let{from:s,to:o}=e[n],a=o-s;if(i<=a)return s+i;i-=a}}function rl(r,e){let t=0;for(let{from:i,to:n}of r.ranges){if(e<=n){t+=e-i;break}t+=n-i}return t/r.total}function GP(r,e){for(let t of r)if(e(t))return t}const Dy={toDOM(r){return r},fromDOM(r){return r},scale:1};class QP{constructor(e,t,i){let n=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=t.lineAt(a,Ve.ByPos,e,0,0).top,h=t.lineAt(l,Ve.ByPos,e,0,0).bottom;return n+=h-c,{from:a,to:l,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return n+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,n=s.domBottom}}fromDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,n=s.domBottom}}}function io(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),i=e.toDOM(r.bottom);return new Zr(r.from,r.length,t,i-t,Array.isArray(r.type)?r.type.map(n=>io(n,e)):r.type)}const il=ye.define({combine:r=>r.join(" ")}),wu=ye.define({combine:r=>r.indexOf(!0)>-1}),Su=xi.newName(),$y=xi.newName(),Ly=xi.newName(),My={"&light":"."+$y,"&dark":"."+Ly};function xu(r,e,t){return new xi(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!t||!t[n])throw new RangeError(`Unsupported selector: ${n}`);return t[n]}):r+" "+i}})}const YP=xu("."+Su,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},My);class qP{constructor(e,t,i,n){this.typeOver=n,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=s||o?[]:ZP(e),l=new Jm(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=JP(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Gn(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Gn(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=ce.single(c,l)}}}function By(r,e){let t,{newSel:i}=e,n=r.state.selection.main;if(e.bounds){let{from:s,to:o}=e.bounds,a=n.from,l=null;(r.inputState.lastKeyCode===8&&r.inputState.lastKeyTime>Date.now()-100||pe.android&&e.text.length<o-s)&&(a=n.to,l="end");let c=KP(r.state.doc.sliceString(s,o,Pi),e.text,a-s,l);c&&(pe.chrome&&r.inputState.lastKeyCode==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Pi+Pi&&c.toB--,t={from:s+c.from,to:s+c.toA,insert:De.of(e.text.slice(c.from,c.toB).split(Pi))})}else i&&(!r.hasFocus&&r.state.facet(qa)||i.main.eq(n))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!n.empty&&i&&i.main.empty?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,n.to)}:t&&t.from>=n.from&&t.to<=n.to&&(t.from!=n.from||t.to!=n.to)&&n.to-n.from-(t.to-t.from)<=4?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,n.to))}:(pe.mac||pe.android)&&t&&t.from==t.to&&t.from==n.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=ce.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:De.of([" "])}):pe.chrome&&t&&t.from==t.to&&t.from==n.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=ce.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:De.of([" "])}),t){let s=r.state;if(pe.ios&&r.inputState.flushIOSKey(r)||pe.android&&(t.from==n.from&&t.to==n.to&&t.insert.length==1&&t.insert.lines==2&&qn(r.contentDOM,"Enter",13)||t.from==n.from-1&&t.to==n.to&&t.insert.length==0&&qn(r.contentDOM,"Backspace",8)||t.from==n.from&&t.to==n.to+1&&t.insert.length==0&&qn(r.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();if(r.state.facet(Wm).some(c=>c(r,t.from,t.to,o)))return!0;r.inputState.composing>=0&&r.inputState.composing++;let a;if(t.from>=n.from&&t.to<=n.to&&t.to-t.from>=(n.to-n.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&r.inputState.composing<0){let c=n.from<t.from?s.sliceDoc(n.from,t.from):"",h=n.to>t.to?s.sliceDoc(t.to,n.to):"";a=s.replaceSelection(r.state.toText(c+t.insert.sliceString(0,void 0,r.state.lineBreak)+h))}else{let c=s.changes(t),h=i&&!s.selection.main.eq(i.main)&&i.main.to<=c.newLength?i.main:void 0;if(s.selection.ranges.length>1&&r.inputState.composing>=0&&t.to<=n.to&&t.to>=n.to-10){let u=r.state.sliceDoc(t.from,t.to),f=ny(r)||r.state.doc.lineAt(n.head),d=n.to-t.to,p=n.to-n.from;a=s.changeByRange(g=>{if(g.from==n.from&&g.to==n.to)return{changes:c,range:h||g.map(c)};let v=g.to-d,y=v-u.length;if(g.to-g.from!=p||r.state.sliceDoc(y,v)!=u||f&&g.to>=f.from&&g.from<=f.to)return{range:g};let S=s.changes({from:y,to:v,insert:t.insert}),k=g.to-n.to;return{changes:S,range:h?ce.range(Math.max(0,h.anchor+k),Math.max(0,h.head+k)):g.map(S)}})}else a={changes:c,selection:h&&s.selection.replaceRange(h)}}let l="input.type";return r.composing&&(l+=".compose",r.inputState.compositionFirstChange&&(l+=".start",r.inputState.compositionFirstChange=!1)),r.dispatch(a,{scrollIntoView:!0,userEvent:l}),!0}else if(i&&!i.main.eq(n)){let s=!1,o="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(s=!0),o=r.inputState.lastSelectionOrigin),r.dispatch({selection:i,scrollIntoView:s,userEvent:o}),!0}else return!1}function KP(r,e,t,i){let n=Math.min(r.length,e.length),s=0;for(;s<n&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&r.length==e.length)return null;let o=r.length,a=e.length;for(;o>0&&a>0&&r.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&r.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function ZP(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new ty(t,i)),(n!=t||s!=i)&&e.push(new ty(n,s))),e}function JP(r,e){if(r.length==0)return null;let t=r[0].pos,i=r.length==2?r[1].pos:t;return t>-1&&i>-1?ce.single(t+e,i+e):null}const e_={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Ou=pe.ie&&pe.ie_version<=11;class t_{constructor(e){this.view=e,this.active=!1,this.selectionRange=new QA,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(pe.ie&&pe.ie_version<=11||pe.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Ou&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(qa)?i.root.activeElement!=this.dom:!ja(i.dom,n))return;let s=n.anchorNode&&i.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(pe.ie&&pe.ie_version<=11||pe.android&&pe.chrome)&&!i.state.selection.main.empty&&n.focusNode&&Va(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=pe.safari&&e.root.nodeType==11&&VA(this.dom.ownerDocument)==this.dom&&r_(this.view)||Wa(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=ja(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&qA(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,e_),Ou&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Ou&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),!this.flush()&&s.force&&qn(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let s of this.observer.takeRecords())e.push(s);e.length&&(this.queue=[]);let t=-1,i=-1,n=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(n=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:n}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),n=this.selectionChanged&&ja(this.dom,this.selectionRange);return e<0&&!n?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new qP(this.view,e,t,i))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let i=this.view.state,n=By(this.view,t);return this.view.state==i&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=Ny(t,e.previousSibling||e.target.previousSibling,-1),n=Ny(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(n=this.resizeContent)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Ny(r,e,t){for(;e;){let i=je.get(e);if(i&&i.parent==r)return i;let n=e.parentNode;e=n!=r.dom?n:t>0?e.nextSibling:e.previousSibling}return null}function r_(r){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(r.contentDOM.addEventListener("beforeinput",t,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset,a=r.docView.domAtPos(r.state.selection.main.anchor);return Va(a.node,a.offset,s,o)&&([i,n,s,o]=[s,o,i,n]),{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:o}}class xe{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||YA(e.parent)||document,this.viewState=new Ry(e.state||$e.create(e)),this.plugins=this.state.facet(eo).map(t=>new cu(t));for(let t of this.plugins)t.update(this);this.observer=new t_(this),this.inputState=new CP(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new ry(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof at?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,n,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(Ay))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=Py(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet($e.phrases)!=this.state.facet($e.phrases))return this.setState(s);n=Ka.create(this,s,e),n.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(u&&(u=u.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;u=new Ya(d.empty?d:ce.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(Xm)&&(u=d.value)}this.viewState.update(n,u),this.bidiCache=nl.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(ro)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(il)!=n.state.facet(il)&&(this.viewState.mustMeasureContent=!0),(t||i||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty)for(let f of this.state.facet(lu))f(n);(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!By(this,h)&&c.force&&qn(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Ry(e),this.plugins=e.facet(eo).map(i=>new cu(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new ry(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(eo),i=e.state.facet(eo);if(t!=i){let n=[];for(let s of i){let o=t.indexOf(s);if(o<0)n.push(new cu(s));else{let a=this.plugins[o];a.mustUpdate=e,n.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:i,scrollTop:n,clientHeight:s}=this.scrollDOM,o=n>i-s-4?i:n;try{for(let a=0;;a++){this.updateState=1;let l=this.viewport,c=this.viewState.lineBlockAtHeight(o),h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];h&4||([this.measureRequests,u]=[u,this.measureRequests]);let f=u.map(v=>{try{return v.read(this)}catch(y){return Ai(this.state,y),Fy}}),d=Ka.create(this,this.state,[]),p=!1,g=!1;d.flags|=h,t?t.flags|=h:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d));for(let v=0;v<u.length;v++)if(f[v]!=Fy)try{let y=u[v];y.write&&y.write(f[v],this)}catch(y){Ai(this.state,y)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else{let v=this.viewState.lineBlockAt(c.from).top-c.top;(v>1||v<-1)&&(this.scrollDOM.scrollTop+=v,g=!0)}if(p&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!g&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(lu))a(t)}get themeClasses(){return Su+" "+(this.state.facet(wu)?Ly:$y)+" "+this.state.facet(il)}updateAttrs(){let e=zy(this,Gm,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(qa)?"true":"false",class:"cm-content",style:`${pe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),zy(this,hu,t);let i=this.observer.ignore(()=>{let n=su(this.contentDOM,this.contentAttrs,t),s=su(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let n of i.effects)if(n.is(xe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(ro),xi.mount(this.root,this.styleModules.concat(YP).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return gu(this,e,uy(this,e,t,i))}moveByGroup(e,t){return gu(this,e,uy(this,e,t,i=>xP(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return SP(this,e,t,i)}moveVertically(e,t,i){return gu(this,e,OP(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),cy(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),o=s[Jn.find(s,e-n.from,-1,t)];return Yh(i,o.dir==tt.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Vm)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>i_)return Km(e.length);let t=this.textDirectionAt(e.from);for(let n of this.bidiCache)if(n.from==e.from&&n.dir==t)return n.order;let i=aP(e.text,t);return this.bidiCache.push(new nl(e.from,e.to,t,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||pe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{bm(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Xm.of(new Ya(typeof e=="number"?ce.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Kr.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=xi.newName(),n=[il.of(i),ro.of(xu(`.${i}`,e))];return t&&t.dark&&n.push(wu.of(!0)),n}static baseTheme(e){return Da.lowest(ro.of(xu("."+Su,e,My)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),n=i&&je.get(i)||je.get(e);return((t=n==null?void 0:n.rootView)===null||t===void 0?void 0:t.view)||null}}xe.styleModule=ro,xe.inputHandler=Wm,xe.focusChangeEffect=jm,xe.perLineTextDirection=Vm,xe.exceptionSink=Hm,xe.updateListener=lu,xe.editable=qa,xe.mouseSelectionStyle=zm,xe.dragMovesSelection=Fm,xe.clickAddsSelectionRange=Nm,xe.decorations=to,xe.atomicRanges=Qm,xe.scrollMargins=Ym,xe.darkTheme=wu,xe.contentAttributes=hu,xe.editorAttributes=Gm,xe.lineWrapping=xe.contentAttributes.of({class:"cm-lineWrapping"}),xe.announce=ot.define();const i_=4096,Fy={};class nl{constructor(e,t,i,n){this.from=e,this.to=t,this.dir=i,this.order=n}static update(e,t){if(t.empty)return e;let i=[],n=e.length?e[e.length-1].dir:tt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==n&&!t.touchesRange(o.from,o.to)&&i.push(new nl(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return i}}function zy(r,e,t){for(let i=r.state.facet(e),n=i.length-1;n>=0;n--){let s=i[n],o=typeof s=="function"?s(r):s;o&&iu(o,t)}return t}const n_=pe.mac?"mac":pe.windows?"win":pe.linux?"linux":"key";function s_(r,e){const t=r.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let n,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function sl(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const o_=Da.default(xe.domEventHandlers({keydown(r,e){return h_(a_(e.state),r,e,"editor")}})),Hy=ye.define({enables:o_}),Wy=new WeakMap;function a_(r){let e=r.facet(Hy),t=Wy.get(e);return t||Wy.set(e,t=c_(e.reduce((i,n)=>i.concat(n),[]))),t}let _i=null;const l_=4e3;function c_(r,e=n_){let t=Object.create(null),i=Object.create(null),n=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c)=>{var h,u;let f=t[o]||(t[o]=Object.create(null)),d=a.split(/ (?!$)/).map(v=>s_(v,e));for(let v=1;v<d.length;v++){let y=d.slice(0,v).join(" ");n(y,!0),f[y]||(f[y]={preventDefault:!0,run:[S=>{let k=_i={view:S,prefix:y,scope:o};return setTimeout(()=>{_i==k&&(_i=null)},l_),!0}]})}let p=d.join(" ");n(p,!1);let g=f[p]||(f[p]={preventDefault:!1,run:((u=(h=f._any)===null||h===void 0?void 0:h.run)===null||u===void 0?void 0:u.slice())||[]});l&&g.run.push(l),c&&(g.preventDefault=!0)};for(let o of r){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let h=t[c]||(t[c]=Object.create(null));h._any||(h._any={preventDefault:!1,run:[]});for(let u in h)h[u].run.push(o.any)}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault)}return t}function h_(r,e,t,i){let n=jA(e),s=js(n,0),o=Rh(s)==n.length&&n!=" ",a="",l=!1;_i&&_i.view==t&&_i.scope==i&&(a=_i.prefix+" ",(l=dy.indexOf(e.keyCode)<0)&&(_i=null));let c=new Set,h=p=>{if(p){for(let g of p.run)if(!c.has(g)&&(c.add(g),g(t,e)))return!0;p.preventDefault&&(l=!0)}return!1},u=r[i],f,d;if(u){if(h(u[a+sl(n,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(pe.windows&&e.ctrlKey&&e.altKey)&&(f=Oi[e.keyCode])&&f!=n){if(h(u[a+sl(f,e,!0)]))return!0;if(e.shiftKey&&(d=qs[e.keyCode])!=n&&d!=f&&h(u[a+sl(d,e,!1)]))return!0}else if(o&&e.shiftKey&&h(u[a+sl(n,e,!0)]))return!0;if(h(u._any))return!0}return l}class no{constructor(e,t,i,n,s){this.className=e,this.left=t,this.top=i,this.width=n,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let n=e.coordsAtPos(i.head,i.assoc||1);if(!n)return[];let s=jy(e);return[new no(t,n.left-s.left,n.top-s.top,null,n.bottom-n.top)]}else return u_(e,t,i)}}function jy(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==tt.LTR?e.left:e.right-r.scrollDOM.clientWidth)-r.scrollDOM.scrollLeft,top:e.top-r.scrollDOM.scrollTop}}function Vy(r,e,t){let i=ce.cursor(e);return{from:Math.max(t.from,r.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,r.moveToLineBoundary(i,!0,!0).from),type:Fe.Text}}function Uy(r,e){let t=r.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==Fe.Text))return i}return t}function u_(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let i=Math.max(t.from,r.viewport.from),n=Math.min(t.to,r.viewport.to),s=r.textDirection==tt.LTR,o=r.contentDOM,a=o.getBoundingClientRect(),l=jy(r),c=o.querySelector(".cm-line"),h=c&&window.getComputedStyle(c),u=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),f=a.right-(h?parseInt(h.paddingRight):0),d=Uy(r,i),p=Uy(r,n),g=d.type==Fe.Text?d:null,v=p.type==Fe.Text?p:null;if(r.lineWrapping&&(g&&(g=Vy(r,i,g)),v&&(v=Vy(r,n,v))),g&&v&&g.from==v.from)return S(k(t.from,t.to,g));{let T=g?k(t.from,null,g):_(d,!1),R=v?k(null,t.to,v):_(p,!0),D=[];return(g||d).to<(v||p).from-1?D.push(y(u,T.bottom,f,R.top)):T.bottom<R.top&&r.elementAtHeight((T.bottom+R.top)/2).type==Fe.Text&&(T.bottom=R.top=(T.bottom+R.top)/2),S(T).concat(D).concat(S(R))}function y(T,R,D,j){return new no(e,T-l.left,R-l.top-.01,D-T,j-R+.01)}function S({top:T,bottom:R,horizontal:D}){let j=[];for(let M=0;M<D.length;M+=2)j.push(y(D[M],T,D[M+1],R));return j}function k(T,R,D){let j=1e9,M=-1e9,G=[];function ie(m,L,Y,X,re){let H=r.coordsAtPos(m,m==D.to?-2:2),te=r.coordsAtPos(Y,Y==D.from?2:-2);j=Math.min(H.top,te.top,j),M=Math.max(H.bottom,te.bottom,M),re==tt.LTR?G.push(s&&L?u:H.left,s&&X?f:te.right):G.push(!s&&X?u:te.left,!s&&L?f:H.right)}let w=T??D.from,C=R??D.to;for(let m of r.visibleRanges)if(m.to>w&&m.from<C)for(let L=Math.max(m.from,w),Y=Math.min(m.to,C);;){let X=r.state.doc.lineAt(L);for(let re of r.bidiSpans(X)){let H=re.from+X.from,te=re.to+X.from;if(H>=Y)break;te>L&&ie(Math.max(H,L),T==null&&H<=w,Math.min(te,Y),R==null&&te>=C,re.dir)}if(L=X.to+1,L>=Y)break}return G.length==0&&ie(w,T==null,C,R==null,r.textDirection),{top:j,bottom:M,horizontal:G}}function _(T,R){let D=a.top+(R?T.top:T.bottom);return{top:D,bottom:D,horizontal:[]}}}function f_(r,e){return r.constructor==e.constructor&&r.eq(e)}let d_=class{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(ol)!=e.state.facet(ol)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(ol);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!f_(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let n of e)n.update&&t&&n.constructor&&this.drawn[i].constructor&&n.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(n.draw(),t);for(;t;){let n=t.nextSibling;t.remove(),t=n}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}};const ol=ye.define();function Xy(r){return[Kr.define(e=>new d_(e,r)),ol.of(r)]}const Gy=!pe.ios,so=ye.define({combine(r){return Ba(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function p_(r={}){return[so.of(r),g_,m_,y_,Um.of(!0)]}function Qy(r){return r.startState.facet(so)!=r.state.facet(so)}const g_=Xy({above:!0,markers(r){let{state:e}=r,t=e.facet(so),i=[];for(let n of e.selection.ranges){let s=n==e.selection.main;if(n.empty?!s||Gy:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=n.empty?n:ce.cursor(n.head,n.head>n.anchor?-1:1);for(let l of no.forRange(r,o,a))i.push(l)}}return i},update(r,e){r.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Qy(r);return t&&Yy(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){Yy(e.state,r)},class:"cm-cursorLayer"});function Yy(r,e){e.style.animationDuration=r.facet(so).cursorBlinkRate+"ms"}const m_=Xy({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:no.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||Qy(r)},class:"cm-selectionLayer"}),qy={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Gy&&(qy[".cm-line"].caretColor="transparent !important");const y_=Da.highest(xe.theme(qy));function Ky(r,e,t,i,n){e.lastIndex=0;for(let s=r.iterRange(t,i),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)n(o+a.index,a)}function v_(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let i=[];for(let{from:n,to:s}of t)n=Math.max(r.state.doc.lineAt(n).from,n-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=n?i[i.length-1].to=s:i.push({from:n,to:s});return i}class b_{constructor(e){const{regexp:t,decoration:i,decorate:n,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,n)this.addMatch=(a,l,c,h)=>n(h,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,h)=>{let u=i(a,l,c);u&&h(c,c+a[0].length,u)};else if(i)this.addMatch=(a,l,c,h)=>h(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Xn,i=t.add.bind(t);for(let{from:n,to:s}of v_(e,this.maxLength))Ky(e.state.doc,this.regexp,n,s,(o,a)=>this.addMatch(a,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,n=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(i=Math.min(a,i),n=Math.max(l,n))}),e.viewportChanged||n-i>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,t.map(e.changes),i,n):t}updateRange(e,t,i,n){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,n);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,h=Math.max(s.from,l.from),u=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){h=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){u=a;break}}let f=[],d,p=(g,v,y)=>f.push(y.range(g,v));if(l==c)for(this.regexp.lastIndex=h-l.from;(d=this.regexp.exec(l.text))&&d.index<u-l.from;)this.addMatch(d,e,d.index+l.from,p);else Ky(e.state.doc,this.regexp,h,u,(g,v)=>this.addMatch(v,e,g,p));t=t.update({filterFrom:h,filterTo:u,filter:(g,v)=>g<h||v>u,add:f})}}return t}}const Cu=/x/.unicode!=null?"gu":"g",w_=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Cu),S_={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ku=null;function x_(){var r;if(ku==null&&typeof document<"u"&&document.body){let e=document.body.style;ku=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return ku||!1}const al=ye.define({combine(r){let e=Ba(r,{render:null,specialChars:w_,addSpecialChars:null});return(e.replaceTabs=!x_())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Cu)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Cu)),e}});function O_(r={}){return[al.of(r),C_()]}let Zy=null;function C_(){return Zy||(Zy=Kr.fromClass(class{constructor(r){this.view=r,this.decorations=Ze.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(al)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new b_({regexp:r.specialChars,decoration:(e,t,i)=>{let{doc:n}=t.state,s=js(e[0],0);if(s==9){let o=n.lineAt(i),a=t.state.tabSize,l=za(o.text,a,i-o.from);return Ze.replace({widget:new __((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=Ze.replace({widget:new P_(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(al);r.startState.facet(al)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const k_="•";function A_(r){return r>=32?k_:r==10?"␤":String.fromCharCode(9216+r)}class P_ extends Zn{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=A_(this.code),i=e.state.phrase("Control character")+" "+(S_[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,i,t);if(n)return n;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class __ extends Zn{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}class nn extends Un{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}nn.prototype.elementClass="",nn.prototype.toDOM=void 0,nn.prototype.mapMode=Vt.TrackBefore,nn.prototype.startSide=nn.prototype.endSide=-1,nn.prototype.point=!0;const Au=ye.define(),ll=ye.define(),Pu=ye.define({combine:r=>r.some(e=>e)});function E_(r){let e=[T_];return r&&r.fixed===!1&&e.push(Pu.of(!0)),e}const T_=Kr.fromClass(class{constructor(r){this.view=r,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=r.state.facet(ll).map(e=>new tv(r,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!r.state.facet(Pu),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}r.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Pu)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&this.dom.remove();let t=Xe.iter(this.view.state.facet(Au),this.view.viewport.from),i=[],n=this.gutters.map(s=>new I_(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let o;if(Array.isArray(s.type)){for(let a of s.type)if(a.type==Fe.Text){o=a;break}}else o=s.type==Fe.Text?s:void 0;if(o){i.length&&(i=[]),ev(t,i,s.from);for(let a of n)a.line(this.view,o,i)}}for(let s of n)s.finish();r&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(r){let e=r.startState.facet(ll),t=r.state.facet(ll),i=r.docChanged||r.heightChanged||r.viewportChanged||!Xe.eq(r.startState.facet(Au),r.state.facet(Au),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let n of this.gutters)n.update(r)&&(i=!0);else{i=!0;let n=[];for(let s of t){let o=e.indexOf(s);o<0?n.push(new tv(this.view,s)):(this.gutters[o].update(r),n.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)this.dom.appendChild(s.dom);this.gutters=n}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove()}},{provide:r=>xe.scrollMargins.of(e=>{let t=e.plugin(r);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==tt.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function Jy(r){return Array.isArray(r)?r:[r]}function ev(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class I_{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Xe.iter(e.markers,t.from)}line(e,t,i){let n=[];ev(this.cursor,n,t.from),i.length&&(n=n.concat(i));let s=this.gutter.config.lineMarker(e,t,n);s&&n.unshift(s);let o=this.gutter;if(n.length==0&&!o.config.renderEmptyElements)return;let a=t.top-this.height;if(this.i==o.elements.length){let l=new rv(e,t.height,a,n);o.elements.push(l),o.dom.appendChild(l.dom)}else o.elements[this.i].update(e,t.height,a,n);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class tv{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,n=>{let s=n.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=n.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,a,n)&&n.preventDefault()});this.markers=Jy(t.markers(e)),t.initialSpacer&&(this.spacer=new rv(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Jy(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let i=e.view.viewport;return!Xe.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class rv{constructor(e,t,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,n)}update(e,t,i,n){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),R_(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let h=l.elementClass;h&&(i+=" "+h);for(let u=o;u<this.markers.length;u++)if(this.markers[u].compare(l)){a=u,c=!0;break}}else a=this.markers.length;for(;o<a;){let h=this.markers[o++];if(h.toDOM){h.destroy(n);let u=n.nextSibling;n.remove(),n=u}}if(!l)break;l.toDOM&&(c?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),c&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function R_(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const D_=ye.define(),es=ye.define({combine(r){return Ba(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let n in t){let s=i[n],o=t[n];i[n]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})}});class _u extends nn{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Eu(r,e){return r.state.facet(es).formatNumber(e,r.state)}const $_=ll.compute([es],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(D_)},lineMarker(e,t,i){return i.some(n=>n.toDOM)?null:new _u(Eu(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:e=>e.startState.facet(es)!=e.state.facet(es),initialSpacer(e){return new _u(Eu(e,iv(e.state.doc.lines)))},updateSpacer(e,t){let i=Eu(t.view,iv(t.view.state.doc.lines));return i==e.number?e:new _u(i)},domEventHandlers:r.facet(es).domEventHandlers}));function L_(r={}){return[es.of(r),E_(),$_]}function iv(r){let e=9;for(;e<r;)e=e*10+9;return e}var Tu;const ts=new Se;function M_(r){return ye.define({combine:r?e=>e.concat(r):void 0})}const B_=new Se;class lr{constructor(e,t,i=[],n=""){this.data=e,this.name=n,$e.prototype.hasOwnProperty("tree")||Object.defineProperty($e.prototype,"tree",{get(){return cr(this)}}),this.parser=t,this.extension=[is.of(this),$e.languageData.of((s,o,a)=>{let l=nv(s,o,a),c=l.type.prop(ts);if(!c)return[];let h=s.facet(c),u=l.type.prop(B_);if(u){let f=l.resolve(o-l.from,a);for(let d of u)if(d.test(f,s)){let p=s.facet(d.facet);return d.type=="replace"?p:p.concat(h)}}return h})].concat(i)}isActiveAt(e,t,i=-1){return nv(e,t,i).type.prop(ts)==this.data}findRegions(e){let t=e.facet(is);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],n=(s,o)=>{if(s.prop(ts)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(Se.mounted);if(a){if(a.tree.prop(ts)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(n(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof et&&n(c,s.positions[l]+o)}};return n(cr(e),0),i}get allowsNesting(){return!0}}lr.setState=ot.define();function nv(r,e,t){let i=r.facet(is),n=cr(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(e,t,ht.ExcludeBuffers))s.type.isTop&&(n=s);return n}class cl extends lr{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=M_(e.languageData);return new cl(t,e.parser.configure({props:[ts.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new cl(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function cr(r){let e=r.field(lr.state,!1);return e?e.tree:et.empty}class N_{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let oo=null;class hl{constructor(e,t,i=[],n,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new hl(e,t,[],et.empty,0,i,[],null)}startParse(){return this.parser.startParse(new N_(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=et.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(Ki.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ki.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=oo;oo=this;try{return e()}finally{oo=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=sv(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:n,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,h,u,f)=>l.push({fromA:c,toA:h,fromB:u,toB:f})),i=Ki.applyChanges(i,l),n=et.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let h=e.mapPos(c.from,1),u=e.mapPos(c.to,-1);h<u&&a.push({from:h,to:u})}}}return new hl(this.parser,t,i,n,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<e.to&&s>e.from&&(this.fragments=sv(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Og{createParse(t,i,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let l=oo;if(l){for(let c of n)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new et(Mt.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return oo}}function sv(r,e,t){return Ki.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class rs{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new rs(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=hl.create(e.facet(is).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new rs(i)}}lr.state=wi.define({create:rs.init,update(r,e){for(let t of e.effects)if(t.is(lr.setState))return t.value;return e.startState.facet(is)!=e.state.facet(is)?rs.init(e.state):r.apply(e)}});let ov=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(ov=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Iu=typeof navigator<"u"&&(!((Tu=navigator.scheduling)===null||Tu===void 0)&&Tu.isInputPending)?()=>navigator.scheduling.isInputPending():null,F_=Kr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(lr.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(lr.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=ov(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(lr.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Iu?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<n&&i.doc.length>n+1e3,l=s.context.work(()=>Iu&&Iu()||Date.now()>o,n+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:lr.setState.of(new rs(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ai(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),is=ye.define({combine(r){return r.length?r[0]:null},enables:r=>[lr.state,F_,xe.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class z_{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const H_=ye.define(),Ru=ye.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function ul(r){let e=r.facet(Ru);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function fl(r,e){let t="",i=r.tabSize,n=r.facet(Ru)[0];if(n=="	"){for(;e>=i;)t+="	",e-=i;n=" "}for(let s=0;s<e;s++)t+=n;return t}function av(r,e){r instanceof $e&&(r=new dl(r));for(let i of r.state.facet(H_)){let n=i(r,e);if(n!==void 0)return n}let t=cr(r.state);return t?W_(r,t,e):null}class dl{constructor(e,t={}){this.state=e,this.options=t,this.unit=ul(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=i.from&&n<=i.to?s&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(e,t);return i.slice(e-n,Math.min(i.length,e+100-n))}column(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.countColumn(i,e-n),o=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return za(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(n);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const lv=new Se;function W_(r,e,t){return cv(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,r)}function j_(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function V_(r){let e=r.type.prop(lv);if(e)return e;let t=r.firstChild,i;if(t&&(i=t.type.prop(Se.closedBy))){let n=r.lastChild,s=n&&i.indexOf(n.name)>-1;return o=>Q_(o,!0,1,void 0,s&&!j_(o)?n.from:void 0)}return r.parent==null?U_:null}function cv(r,e,t){for(;r;r=r.parent){let i=V_(r);if(i)return i(Du.create(t,e,r))}return null}function U_(){return 0}class Du extends dl{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new Du(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(X_(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?cv(e,this.pos,this.base):0}}function X_(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function G_(r){let e=r.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let n=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),o=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<o?t:null;a=l.to}}function Q_(r,e,t,i,n){let s=r.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||n==r.pos+o,l=e?G_(r):null;return l?a?r.column(l.from):r.column(l.to):r.baseIndent+(a?0:r.unit*t)}function Y_({except:r,units:e=1}={}){return t=>{let i=r&&r.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const q_=new Se;function K_(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}class ao{constructor(e,t){this.specs=e;let i;function n(a){let l=xi.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?n(t.all):void 0,o=t.scope;this.scope=o instanceof lr?a=>a.prop(ts)==o.data:o?a=>a==o:void 0,this.style=Lg(e.map(a=>({tag:a.tag,class:a.class||n(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new xi(i):null,this.themeType=t.themeType}static define(e,t){return new ao(e,t||{})}}const $u=ye.define(),hv=ye.define({combine(r){return r.length?[r[0]]:null}});function Lu(r){let e=r.facet($u);return e.length?e:r.facet(hv)}function uv(r,e){let t=[J_],i;return r instanceof ao&&(r.module&&t.push(xe.styleModule.of(r.module)),i=r.themeType),e!=null&&e.fallback?t.push(hv.of(r)):i?t.push($u.computeN([xe.darkTheme],n=>n.facet(xe.darkTheme)==(i=="dark")?[r]:[])):t.push($u.of(r)),t}class Z_{constructor(e){this.markCache=Object.create(null),this.tree=cr(e.state),this.decorations=this.buildDeco(e,Lu(e.state))}update(e){let t=cr(e.state),i=Lu(e.state),n=i!=Lu(e.startState);t.length<e.view.viewport.to&&!n&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return Ze.none;let i=new Xn;for(let{from:n,to:s}of e.visibleRanges)tA(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=Ze.mark({class:l})))},n,s);return i.finish()}}const J_=Da.high(Kr.fromClass(Z_,{decorations:r=>r.decorations})),eE=ao.define([{tag:z.meta,color:"#404740"},{tag:z.link,textDecoration:"underline"},{tag:z.heading,textDecoration:"underline",fontWeight:"bold"},{tag:z.emphasis,fontStyle:"italic"},{tag:z.strong,fontWeight:"bold"},{tag:z.strikethrough,textDecoration:"line-through"},{tag:z.keyword,color:"#708"},{tag:[z.atom,z.bool,z.url,z.contentSeparator,z.labelName],color:"#219"},{tag:[z.literal,z.inserted],color:"#164"},{tag:[z.string,z.deleted],color:"#a11"},{tag:[z.regexp,z.escape,z.special(z.string)],color:"#e40"},{tag:z.definition(z.variableName),color:"#00f"},{tag:z.local(z.variableName),color:"#30a"},{tag:[z.typeName,z.namespace],color:"#085"},{tag:z.className,color:"#167"},{tag:[z.special(z.variableName),z.macroName],color:"#256"},{tag:z.definition(z.propertyName),color:"#00c"},{tag:z.comment,color:"#940"},{tag:z.invalid,color:"#f00"}]),tE=1e4,rE="()[]{}",iE=new Se;function Mu(r,e,t){let i=r.prop(e<0?Se.openedBy:Se.closedBy);if(i)return i;if(r.name.length==1){let n=t.indexOf(r.name);if(n>-1&&n%2==(e<0?1:0))return[t[n+e]]}return null}function Bu(r){let e=r.type.prop(iE);return e?e(r.node):r}function ns(r,e,t,i={}){let n=i.maxScanDistance||tE,s=i.brackets||rE,o=cr(r),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=Mu(l.type,t,s);if(c&&l.from<l.to){let h=Bu(l);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return nE(r,e,t,l,h,c,s)}}return sE(r,e,t,o,a.type,n,s)}function nE(r,e,t,i,n,s,o){let a=i.parent,l={from:n.from,to:n.to},c=0,h=a==null?void 0:a.cursor();if(h&&(t<0?h.childBefore(i.from):h.childAfter(i.to)))do if(t<0?h.to<=i.from:h.from>=i.to){if(c==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let u=Bu(h);return{start:l,end:u?{from:u.from,to:u.to}:void 0,matched:!0}}else if(Mu(h.type,t,o))c++;else if(Mu(h.type,-t,o)){if(c==0){let u=Bu(h);return{start:l,end:u&&u.from<u.to?{from:u.from,to:u.to}:void 0,matched:!1}}c--}}while(t<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function sE(r,e,t,i,n,s,o){let a=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},h=r.doc.iterRange(e,t>0?r.doc.length:0),u=0;for(let f=0;!h.next().done&&f<=s;){let d=h.value;t<0&&(f+=d.length);let p=e+f*t;for(let g=t>0?0:d.length-1,v=t>0?d.length:-1;g!=v;g+=t){let y=o.indexOf(d[g]);if(!(y<0||i.resolveInner(p+g,1).type!=n))if(y%2==0==t>0)u++;else{if(u==1)return{start:c,end:{from:p+g,to:p+g+1},matched:y>>1==l>>1};u--}}t>0&&(f+=d.length)}return h.done?{start:c,matched:!1}:null}const oE=Object.create(null),fv=[Mt.none],dv=[],aE=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])aE[r]=lE(oE,e);function Nu(r,e){dv.indexOf(r)>-1||(dv.push(r),console.warn(e))}function lE(r,e){let t=null;for(let s of e.split(".")){let o=r[s]||z[s];o?typeof o=="function"?t?t=o(t):Nu(s,`Modifier ${s} used at start of tag`):t?Nu(s,`Tag ${s} used as modifier`):t=o:Nu(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),n=Mt.define({id:fv.length,name:i,props:[Dg({[i]:t})]});return fv.push(n),n.id}let Fu=null;function zu(){if(!Fu&&typeof document=="object"&&document.body){let{style:r}=document.body,e=[],t=new Set;for(let i in r)i!="cssText"&&i!="cssFloat"&&typeof r[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,n=>"-"+n.toLowerCase())),t.has(i)||(e.push(i),t.add(i)));Fu=e.sort().map(i=>({type:"property",label:i}))}return Fu||[]}const pv=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(r=>({type:"class",label:r})),gv=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(r=>({type:"keyword",label:r})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(r=>({type:"constant",label:r}))),cE=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(r=>({type:"type",label:r})),Ei=/^(\w[\w-]*|-\w[\w-]*|)$/,hE=/^-(-[\w-]*)?$/;function uE(r,e){var t;if((r.name=="("||r.type.isError)&&(r=r.parent||r),r.name!="ArgList")return!1;let i=(t=r.parent)===null||t===void 0?void 0:t.firstChild;return(i==null?void 0:i.name)!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const mv=new Fk,fE=["Declaration"];function dE(r){for(let e=r;;){if(e.type.isTop)return e;if(!(e=e.parent))return r}}function yv(r,e,t){if(e.to-e.from>4096){let i=mv.get(e);if(i)return i;let n=[],s=new Set,o=e.cursor(ht.IncludeAnonymous);if(o.firstChild())do for(let a of yv(r,o.node,t))s.has(a.label)||(s.add(a.label),n.push(a));while(o.nextSibling());return mv.set(e,n),n}else{let i=[],n=new Set;return e.cursor().iterate(s=>{var o;if(t(s)&&s.matchContext(fE)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=r.sliceString(s.from,s.to);n.has(a)||(n.add(a),i.push({label:a,type:"variable"}))}}),i}}const pE=(r=>e=>{let{state:t,pos:i}=e,n=cr(t).resolveInner(i,-1),s=n.type.isError&&n.from==n.to-1&&t.doc.sliceString(n.from,n.to)=="-";if(n.name=="PropertyName"||(s||n.name=="TagName")&&/^(Block|Styles)$/.test(n.resolve(n.to).name))return{from:n.from,options:zu(),validFor:Ei};if(n.name=="ValueName")return{from:n.from,options:gv,validFor:Ei};if(n.name=="PseudoClassName")return{from:n.from,options:pv,validFor:Ei};if(r(n)||(e.explicit||s)&&uE(n,t.doc))return{from:r(n)||s?n.from:i,options:yv(t.doc,dE(n),r),validFor:hE};if(n.name=="TagName"){for(let{parent:l}=n;l;l=l.parent)if(l.name=="Block")return{from:n.from,options:zu(),validFor:Ei};return{from:n.from,options:cE,validFor:Ei}}if(!e.explicit)return null;let o=n.resolve(i),a=o.childBefore(i);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:i,options:pv,validFor:Ei}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:i,options:gv,validFor:Ei}:o.name=="Block"||o.name=="Styles"?{from:i,options:zu(),validFor:Ei}:null})(r=>r.name=="VariableName"),vv=cl.define({name:"css",parser:SA.configure({props:[lv.add({Declaration:Y_()}),q_.add({Block:K_})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function gE(){return new z_(vv,vv.data.of({autocomplete:pE}))}const mE="#e5c07b",bv="#e06c75",yE="#56b6c2",vE="#ffffff",pl="#abb2bf",Hu="#7d8799",bE="#61afef",wE="#98c379",wv="#d19a66",SE="#c678dd",xE="#21252b",Sv="#2c313a",xv="#282c34",Wu="#353a42",OE="#3E4451",Ov="#528bff",CE=xe.theme({"&":{color:pl,backgroundColor:xv},".cm-content":{caretColor:Ov},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ov},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:OE},".cm-panels":{backgroundColor:xE,color:pl},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:xv,color:Hu,border:"none"},".cm-activeLineGutter":{backgroundColor:Sv},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Wu},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Wu,borderBottomColor:Wu},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Sv,color:pl}}},{dark:!0}),kE=ao.define([{tag:z.keyword,color:SE},{tag:[z.name,z.deleted,z.character,z.propertyName,z.macroName],color:bv},{tag:[z.function(z.variableName),z.labelName],color:bE},{tag:[z.color,z.constant(z.name),z.standard(z.name)],color:wv},{tag:[z.definition(z.name),z.separator],color:pl},{tag:[z.typeName,z.className,z.number,z.changed,z.annotation,z.modifier,z.self,z.namespace],color:mE},{tag:[z.operator,z.operatorKeyword,z.url,z.escape,z.regexp,z.link,z.special(z.string)],color:yE},{tag:[z.meta,z.comment],color:Hu},{tag:z.strong,fontWeight:"bold"},{tag:z.emphasis,fontStyle:"italic"},{tag:z.strikethrough,textDecoration:"line-through"},{tag:z.link,color:Hu,textDecoration:"underline"},{tag:z.heading,fontWeight:"bold",color:bv},{tag:[z.atom,z.bool,z.special(z.variableName)],color:wv},{tag:[z.processingInstruction,z.string,z.inserted],color:wE},{tag:z.invalid,color:vE}]),AE=[CE,uv(kE)],PE=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),i=Vu(r.state,t.from);return i.line?_E(r):i.block?TE(r):!1};function ju(r,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let n=r(e,t);return n?(i(t.update(n)),!0):!1}}const _E=ju(DE,0),EE=ju(Cv,0),TE=ju((r,e)=>Cv(r,e,RE(e)),0);function Vu(r,e){let t=r.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const lo=50;function IE(r,{open:e,close:t},i,n){let s=r.sliceDoc(i-lo,i),o=r.sliceDoc(n,n+lo),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:n+l,margin:l&&1}};let h,u;n-i<=2*lo?h=u=r.sliceDoc(i,n):(h=r.sliceDoc(i,i+lo),u=r.sliceDoc(n-lo,n));let f=/^\s*/.exec(h)[0].length,d=/\s*$/.exec(u)[0].length,p=u.length-d-t.length;return h.slice(f,f+e.length)==e&&u.slice(p,p+t.length)==t?{open:{pos:i+f+e.length,margin:/\s/.test(h.charAt(f+e.length))?1:0},close:{pos:n-d-t.length,margin:/\s/.test(u.charAt(p-1))?1:0}}:null}function RE(r){let e=[];for(let t of r.selection.ranges){let i=r.doc.lineAt(t.from),n=t.to<=i.to?i:r.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=n.to:e.push({from:i.from,to:n.to})}return e}function Cv(r,e,t=e.selection.ranges){let i=t.map(s=>Vu(e,s.from).block);if(!i.every(s=>s))return null;let n=t.map((s,o)=>IE(e,i[o],s.from,s.to));if(r!=2&&!n.every(s=>s))return{changes:e.changes(t.map((s,o)=>n[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(r!=1&&n.some(s=>s)){let s=[];for(let o=0,a;o<n.length;o++)if(a=n[o]){let l=i[o],{open:c,close:h}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function DE(r,e,t=e.selection.ranges){let i=[],n=-1;for(let{from:s,to:o}of t){let a=i.length,l=1e9,c=Vu(e,s).line;if(c){for(let h=s;h<=o;){let u=e.doc.lineAt(h);if(u.from>n&&(s==o||o>u.from)){n=u.from;let f=/^\s*/.exec(u.text)[0].length,d=f==u.length,p=u.text.slice(f,f+c.length)==c?f:-1;f<u.text.length&&f<l&&(l=f),i.push({line:u,comment:p,token:c,indent:f,empty:d,single:!1})}h=u.to+1}if(l<1e9)for(let h=a;h<i.length;h++)i[h].indent<i[h].line.text.length&&(i[h].indent=l);i.length==a+1&&(i[a].single=!0)}}if(r!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:h,single:u}of i)(u||!h)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(r!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let c=o.from+a,h=c+l.length;o.text[h-o.from]==" "&&h++,s.push({from:c,to:h})}return{changes:s}}return null}const Uu=Si.define(),$E=Si.define(),LE=ye.define(),kv=ye.define({combine(r){return Ba(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,n)=>e(i,n)||t(i,n)})}});function ME(r){let e=0;return r.iterChangedRanges((t,i)=>e=i),e}const Av=wi.define({create(){return Br.empty},update(r,e){let t=e.state.facet(kv),i=e.annotation(Uu);if(i){let l=e.docChanged?ce.single(ME(e.changes)):void 0,c=Bt.fromTransaction(e,l),h=i.side,u=h==0?r.undone:r.done;return c?u=ml(u,u.length,t.minDepth,c):u=Ev(u,e.startState.selection),new Br(h==0?i.rest:u,h==0?u:i.rest)}let n=e.annotation($E);if((n=="full"||n=="before")&&(r=r.isolate()),e.annotation(at.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=Bt.fromTransaction(e),o=e.annotation(at.time),a=e.annotation(at.userEvent);return s?r=r.addChanges(s,o,a,t,e):e.selection&&(r=r.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(n=="full"||n=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new Br(r.done.map(Bt.fromJSON),r.undone.map(Bt.fromJSON))}});function BE(r={}){return[Av,kv.of(r),xe.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?Pv:e.inputType=="historyRedo"?Xu:null;return i?(e.preventDefault(),i(t)):!1}})]}function gl(r,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let n=t.field(Av,!1);if(!n)return!1;let s=n.pop(r,t,e);return s?(i(s),!0):!1}}const Pv=gl(0,!1),Xu=gl(1,!1),NE=gl(0,!0),FE=gl(1,!0);class Bt{constructor(e,t,i,n,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=n,this.selectionsAfter=s}setSelAfter(e){return new Bt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(e){return new Bt(e.changes&&st.fromJSON(e.changes),[],e.mapped&&Dr.fromJSON(e.mapped),e.startSelection&&ce.fromJSON(e.startSelection),e.selectionsAfter.map(ce.fromJSON))}static fromTransaction(e,t){let i=Jt;for(let n of e.startState.facet(LE)){let s=n(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new Bt(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Jt)}static selection(e){return new Bt(void 0,Jt,void 0,void 0,e)}}function ml(r,e,t,i){let n=e+1>t+20?e-t-1:0,s=r.slice(n,e);return s.push(i),s}function zE(r,e){let t=[],i=!1;return r.iterChangedRanges((n,s)=>t.push(n,s)),e.iterChangedRanges((n,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],h=t[l++];a>=c&&o<=h&&(i=!0)}}),i}function HE(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function _v(r,e){return r.length?e.length?r.concat(e):r:e}const Jt=[],WE=200;function Ev(r,e){if(r.length){let t=r[r.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-WE));return i.length&&i[i.length-1].eq(e)?r:(i.push(e),ml(r,r.length-1,1e9,t.setSelAfter(i)))}else return[Bt.selection([e])]}function jE(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Gu(r,e){if(!r.length)return r;let t=r.length,i=Jt;for(;t;){let n=VE(r[t-1],e,i);if(n.changes&&!n.changes.empty||n.effects.length){let s=r.slice(0,t);return s[t-1]=n,s}else e=n.mapped,t--,i=n.selectionsAfter}return i.length?[Bt.selection(i)]:Jt}function VE(r,e,t){let i=_v(r.selectionsAfter.length?r.selectionsAfter.map(a=>a.map(e)):Jt,t);if(!r.changes)return Bt.selection(i);let n=r.changes.map(e),s=e.mapDesc(r.changes,!0),o=r.mapped?r.mapped.composeDesc(s):s;return new Bt(n,ot.mapEffects(r.effects,e),o,r.startSelection.map(s),i)}const UE=/^(input\.type|delete)($|\.)/;class Br{constructor(e,t,i=0,n=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new Br(this.done,this.undone):this}addChanges(e,t,i,n,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||UE.test(i))&&(!a.selectionsAfter.length&&t-this.prevTime<n.newGroupDelay&&n.joinToEvent(s,zE(a.changes,e.changes))||i=="input.type.compose")?o=ml(o,o.length-1,n.minDepth,new Bt(e.changes.compose(a.changes),_v(e.effects,a.effects),a.mapped,a.startSelection,Jt)):o=ml(o,o.length,n.minDepth,e),new Br(o,Jt,t,i)}addSelection(e,t,i,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Jt;return s.length>0&&t-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&HE(s[s.length-1],e)?this:new Br(Ev(this.done,e),this.undone,t,i)}addMapping(e){return new Br(Gu(this.done,e),Gu(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let n=e==0?this.done:this.undone;if(n.length==0)return null;let s=n[n.length-1];if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Uu.of({side:e,rest:jE(n)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=n.length==1?Jt:n.slice(0,n.length-1);return s.mapped&&(o=Gu(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Uu.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Br.empty=new Br(Jt,Jt);const XE=[{key:"Mod-z",run:Pv,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Xu,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Xu,preventDefault:!0},{key:"Mod-u",run:NE,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:FE,preventDefault:!0}];function ss(r,e){return ce.create(r.ranges.map(e),r.mainIndex)}function Nr(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function hr({state:r,dispatch:e},t){let i=ss(r.selection,t);return i.eq(r.selection)?!1:(e(Nr(r,i)),!0)}function yl(r,e){return ce.cursor(e?r.to:r.from)}function Tv(r,e){return hr(r,t=>t.empty?r.moveByChar(t,e):yl(t,e))}function xt(r){return r.textDirectionAt(r.state.selection.main.head)==tt.LTR}const Iv=r=>Tv(r,!xt(r)),Rv=r=>Tv(r,xt(r));function Dv(r,e){return hr(r,t=>t.empty?r.moveByGroup(t,e):yl(t,e))}const GE=r=>Dv(r,!xt(r)),QE=r=>Dv(r,xt(r));function YE(r,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function vl(r,e,t){let i=cr(r).resolveInner(e.head),n=t?Se.closedBy:Se.openedBy;for(let l=e.head;;){let c=t?i.childAfter(l):i.childBefore(l);if(!c)break;YE(r,c,n)?i=c:l=t?c.to:c.from}let s=i.type.prop(n),o,a;return s&&(o=t?ns(r,i.from,1):ns(r,i.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?i.to:i.from,ce.cursor(a,t?-1:1)}const qE=r=>hr(r,e=>vl(r.state,e,!xt(r))),KE=r=>hr(r,e=>vl(r.state,e,xt(r)));function $v(r,e){return hr(r,t=>{if(!t.empty)return yl(t,e);let i=r.moveVertically(t,e);return i.head!=t.head?i:r.moveToLineBoundary(t,e)})}const Lv=r=>$v(r,!1),Mv=r=>$v(r,!0);function Bv(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,i=0,n;if(e){for(let s of r.state.facet(xe.scrollMargins)){let o=s(r);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}n=r.scrollDOM.clientHeight-t-i}else n=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(r.defaultLineHeight,n-5)}}function Nv(r,e){let t=Bv(r),{state:i}=r,n=ss(i.selection,o=>o.empty?r.moveVertically(o,e,t.height):yl(o,e));if(n.eq(i.selection))return!1;let s;if(t.selfScroll){let o=r.coordsAtPos(i.selection.main.head),a=r.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=xe.scrollIntoView(n.main.head,{y:"start",yMargin:o.top-l}))}return r.dispatch(Nr(i,n),{effects:s}),!0}const Fv=r=>Nv(r,!1),Qu=r=>Nv(r,!0);function Ti(r,e,t){let i=r.lineBlockAt(e.head),n=r.moveToLineBoundary(e,t);if(n.head==e.head&&n.head!=(t?i.to:i.from)&&(n=r.moveToLineBoundary(e,t,!1)),!t&&n.head==i.from&&i.length){let s=/^\s*/.exec(r.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(n=ce.cursor(i.from+s))}return n}const ZE=r=>hr(r,e=>Ti(r,e,!0)),JE=r=>hr(r,e=>Ti(r,e,!1)),eT=r=>hr(r,e=>Ti(r,e,!xt(r))),tT=r=>hr(r,e=>Ti(r,e,xt(r))),rT=r=>hr(r,e=>ce.cursor(r.lineBlockAt(e.head).from,1)),iT=r=>hr(r,e=>ce.cursor(r.lineBlockAt(e.head).to,-1));function nT(r,e,t){let i=!1,n=ss(r.selection,s=>{let o=ns(r,s.head,-1)||ns(r,s.head,1)||s.head>0&&ns(r,s.head-1,1)||s.head<r.doc.length&&ns(r,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return t?ce.range(s.anchor,a):ce.cursor(a)});return i?(e(Nr(r,n)),!0):!1}const sT=({state:r,dispatch:e})=>nT(r,e,!1);function er(r,e){let t=ss(r.state.selection,i=>{let n=e(i);return ce.range(i.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(Nr(r.state,t)),!0)}function zv(r,e){return er(r,t=>r.moveByChar(t,e))}const Hv=r=>zv(r,!xt(r)),Wv=r=>zv(r,xt(r));function jv(r,e){return er(r,t=>r.moveByGroup(t,e))}const oT=r=>jv(r,!xt(r)),aT=r=>jv(r,xt(r)),lT=r=>er(r,e=>vl(r.state,e,!xt(r))),cT=r=>er(r,e=>vl(r.state,e,xt(r)));function Vv(r,e){return er(r,t=>r.moveVertically(t,e))}const Uv=r=>Vv(r,!1),Xv=r=>Vv(r,!0);function Gv(r,e){return er(r,t=>r.moveVertically(t,e,Bv(r).height))}const Qv=r=>Gv(r,!1),Yv=r=>Gv(r,!0),hT=r=>er(r,e=>Ti(r,e,!0)),uT=r=>er(r,e=>Ti(r,e,!1)),fT=r=>er(r,e=>Ti(r,e,!xt(r))),dT=r=>er(r,e=>Ti(r,e,xt(r))),pT=r=>er(r,e=>ce.cursor(r.lineBlockAt(e.head).from)),gT=r=>er(r,e=>ce.cursor(r.lineBlockAt(e.head).to)),qv=({state:r,dispatch:e})=>(e(Nr(r,{anchor:0})),!0),Kv=({state:r,dispatch:e})=>(e(Nr(r,{anchor:r.doc.length})),!0),Zv=({state:r,dispatch:e})=>(e(Nr(r,{anchor:r.selection.main.anchor,head:0})),!0),Jv=({state:r,dispatch:e})=>(e(Nr(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),mT=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),yT=({state:r,dispatch:e})=>{let t=Sl(r).map(({from:i,to:n})=>ce.range(i,Math.min(n+1,r.doc.length)));return e(r.update({selection:ce.create(t),userEvent:"select"})),!0},vT=({state:r,dispatch:e})=>{let t=ss(r.selection,i=>{var n;let s=cr(r).resolveInner(i.head,1);for(;!(s.from<i.from&&s.to>=i.to||s.to>i.to&&s.from<=i.from||!(!((n=s.parent)===null||n===void 0)&&n.parent));)s=s.parent;return ce.range(s.to,s.from)});return e(Nr(r,t)),!0},bT=({state:r,dispatch:e})=>{let t=r.selection,i=null;return t.ranges.length>1?i=ce.create([t.main]):t.main.empty||(i=ce.create([ce.cursor(t.main.head)])),i?(e(Nr(r,i)),!0):!1};function bl(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:i}=r,n=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(o);l<o?(t="delete.backward",l=wl(r,l,!1)):l>o&&(t="delete.forward",l=wl(r,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=wl(r,o,!1),a=wl(r,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:ce.cursor(o)}});return n.changes.empty?!1:(r.dispatch(i.update(n,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?xe.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function wl(r,e,t){if(r instanceof xe)for(let i of r.state.facet(xe.atomicRanges).map(n=>n(r)))i.between(e,e,(n,s)=>{n<e&&s>e&&(e=t?s:n)});return e}const e0=(r,e)=>bl(r,t=>{let{state:i}=r,n=i.doc.lineAt(t),s,o;if(!e&&t>n.from&&t<n.from+200&&!/[^ \t]/.test(s=n.text.slice(0,t-n.from))){if(s[s.length-1]=="	")return t-1;let a=za(s,i.tabSize),l=a%ul(i)||ul(i);for(let c=0;c<l&&s[s.length-1-c]==" ";c++)t--;o=t}else o=jt(n.text,t-n.from,e,e)+n.from,o==t&&n.number!=(e?i.doc.lines:1)&&(o+=e?1:-1);return o}),Yu=r=>e0(r,!1),t0=r=>e0(r,!0),r0=(r,e)=>bl(r,t=>{let i=t,{state:n}=r,s=n.doc.lineAt(i),o=n.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==t&&s.number!=(e?n.doc.lines:1)&&(i+=e?1:-1);break}let l=jt(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),h=o(c);if(a!=null&&h!=a)break;(c!=" "||i!=t)&&(a=h),i=l}return i}),i0=r=>r0(r,!1),wT=r=>r0(r,!0),n0=r=>bl(r,e=>{let t=r.lineBlockAt(e).to;return e<t?t:Math.min(r.state.doc.length,e+1)}),ST=r=>bl(r,e=>{let t=r.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),xT=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:De.of(["",""])},range:ce.cursor(i.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},OT=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>{if(!i.empty||i.from==0||i.from==r.doc.length)return{range:i};let n=i.from,s=r.doc.lineAt(n),o=n==s.from?n-1:jt(s.text,n-s.from,!1)+s.from,a=n==s.to?n+1:jt(s.text,n-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:r.doc.slice(n,a).append(r.doc.slice(o,n))},range:ce.cursor(a)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Sl(r){let e=[],t=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.from),s=r.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=r.doc.lineAt(i.to-1)),t>=n.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:n.from,to:s.to,ranges:[i]});t=s.number+1}return e}function s0(r,e,t){if(r.readOnly)return!1;let i=[],n=[];for(let s of Sl(r)){if(t?s.to==r.doc.length:s.from==0)continue;let o=r.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+r.lineBreak});for(let l of s.ranges)n.push(ce.range(Math.min(r.doc.length,l.anchor+a),Math.min(r.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:r.lineBreak+o.text});for(let l of s.ranges)n.push(ce.range(l.anchor-a,l.head-a))}}return i.length?(e(r.update({changes:i,scrollIntoView:!0,selection:ce.create(n,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const CT=({state:r,dispatch:e})=>s0(r,e,!1),kT=({state:r,dispatch:e})=>s0(r,e,!0);function o0(r,e,t){if(r.readOnly)return!1;let i=[];for(let n of Sl(r))t?i.push({from:n.from,insert:r.doc.slice(n.from,n.to)+r.lineBreak}):i.push({from:n.to,insert:r.lineBreak+r.doc.slice(n.from,n.to)});return e(r.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const AT=({state:r,dispatch:e})=>o0(r,e,!1),PT=({state:r,dispatch:e})=>o0(r,e,!0),_T=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(Sl(e).map(({from:n,to:s})=>(n>0?n--:s<e.doc.length&&s++,{from:n,to:s}))),i=ss(e.selection,n=>r.moveVertically(n,!0)).map(t);return r.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function ET(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=cr(r).resolveInner(e),i=t.childBefore(e),n=t.childAfter(e),s;return i&&n&&i.to<=e&&n.from>=e&&(s=i.type.prop(Se.closedBy))&&s.indexOf(n.name)>-1&&r.doc.lineAt(i.to).from==r.doc.lineAt(n.from).from?{from:i.to,to:n.from}:null}const TT=a0(!1),IT=a0(!0);function a0(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(n=>{let{from:s,to:o}=n,a=e.doc.lineAt(s),l=!r&&s==o&&ET(e,s);r&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new dl(e,{simulateBreak:s,simulateDoubleBreak:!!l}),h=av(c,s);for(h==null&&(h=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let u=["",fl(e,h)];return l&&u.push(fl(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:De.of(u)},range:ce.cursor(s+1+u[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function qu(r,e){let t=-1;return r.changeByRange(i=>{let n=[];for(let o=i.from;o<=i.to;){let a=r.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,n,i),t=a.number),o=a.to+1}let s=r.changes(n);return{changes:n,range:ce.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const RT=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),i=new dl(r,{overrideIndentation:s=>{let o=t[s];return o??-1}}),n=qu(r,(s,o,a)=>{let l=av(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],h=fl(r,l);(c!=h||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:h}))});return n.changes.empty||e(r.update(n,{userEvent:"indent"})),!0},DT=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(qu(r,(t,i)=>{i.push({from:t.from,insert:r.facet(Ru)})}),{userEvent:"input.indent"})),!0),$T=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(qu(r,(t,i)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let s=za(n,r.tabSize),o=0,a=fl(r,Math.max(0,s-ul(r)));for(;o<n.length&&o<a.length&&n.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+n.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),LT=[{key:"Ctrl-b",run:Iv,shift:Hv,preventDefault:!0},{key:"Ctrl-f",run:Rv,shift:Wv},{key:"Ctrl-p",run:Lv,shift:Uv},{key:"Ctrl-n",run:Mv,shift:Xv},{key:"Ctrl-a",run:rT,shift:pT},{key:"Ctrl-e",run:iT,shift:gT},{key:"Ctrl-d",run:t0},{key:"Ctrl-h",run:Yu},{key:"Ctrl-k",run:n0},{key:"Ctrl-Alt-h",run:i0},{key:"Ctrl-o",run:xT},{key:"Ctrl-t",run:OT},{key:"Ctrl-v",run:Qu}],MT=[{key:"ArrowLeft",run:Iv,shift:Hv,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:GE,shift:oT,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:eT,shift:fT,preventDefault:!0},{key:"ArrowRight",run:Rv,shift:Wv,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:QE,shift:aT,preventDefault:!0},{mac:"Cmd-ArrowRight",run:tT,shift:dT,preventDefault:!0},{key:"ArrowUp",run:Lv,shift:Uv,preventDefault:!0},{mac:"Cmd-ArrowUp",run:qv,shift:Zv},{mac:"Ctrl-ArrowUp",run:Fv,shift:Qv},{key:"ArrowDown",run:Mv,shift:Xv,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Kv,shift:Jv},{mac:"Ctrl-ArrowDown",run:Qu,shift:Yv},{key:"PageUp",run:Fv,shift:Qv},{key:"PageDown",run:Qu,shift:Yv},{key:"Home",run:JE,shift:uT,preventDefault:!0},{key:"Mod-Home",run:qv,shift:Zv},{key:"End",run:ZE,shift:hT,preventDefault:!0},{key:"Mod-End",run:Kv,shift:Jv},{key:"Enter",run:TT},{key:"Mod-a",run:mT},{key:"Backspace",run:Yu,shift:Yu},{key:"Delete",run:t0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:i0},{key:"Mod-Delete",mac:"Alt-Delete",run:wT},{mac:"Mod-Backspace",run:ST},{mac:"Mod-Delete",run:n0}].concat(LT.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),BT=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:qE,shift:lT},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:KE,shift:cT},{key:"Alt-ArrowUp",run:CT},{key:"Shift-Alt-ArrowUp",run:AT},{key:"Alt-ArrowDown",run:kT},{key:"Shift-Alt-ArrowDown",run:PT},{key:"Escape",run:bT},{key:"Mod-Enter",run:IT},{key:"Alt-l",mac:"Ctrl-l",run:yT},{key:"Mod-i",run:vT,preventDefault:!0},{key:"Mod-[",run:$T},{key:"Mod-]",run:DT},{key:"Mod-Alt-\\",run:RT},{key:"Shift-Mod-k",run:_T},{key:"Shift-Mod-\\",run:sT},{key:"Mod-/",run:PE},{key:"Alt-A",run:EE}].concat(MT),NT=(()=>[O_(),BE(),p_(),uv(eE,{fallback:!0}),Hy.of([...BT,...XE])])();class FT{constructor(){A(this,"element",$(`
<div id='cssContainer' class='handoffLayerSection'>
  <div class='handoffSectionName'>
    <span>CSS</span>
    <div class='copy-to-clipboard-container'></div>
  </div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div id='cssDiv'class='handoffLayerViewCell'>
      </div>
    </div>
  </div>
</div>
  `));A(this,"styleEffectsMap",new Map([["mouseOver","hover"],["mouseDown","active"],["selected","checked"],["disabled","disabled"],["error","invalid"],["focused","focus"]]));A(this,"cssDiv",this.element.find("#cssDiv")[0]);A(this,"copyToClipboardContainer",this.element.find(".copy-to-clipboard-container"));A(this,"codeMirrorCss");A(this,"cssRules","");A(this,"copyToClipboard");this.copyToClipboard=new yg}mount(e){try{this.initCssHighlight()}catch{}this.copyToClipboard.mount(this.copyToClipboardContainer),this.element.appendTo(e)}set(e){this.setUpCssRules(e),this.useCssRules()}useCssRules(){this.codeMirrorCss&&this.codeMirrorCss.dispatch({changes:{from:0,to:this.codeMirrorCss.state.doc.length,insert:this.cssRules}}),this.copyToClipboard.setText(this.cssRules)}setUpCssRules(e){if(this.cssRules="",this.addCssRule(e.style,e.name),e.styleEffects)for(const t of e.styleEffects)this.addCssRule(t[1],e.name,this.styleEffectsMap.get(t[0]));this.cssRules=this.cssRules.slice(0,-1)}addCssRule(e,t,i){const n=zT(e),s=VT(n);let o=`#${Td(t)||"element"}`;i&&(o+=`:${i}`),this.cssRules+=`${o} {
${WT(s)}
}
`}async initCssHighlight(){this.codeMirrorCss=new xe({parent:this.cssDiv,extensions:[NT,L_(),xe.lineWrapping,$e.readOnly.of(!0),gE(),AE,xe.theme({".cm-focused":{outline:"none"}})]}),this.element.find(".cm-editor").css("height","auto")}}function zT(r){const e={};if(e.width=r.width!==void 0?`${Ue(r.width)}px`:void 0,e.height=r.height!==void 0?`${Ue(r.height)}px`:void 0,e.transform=r.rotation!==void 0?`rotate(${r.rotation}deg)`:void 0,e.opacity=r.opacity!==void 0?`${r.opacity}`:void 0,e.padding=r.padding!==void 0?Tk(r.padding):void 0,e.borderRadius=r.borderRadius!==void 0?`${r.borderRadius}px`:void 0,Object.assign(e,HT(r)),r.fill!==void 0&&r.fill[0]!==void 0){const t=Ok(r.fill[0]);t&&(e.backgroundColor=t.backgroundColor!==void 0?t.backgroundColor:void 0,e.backgroundImage=t.backgroundImage!==void 0?t.backgroundImage:void 0)}return r.backgroundImage&&(e.backgroundImage=r.backgroundImage),e.boxSizing=r.borderAlignment!==void 0?xk(r.borderAlignment):void 0,e.boxShadow=r.boxShadow!==void 0?mg(r.boxShadow):void 0,e.fontFamily=r.fontName,e.fontStyle=r.fontStyle!==void 0?gg(r.fontStyle):void 0,e.fontWeight=r.fontWeight!==void 0?`${r.fontWeight}`:void 0,e.textDecoration=r.underline!==void 0?wk(r.underline):void 0,e.color=r.textColor!==void 0?Ar(r.textColor):void 0,e.textAlign=r.horizontalAlignment!==void 0?xh(r.horizontalAlignment):void 0,e.lineHeight=r.lineSpacing!==void 0?_k(r.lineSpacing):null,e.textShadow=r.textShadow!==void 0?mg(r.textShadow):void 0,e.letterSpacing=r.letterSpacing!==void 0?Ek(r.letterSpacing):void 0,e}function HT(r){const e={};if(r.borderWidth){const t=r.borderVisibility??"all",i=Pk(r);switch(t){case"left":e.borderLeft=i;break;case"top":e.borderTop=i;break;case"right":e.borderRight=i;break;case"bottom":e.borderBottom=i;break;case"topLeft":e.borderTop=i,e.borderLeft=i;break;case"topRight":e.borderTop=i,e.borderRight=i;break;case"bottomLeft":e.borderBottom=i,e.borderLeft=i;break;case"bottomRight":e.borderBottom=i,e.borderRight=i;break;case"leftRight":case"fillHorizontal":e.borderLeft=i,e.borderRight=i;break;case"topBottom":case"fillVertical":e.borderTop=i,e.borderBottom=i;break;case"noLeft":case"rightFill":e.border=i,e.borderLeft="none";break;case"noTop":case"bottomFill":e.border=i,e.borderTop="none";break;case"noRight":case"leftFill":e.border=i,e.borderRight="none";break;case"noBottom":case"topFill":e.border=i,e.borderBottom="none";break;case"none":break;case"all":default:e.border=i;break}}return e}function WT(r){const e=[];for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)){const i=r[t];if(i==null||i===void 0)continue;e.push(`  ${VS(t)}: ${i};`)}return e.join(`
`)}const jT={fontWeight:["400","normal"],fontStyle:"normal",opacity:"1",borderRadius:["0","0px"],textShadow:"none",transform:["rotate(0)","rotate(0deg)"],textDecoration:"none",letterSpacing:["0","0px","normal"]};function VT(r){const e=Object.entries(r).filter(([t,i])=>{if(i==null||i==="")return!0;const s=jT[t];return s?!(typeof s=="string"?s===i:s.some(a=>a===i)):!0});return ix(e)}class UT{constructor(){A(this,"idX","handoffDimensionsX");A(this,"idY","handoffDimensionsY");A(this,"idWidth","handoffDimensionsWidth");A(this,"idHeight","handoffDimensionsHeight");A(this,"idRotation","handoffDimensionsRotation");A(this,"idRadius","handoffDimensionsRadius");A(this,"idPaddingRow","handoffDimensionsPaddingRow");A(this,"idPaddingValue","handoffDimensionsPadding");A(this,"idOpacity","handoffDimensionsOpacity");A(this,"element",$(`
<div id='handoffDimensionsSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Size and Position</div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        X: <span id='${this.idX}' class='handoffLayerValue'></span>
      </div>
      <div class='handoffLayerViewCell'>
        Y: <span id='${this.idY}' class='handoffLayerValue'></span>
      </div>
    </div>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Width: <span id='${this.idWidth}' class='handoffLayerValue'></span>
      </div>
      <div class='handoffLayerViewCell'>
        Height: <span id='${this.idHeight}' class='handoffLayerValue'></span>
      </div>
    </div>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Rotation: <span id='${this.idRotation}' class='handoffLayerValue'></span>
      </div>
      <div class='handoffLayerViewCell'>
        Radius: <span id='${this.idRadius}' class='handoffLayerValue'></span>
      </div>
    </div>
    <div id='${this.idPaddingRow}' class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Padding: <span id='${this.idPaddingValue}' class='handoffLayerValue'></span>
      </div>
    </div>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Opacity: <span id='${this.idOpacity}' class='handoffLayerValue'></span>
      </div>
    </div>
  </div>
</div>
`));A(this,"x",this.element.find(`#${this.idX}`));A(this,"y",this.element.find(`#${this.idY}`));A(this,"width",this.element.find(`#${this.idWidth}`));A(this,"height",this.element.find(`#${this.idHeight}`));A(this,"rotation",this.element.find(`#${this.idRotation}`));A(this,"radius",this.element.find(`#${this.idRadius}`));A(this,"paddingRow",this.element.find(`#${this.idPaddingRow}`));A(this,"paddingValue",this.element.find(`#${this.idPaddingValue}`));A(this,"opacity",this.element.find(`#${this.idOpacity}`))}mount(e){this.element.appendTo(e)}set(e){this.setDimensions(e.rect),this.setPadding(e.style),this.rotation.text(e.style.rotation?this.roundRotation(e.style.rotation):0),this.radius.text(e.style.borderRadius?e.style.borderRadius:0),this.opacity.text(`${Number(e.style.opacity?e.style.opacity:1)*100}%`)}roundRotation(e){return typeof e=="number"?Ue(e):e}setDimensions(e){const{location:{x:t,y:i},size:{width:n,height:s}}=e;this.x.text(`${t}px`),this.y.text(`${i}px`),this.width.text(`${n}px`),this.height.text(`${s}px`)}setPadding({padding:e}){const t=!!e;e&&this.paddingValue.text(`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`),this.paddingRow.toggle(t)}}class XT{constructor(){A(this,"element",$(`
<div id='handoffLayerFillsSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Fill Color</div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div id='handoffFillsListContainer' class='handoffLayerViewCell'>
      </div>
    </div>
  </div>
</div>
  `));A(this,"container",this.element.find("#handoffFillsListContainer"))}mount(e){this.element.appendTo(e)}set(e){this.setFills(e.fills);const t=e.fills.length>0;this.element.toggle(t)}setFills(e){this.container.empty(),new da(e).mount(this.container)}}class GT{constructor(e,t){A(this,"element",$("<div id='handoffShadowssList'>"));this.setShadows(e),t&&this.mount(t)}setShadows(e){for(const t of e)this.addShadow(t)}addShadow(e){if(!e.on)return;const t=this.newShadow();e.inner||t.find(".handoffShadowInner").toggle(!1),t.find("#shadowValueX").text(`${e.offsetX}px`),t.find("#shadowValueY").text(`${e.offsetY}px`),t.find("#shadowValueBlur").text(`${e.blurRadius}px`),t.find("#shadowValueSpread").text(`${e.spreadRadius}px`);const i=Ar(e.color);t.find(".handoffFillSample").css("background-color",i),e.color.r===1&&e.color.g===1&&e.color.b===1?t.find(".handoffFillSample").css("border","1px solid #979797"):t.find(".handoffFillSample").css("border","1px solid transparent"),t.find(".handoffFillSampleValue").text(i),t.appendTo(this.element)}mount(e){this.element.appendTo(e)}newShadow(){return $(`
<div class='handoffShadow'>
  <div class='handoffShadowInner handoffLayerValue'>Inner</div>
  <div class='handoffLayerViewRow handoffShadowRow'>
    <div class='handoffLayerViewCell'>
      X: <span id='shadowValueX' class='handoffLayerValue'></span>
    </div>
    <div class='handoffLayerViewCell'>
      Y: <span id='shadowValueY' class='handoffLayerValue'></span>
    </div>
  </div>
  <div class='handoffLayerViewRow handoffShadowRow'>
    <div class='handoffLayerViewCell'>
      Blur: <span id='shadowValueBlur' class='handoffLayerValue'></span>
    </div>
    <div class='handoffLayerViewCell'>
      Spread: <span id='shadowValueSpread' class='handoffLayerValue'></span>
    </div>
  </div>
  <div class='handoffFillSample'></div> <span class='handoffFillSampleValue handoffLayerValue'></span>
</div>`)}}class QT{constructor(){A(this,"element",$(`
<div id='handoffLayerShadowsSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Shadows</div>
  <div class='handoffLayerSectionBody'>
      <div id='handoffShadowsListContainer' class='handoffLayerViewCell'>
      </div>
    </div>
</div>
  `));A(this,"container",this.element.find("#handoffShadowsListContainer"))}mount(e){this.element.appendTo(e)}set(e){const t=this.getShadows(e.style);this.setShadows(t);const i=t.length>0;this.element.toggle(i)}setShadows(e){if(this.container.empty(),!e||e.length===0)return;new GT(e).mount(this.container)}getShadows(e){let t=[];return e.boxShadow&&this.hasActiveShadows(e.boxShadow)?t=e.boxShadow:e.textShadow&&this.hasActiveShadows(e.textShadow)&&(t=e.textShadow),t}hasActiveShadows(e){return!!e&&e.length>0&&e.find(t=>t.on)!==void 0}}class YT{constructor(){A(this,"element",$(`
<div id='handoffLayerHtmlSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>HTML</div>
  <div class='handoffLayerSectionBody handoffLayerSectionContentBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        <span id='handoffHtmlContent' class='handoffLayerValue'></span>
      </div>
    </div>
  </div>
</div>
  `));A(this,"html",this.element.find("#handoffHtmlContent"))}mount(e){this.element.appendTo(e)}set(e){this.setHtml("")}setHtml(e){const t=!!e;this.html.text(e),this.element.toggle(t)}}class qT{constructor(){A(this,"element",$(`
<div id='handoffLayerNameSection'>
  <div id='handoffLayerName'></div>
</div>`));A(this,"name",this.element.find("#handoffLayerName"))}mount(e){this.element.appendTo(e)}set(e){this.setName(e.name)}setName(e){this.name.text(e)}}class KT{constructor(){A(this,"element",$(`
<div id='handoffLayerTypefaceSection' class='handoffLayerSection'>
  <div class='handoffSectionName'>Typography</div>
  <div class='handoffLayerSectionBody'>
    <div class='handoffLayerViewRow'>
      <div class='handoffLayerViewCell'>
        Typeface: <span id='handoffFontName' class='handoffLayerValue'></span>
      </div>
    </div>
    <div id='handoffFontProperties'>
      <div class='handoffLayerViewRow'>
        <div class='handoffLayerViewCell'>
          Size: <span id='handoffFontSize' class='handoffLayerValue'></span>
        </div>
        <div class='handoffLayerViewCell'>
          Align: <span id='handoffFontAlignment' class='handoffLayerValue'></span>
        </div>
      </div>
      <div class='handoffLayerViewRow'>
        <div id='handoffTextColorContainer' class='handoffLayerViewCell'>
      </div>
    </div>
  </div>
</div>
  `));A(this,"fontName",this.element.find("#handoffFontName"));A(this,"fontSize",this.element.find("#handoffFontSize"));A(this,"fontAlignment",this.element.find("#handoffFontAlignment"));A(this,"colorContainer",this.element.find("#handoffTextColorContainer"))}mount(e){this.element.appendTo(e)}set(e){this.setTypeface(e.style)}setTypeface({fontName:e,fontSize:t,horizontalAlignment:i,textColor:n,typeface:s}){const o=s||e,a=!!(o||t||i||n);if(a){if(o!==void 0&&this.fontName.text(o.replaceAll(/'| - regular| - normal/gi,"")),t!==void 0){let l=t;typeof t=="number"&&(l=`${t}px`),this.fontSize.text(l)}if(i!==void 0&&this.fontAlignment.text(xh(i)),n!==void 0){this.colorContainer.empty();const c=[{type:Wt.Solid,color:n}];new da(c).mount(this.colorContainer)}}this.element.toggle(a)}}class ZT{constructor(){A(this,"element",$(`
<div id='handoffStateSelectorSection' class='handoffLayerSection'>
</div>`));A(this,"button",$(`
<div id='stateSelectorButton' class='stateSelectorButton'>
  <div id='currentState'></div>
  <div class='caret currentStateCaret'></div>
</div>
`));A(this,"popup",$(`
  <div id='stateSelectorPopup' class='stateSelectorPopup' style='display:none'></div>
`));A(this,"popupOverlay",$(`
  <div id='stateSelectorOverlay' class='splitterMask'></div>
`));A(this,"state")}setState(e){this.state=e}mount(e){this.element.appendTo(e)}set(e){if(this.element.empty(),this.popup.empty(),e.states&&e.states.all.length>1){this.button.find("#currentState").text(e.states.current),this.button.appendTo(this.element),this.button.on("click",this.togglePopup.bind(this));for(let i=0;i<e.states.all.length;i++){const n=e.states.all[i],s=$(`<div class='stateSelectorOption'>${n}</div>`);s.on("click",()=>{var o;this.togglePopup(),(o=this.state)==null||o.trigger(J.SetDynamicPanelState,{id:e.id,stateNumber:i+1})}),s.appendTo(this.popup)}this.popup.appendTo(this.element)}}togglePopup(){this.popup.is(":hidden")?(this.popup.show(),this.popupOverlay.appendTo($("#popupContainer")),this.popupOverlay.on("click",this.togglePopup.bind(this))):(this.popup.hide(),this.popupOverlay.remove())}}class JT{constructor(){A(this,"element",$(`
<div id='handoffStyleEffects'>
</div>`))}mount(e){this.element.appendTo(e)}set(e){if(this.element.empty(),e.styleEffects)for(const t of e.styleEffects)this.getStyleEffectSection(t[0],t[1]).appendTo(this.element)}getStyleEffectSection(e,t){const i=$(`<div class='handoffLayerSection'><div class='handoffSectionName'>:${e}</div></div>`),n=$("<div class='handoffLayerSectionBody'></div>");return t.fill&&this.appendProperty(n,"Fill Color",this.getColorString(t.fill)),t.fontName&&this.appendProperty(n,"Font Name",t.fontName),t.fontStyle&&this.appendProperty(n,"Font Style",gg(t.fontStyle)),t.fontSize&&this.appendProperty(n,"Font Size",`${t.fontSize}px`),t.fontWeight&&this.appendProperty(n,"Font Weight",t.fontWeight.toString()),t.textColor&&this.appendProperty(n,"Text Color",this.getHexColorWithSwatch(t.textColor)),t.horizontalAlignment&&this.appendProperty(n,"Text Alignment",xh(t.horizontalAlignment)),t.textShadow&&t.textShadow.length&&this.appendProperty(n,"Text Shadow",this.getShadowString(t.textShadow)),t.letterSpacing&&this.appendProperty(n,"Letter Spacing",t.letterSpacing.toString()),t.lineSpacing&&this.appendProperty(n,"Line Spacing",t.lineSpacing.toString()),t.underline&&this.appendProperty(n,"Underline",t.underline.toString()),t.text&&this.appendProperty(n,"Text",t.text),t.opacity&&this.appendProperty(n,"Opacity",`${+t.opacity*100}%`),t.borderFill&&this.appendProperty(n,"Border Color",this.getColorString(t.borderFill)),t.borderWidth&&this.appendProperty(n,"Border Width",`${t.borderWidth}px`),t.borderVisibility&&this.appendProperty(n,"Border Visibility",t.borderVisibility),t.borderStyle&&this.appendProperty(n,"Border Style",t.borderStyle),t.borderRadius&&this.appendProperty(n,"Radius",`${t.borderRadius}px`),t.boxShadow&&t.boxShadow.length&&this.appendProperty(n,"Box Shadow",this.getShadowString(t.boxShadow)),t.text&&this.appendProperty(n,"Text",t.text),n.appendTo(i),i}appendProperty(e,t,i){$(`<div class='styleEffectProperty'><span class='styleEffectPropertyName'>${t}: </span><span class='styleEffectPropertyValue'>${i}</span></div>`).appendTo(e)}getColorString(e){let t="";for(const i of e)if(zs(i)&&(t+=`${this.getHexColorWithSwatch(i.color)}, `),bh(i)||wh(i)||Sh(i))for(const n of i.stops)t+=`${this.getHexColorWithSwatch(n.color)}, `;return t&&(t=t.slice(0,-2)),t}getHexColorWithSwatch(e){const t=Ar(e);let i="";return e.r===1&&e.g===1&&e.b===1&&(i=";border: 1px solid #979797"),`${t}<span class='colorSwatch' style='background-color:${t}${i}'></span>`}getShadowString(e){let t="";for(const i of e)i.on&&(t+=`${i.inner?"inset":"outset"} ${i.offsetX}px ${i.offsetY}px ${i.blurRadius}px ${i.spreadRadius}px ${Ar(i.color)}, `);return t&&(t=t.slice(0,-2)),t}}class eI{constructor(e,t){A(this,"layerView",$(`
<div id='handoffLayerView' style='display: none'>
  `));A(this,"sections",{layerName:new qT,statesSelector:new ZT,dimensions:new UT,assets:new Rk,content:new $k,typeface:new KT,fills:new XT,borders:new Dk,shadows:new QT,styleEffects:new JT,html:new YT,css:new FT});this.state=e,this.sections.statesSelector.setState(e);for(const i of Object.values(this.sections))i.mount(this.layerView);t&&this.mount(t)}mount(e){this.layerView.appendTo(e)}show(){this.layerView.show()}hide(){this.layerView.hide()}set(e){for(const t of Object.values(this.sections))t.set(e)}}class tI{constructor(e){A(this,"lastUpdatedContainer",$('<div class="handoffLayerViewRow">'));A(this,"lastUpdatedDate",$("<span id='handoffProjectLastUpdatedDate' class='handoffLayerValue'></span>"));A(this,"lastUpdated",$("<div> Last updated: </div>"));A(this,"lastUpdatedContainerCell",$('<div class="handoffLayerViewCell">'));e&&this.mount(e)}mount(e){return this.lastUpdatedContainer.append(this.lastUpdatedContainerCell.append(this.lastUpdated.append(this.lastUpdatedDate))).appendTo(e)}show(){this.lastUpdatedContainer.show()}hide(){this.lastUpdatedContainer.hide()}setLastUpdated(e){this.lastUpdatedDate.text(rI(new Date().getTime(),e.getTime()))}}function rI(r,e){const a=r-e;let l=0;return a<6e4?(l=Math.round(a/1e3),l===1?"1 second ago":`${l} seconds ago`):a<36e5?(l=Math.round(a/6e4),l===1?"1 minute ago":`${l} minutes ago`):a<864e5?(l=Math.round(a/36e5),l===1?"1 hour ago":`${l} hours ago`):a<2592e6?(l=Math.round(a/864e5),l===1?"Yesterday":l===7?"about 1 week ago":`about ${l} days ago`):a<31536e6?(l=Math.round(a/2592e6),`about ${l===1?"1 month ago":`${l} months ago`}`):(l=Math.round(a/31536e6),`about ${l===1?"1 year ago":`${l} years ago`}`)}function iI(){return $(`
  <h1 class="handoff-inspect-header">Inspect</h1>
  <div class='handoff-call-to-action'>
    <p><span class='handoff-caret handoff-caret-left'></span>&nbsp;Click on a layer in your prototype to view dimensions & colors, download assets and copy CSS.</p>
  </div>
`)}class nI{constructor(e,t){A(this,"projectInfo",$(`
<div id='handoffProjectInfo' class='handoffLayerSection'>
<div id='handoffProjectName' class='handoffSectionName handoffLayerValue'></div>
  `));A(this,"projectName",this.projectInfo.find("#handoffProjectName"));A(this,"lastUpdated");this.lastUpdated=new tI,this.projectInfo.append(iI()),t&&this.mount(t)}mount(e){return this.projectInfo.appendTo(e)}set(e){e.lastModified?(this.lastUpdated.show(),this.lastUpdated.setLastUpdated(e.lastModified)):this.lastUpdated.hide()}show(){this.projectInfo.show()}hide(){this.projectInfo.hide()}}class sI{constructor(e,t,i){A(this,"element",$(`
<div id="handoffScrollContainer">
  <div id="handoffContainer">
    <div id='handoffModeLinkContainer' class='handoffLinksContainer'>
      ${cO()}
    </div>
  </div>
</div>
`));A(this,"icons",{eye:'<svg viewBox="0 0 18 12"><path d="M18 5.89l-.27-.359C17.57 5.322 13.8.401 9 .401 4.2.4.429 5.321.27 5.53L0 5.89l.269.359C.427 6.46 4.198 11.43 9 11.43s8.573-4.97 8.731-5.182L18 5.889zm-1.516.003c-.93 1.1-3.97 4.344-7.484 4.344-3.506 0-6.553-3.246-7.484-4.345.93-1.09 3.97-4.299 7.484-4.299 3.506 0 6.55 3.21 7.484 4.3zm-4.253.022c0-1.782-1.449-3.23-3.231-3.23a3.234 3.234 0 0 0-3.231 3.23A3.234 3.234 0 0 0 9 9.146a3.234 3.234 0 0 0 3.231-3.231zm-1.193 0A2.04 2.04 0 0 1 9 7.953a2.04 2.04 0 0 1-2.038-2.038A2.04 2.04 0 0 1 9 3.877a2.04 2.04 0 0 1 2.038 2.038z"/></svg>',compass:'<svg viewBox="0 0 18 15"><path d="M17.209 14.504l.62-.417-3.237-5.498a11.076 11.076 0 0 0 2.196-1.672l.277-.271-2.169-1.99-.258.254a8.028 8.028 0 0 1-1.521 1.172L9.95.706 9 1.248 8.05.706l-3.18 5.4A8.031 8.031 0 0 1 3.31 4.91l-.258-.254-2.168 1.99.277.27A11.08 11.08 0 0 0 3.395 8.61L.17 14.087l.621.418 4.23-5.13c1.245.467 2.58.714 3.954.714 1.387 0 2.736-.252 3.992-.73l4.242 5.145zM5.538 6.454L8.326 1.72 9 2.105l.674-.385 2.777 4.714a8.057 8.057 0 0 1-.688.287L9 3.37 6.225 6.735a8 8 0 0 1-.687-.281zM9 4.55l1.987 2.411a8.22 8.22 0 0 1-3.984.012L9 4.549zM4.296 9.077l-1.057 1.28.821-1.394c.079.037.156.077.236.114zM1.977 6.659l1.064-.976a8.798 8.798 0 0 0 5.934 2.27 8.801 8.801 0 0 0 5.935-2.27l1.064.976a10.335 10.335 0 0 1-6.999 2.69 10.34 10.34 0 0 1-6.998-2.69zm12.782 3.697L13.69 9.06c.08-.036.158-.077.237-.117l.832 1.414z"/></svg>'});A(this,"container",this.element.find("#handoffContainer"));A(this,"layerView");A(this,"projectInfo");A(this,"artboardColors");A(this,"artboardAssets");this.state=e,this.viewer=t,this.projectInfo=new nI(e),this.artboardColors=new Ik(e),this.artboardAssets=new pk(e),this.layerView=new eI(e),this.projectInfo.mount(this.container),this.artboardColors.mount(this.container),this.artboardAssets.mount(this.container),this.layerView.mount(this.container),i&&this.mount(i)}mount(e){return this.subscribeToState(),this.addControlHeaderButtons(),this.isPluginVisible()?$("#handoffInspectBtn").click():this.toggleHeaderButton($("#handoffPreviewBtn")),this.element.appendTo(e)}inspectorShow(){window.$axure.player.showPlugin(xl.gid)}inspectorHide(){window.$axure.player.pluginClose(xl.id)}inspectorEnable(){$("#handoffHostBtn").show(),this.isPluginVisible()||this.inspectorShow()}inspectorDisable(){$("#handoffHostBtn").hide(),this.inspectorHide()}isPluginVisible(){return $("#handoffHostBtn a").hasClass("selected")}openLayerView(){this.hideAll(),this.layerView.show()}closeLayerView(){this.hideAll(),this.projectInfo.show()}subscribeToState(){this.state.subscribe({[J.ProjectLoaded]:e=>this.projectInfo.set(e),[J.InspectorShow]:()=>this.inspectorShow(),[J.InspectorHide]:()=>this.inspectorHide(),[J.InspectorEnabled]:()=>this.inspectorEnable(),[J.InspectorDisabled]:()=>this.inspectorDisable(),[J.ArtboardColorsSet]:e=>this.artboardColors.set(e),[J.ArtboardAssetsSet]:e=>this.artboardAssets.set(e),[J.ShowAllAssets]:()=>this.showAllAssets(),[J.ShowAllColors]:()=>this.showAllColors(),[J.OpenLayerView]:()=>this.openLayerView(),[J.CloseLayerView]:()=>this.closeLayerView(),[J.InspectSet]:e=>this.setInspect(e)})}hideAll(){this.projectInfo.hide(),this.artboardColors.hide(),this.layerView.hide(),this.artboardAssets.hide()}showAllColors(){this.hideAll(),this.artboardColors.show()}showAllAssets(){this.hideAll(),this.artboardAssets.show()}setInspect(e){this.openLayerView();const t=mk(e);this.layerView.set(t)}toggleHeaderButton(e){$(".handoffHeaderBtn").removeClass("selected"),e.addClass("selected"),e.parent().addClass("selected")}addControlHeaderButtons(){const e=[{name:"Preview",icon:"eye",handler:t=>{this.state.InspectorEnabled&&(this.toggleHeaderButton(t),this.state.inspectorDisable())}},{name:"Inspect",icon:"compass",handler:t=>{this.state.InspectorEnabled||(this.toggleHeaderButton(t),this.state.inspectorEnable(),this.viewer.show())}}];for(const t of e)this.addControlHeaderButton(t)}addControlHeaderButton(e){const t=$(`<li id="handoff${e.name}HeaderItem"></li>`),i=$(`<button id="handoff${e.name}Btn" class="handoffHeaderBtn">
      <div id="handoff${e.name}Icon" class='handoffHeaderIcon'>${this.icons[e.icon]}</div>
      <span>${e.name}</span>
    </button>`);i.on("click",()=>{e.handler(i)}),t.append(i),$("#handoffControlFrameHeader").append(t)}}const xl={id:Ic.handoff.id,context:"inspect",title:"Inspect",gid:Ic.handoff.gid};class oI{inspect(e){}getAllColors(){return[]}getAllAssets(){return{all:[],byLayer:[]}}setScale(e,t,i){}}const aI=new oI;class l0{constructor(e){A(this,"state");A(this,"inspectPresenter");A(this,"viewInspector");A(this,"viewer");A(this,"currentInspect",{click:void 0,hover:void 0});this.viewInspector=e.inspector,this.viewer=e.viewer,this.state=e.state,e.$axure.player.createPluginHost(xl),this.inspectPresenter=new sI(e.state,e.viewer,$(`#${xl.id}`)),this.state.subscribe({[J.PageWillChange]:()=>this.pageSelected(),[J.InspectGet]:t=>this.inspect(t),[J.InspectHoverGet]:t=>this.inspectHover(t)}),this.loadResources()}get CurrentInspect(){return this.currentInspect}setScale(e,t,i){this.unwrapInspector().setScale(e,t,i),this.viewer.setScale(e,t,i)}inspect(e){this.currentInspect.click=e;const t=this.unwrapInspector().inspect(e);t?(this.state.trigger(J.InspectSet,t),this.openLayerView()):(this.inspectClear(),this.closeLayerView())}inspectHover(e){this.currentInspect.hover=e;const t=this.unwrapInspector().inspect(e);t?this.state.trigger(J.InspectSetHover,t):this.state.trigger(J.InspectClearHover)}inspectClear(){this.state.trigger(J.InspectClear),this.inspectClearHover()}inspectClearHover(){this.state.trigger(J.InspectClearHover)}openLayerView(){this.inspectPresenter.openLayerView()}closeLayerView(){this.inspectPresenter.closeLayerView()}show(){this.viewer.show()}hide(){this.viewer.hide()}pageSelected(){this.inspectClear(),this.closeLayerView()}unwrapInspector(){return(typeof this.viewInspector=="function"?this.viewInspector():this.viewInspector)||aI}loadResources(){const t=["https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,600;0,700;1,400&display=swap"],i=this.viewer.getContainer();t.map(n=>ea(n,i))}}var Et=(r=>(r.Page="Axure:Page",r.Layer="layer",r.ImageBox="imageBox",r.DynamicPanel="dynamicPanel",r.HotSpot="imageMapRegion",r.InlineFrame="inlineFrame",r.Snapshot="screenshot",r.DropList="comboBox",r.ListBox="listBox",r.TextBox="textBox",r.TextArea="textArea",r))(Et||{});function c0(r){return r.fillType==="solid"}function lI(r){return r.fillType==="linearGradient"}function cI(r){return r.fillType==="radialGradient"}function Ku(r){return r.style!==void 0}function hI(r){return r.type===Et.Layer}function h0(r){return r.type===Et.DynamicPanel}class ze{static checkStylePropAvailability(e,t){if(!e||!t)return!0;const i=this.widgetAvailabilityMap.get(e);return i?i.whiteList&&i.whiteList.length>0?i.whiteList.indexOf(t)>=0:i.blackList&&i.blackList.length>0?i.blackList.indexOf(t)<0:!0:!0}}A(ze,"widgetAvailabilityMap",new Map([[Et.DynamicPanel,{blackList:["fontName","fontSize","fontStyle","fontWeight","horizontalAlignment","lineSpacing","textColor","textShadow","underline","text"]}],[Et.Layer,{whiteList:["width","height","rotation","opacity","fill"]}],[Et.HotSpot,{whiteList:["width","height","rotation"]}],[Et.InlineFrame,{whiteList:["width","height","rotation"]}],[Et.Snapshot,{whiteList:["width","height","rotation","opacity","borderRadius","borderWidth","borderAlignment","borderFill","borderStyle"]}],[Et.DropList,{blackList:["horizontalAlignment","lineSpacing"]}],[Et.ListBox,{blackList:["horizontalAlignment","lineSpacing"]}],[Et.TextBox,{blackList:["lineSpacing"]}],[Et.TextArea,{blackList:["lineSpacing"]}],[Et.ImageBox,{blackList:["fill","padding"]}]]));const uI=/((.+)~)?(\w+)~(.+)?/;let fI=class{constructor(e){this.window=e}get $axureplayer(){return window.$axure}convert(e,t){if(t){const i=Ku(e)?this.convertStyle(e):{},n=this.getShapeName(e),s=this.getWidgetById(e.id);let o;if(h0(s)&&s.diagrams){const a=this.getCurrentState(e.id);a&&(o={current:a,all:s.diagrams.map(l=>l.label)})}return{id:e.id,name:n,rect:this.convertRect(e),assets:this.convertAssets(e),fills:i.fill?i.fill:[],style:i,styleEffects:this.convertStyleEffects(e),states:o}}return{id:e.id,name:e.id,rect:this.convertRect(e),assets:[],fills:[],style:{}}}convertStyleEffects(e){const t=Ku(e)&&e.style.stateStyles;if(!t||Object.keys(t).length===0)return;const i=this.getWidgetById(e.id),n=i?i.type:void 0,s=new Map,o=!!e.style.text;for(const a in t){const l=t[a];if(l){let c={};if(l.baseStyle){const h=this.$axureplayer.document.stylesheet.customStyles;let u;for(const f in h){const d=h[f];d&&d.id===l.baseStyle&&(u=d)}u&&(c=this.getCommonStyleProps(u,o,n))}c={...c,...this.getCommonStyleProps(l,o,n)},s.set(a,c)}}return s}getCommonStyleProps(e,t,i){return{...this.text(e,t,i),...this.borders(e,i),...this.fills(e,i),...this.opacity(e,i),...this.padding(e,i),...this.backgroundImage(e,i),...this.boxShadow(e,i)}}getCurrentState(e){const t=this.window.document.querySelectorAll(`#${e} > .panel_state`);for(const i of t)if(i.style.visibility!=="hidden")return i.getAttribute("data-label")}getShapeName(e){if(!Ku(e))return e.id;const{style:t}=e,i=this.getWidgetById(e.id);return i&&i.label?i.label:!h0(i)&&!!t.text.replaceAll(/[\n\s]+/g,"")?t.text.substring(0,20):i.friendlyType||e.id}getWidgetById(e){return this.objQuery(e)}convertRect({rect:e}){return{location:{x:e.x,y:e.y},size:{height:e.height,width:e.width}}}convertFills(e,t){const i=[];if(c0(t)&&i.push(f0(t)),lI(t)&&e.location&&e.size&&i.push(gI(t,e.location,e.size)),cI(t)&&e.location&&e.size){const n=mI(t,e.location,e.size);n&&i.push(n)}return i}convertStyle(e){const t=this.getWidgetById(e.id),i=t?t.type:void 0,n=e.style;return{...this.dimensions(e,i),...this.getCommonStyleProps(n,!!n.text,i)}}backgroundImage(e,t){if(t){const i={};return ze.checkStylePropAvailability(t,"backgroundImage")&&(i.backgroundImage=e.image?e.image:void 0),i}return{backgroundImage:e.image?e.image:void 0}}opacity(e,t){if(t){const i={};return ze.checkStylePropAvailability(t,"opacity")&&e.opacity&&(i.opacity=e.opacity),i}return{opacity:e.opacity}}padding(e,t){const{paddingTop:i,paddingRight:n,paddingBottom:s,paddingLeft:o}=e;if((!i||i==="0")&&(!n||n==="0")&&(!s||s==="0")&&(!o||o==="0"))return{};if(t){const a={};return ze.checkStylePropAvailability(t,"padding")&&(a.padding={top:i||0,right:n||0,bottom:s||0,left:o||0}),a}return{padding:{top:i||0,right:n||0,bottom:s||0,left:o||0}}}fills(e,t){if(t){const i={};return ze.checkStylePropAvailability(t,"fill")&&e.fill&&(i.fill=this.convertFills(e,e.fill)),i}return{fill:e.fill&&this.convertFills(e,e.fill)}}borders(e,t){if(t){const i={};return ze.checkStylePropAvailability(t,"borderRadius")&&e.cornerRadius&&(i.borderRadius=e.cornerRadius),ze.checkStylePropAvailability(t,"borderWidth")&&e.borderWidth&&(i.borderWidth=e.borderWidth),ze.checkStylePropAvailability(t,"borderAlignment")&&(i.borderAlignment=sr.Inside),ze.checkStylePropAvailability(t,"borderFill")&&e.borderFill&&(i.borderFill=this.convertFills(e,e.borderFill)),ze.checkStylePropAvailability(t,"borderStyle")&&e.linePattern&&(i.borderStyle=e.linePattern),ze.checkStylePropAvailability(t,"borderVisibility")&&e.borderVisibility&&(i.borderVisibility=e.borderVisibility),i}return{borderRadius:e.cornerRadius,borderWidth:e.borderWidth,borderAlignment:sr.Inside,borderFill:e.borderFill&&this.convertFills(e,e.borderFill),borderStyle:e.linePattern,borderVisibility:e.borderVisibility}}boxShadow(e,t){const i=e.outerShadow,n=e.innerShadow,s={};return s.boxShadow=[],t&&!ze.checkStylePropAvailability(t,"boxShadow")||(i&&s.boxShadow.push({on:i.on,offsetX:i.offsetX,offsetY:i.offsetY,blurRadius:i.blurRadius,spreadRadius:i.spread||0,color:i.color,inner:!1}),n&&s.boxShadow.push({on:n.on,offsetX:n.offsetX,offsetY:n.offsetY,blurRadius:n.blurRadius,spreadRadius:n.spread||0,color:n.color,inner:!0})),s}dimensions(e,t){if(t){const i={};return ze.checkStylePropAvailability(t,"width")&&(i.width=e.rect.width),ze.checkStylePropAvailability(t,"height")&&(i.height=e.rect.height),ze.checkStylePropAvailability(t,"rotation")&&(i.rotation=`${e.style.rotation}`),i}return{width:e.rect.width,height:e.rect.height,rotation:`${e.style.rotation}`}}text(e,t,i){let n={};return!t&&i!==Et.TextBox&&i!==Et.TextArea||(i?(ze.checkStylePropAvailability(i,"letterSpacing")&&e.characterSpacing&&(n.letterSpacing=e.characterSpacing),ze.checkStylePropAvailability(i,"fontName")&&e.fontName&&(n.fontName=e.fontName),ze.checkStylePropAvailability(i,"fontSize")&&e.fontSize&&(n.fontSize=e.fontSize),ze.checkStylePropAvailability(i,"fontStyle")&&e.fontStyle&&(n.fontStyle=g0(e.fontStyle)),ze.checkStylePropAvailability(i,"fontWeight")&&e.fontWeight&&(n.fontWeight=e.fontWeight),ze.checkStylePropAvailability(i,"horizontalAlignment")&&e.horizontalAlignment&&(n.horizontalAlignment=p0(e.horizontalAlignment)),ze.checkStylePropAvailability(i,"lineSpacing")&&e.lineSpacing&&(n.lineSpacing=e.lineSpacing),ze.checkStylePropAvailability(i,"textColor")&&e.foreGroundFill&&(n.textColor=u0(e.foreGroundFill)),ze.checkStylePropAvailability(i,"textShadow")&&e.textShadow&&(n.textShadow=[{on:e.textShadow.on,offsetX:e.textShadow.offsetX,offsetY:e.textShadow.offsetY,blurRadius:e.textShadow.blurRadius,spreadRadius:0,color:e.textShadow.color,inner:!1}]),ze.checkStylePropAvailability(i,"underline")&&e.underline&&(n.underline=e.underline),ze.checkStylePropAvailability(i,"text")&&e.text&&(n.text=e.text)):n={...n,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle&&g0(e.fontStyle),fontWeight:e.fontWeight,horizontalAlignment:e.horizontalAlignment&&p0(e.horizontalAlignment),letterSpacing:e.characterSpacing,lineSpacing:e.lineSpacing,textColor:e.foreGroundFill&&u0(e.foreGroundFill),textShadow:e.textShadow&&[{on:e.textShadow.on,offsetX:e.textShadow.offsetX,offsetY:e.textShadow.offsetY,blurRadius:e.textShadow.blurRadius,spreadRadius:0,color:e.textShadow.color,inner:!1}],underline:e.underline,text:e.text}),n}get objQuery(){return this.window.$obj}convertAssets(e){const t=[];if(!this.objQuery)return t;const i=this.objQuery(e.id);if(i){const n=[],s=o=>{o.images&&n.push(...Object.entries(o.images).map(([a,l])=>({key:a,url:l,decoded:this.decodeImageKey(a)}))),hI(o)&&o.objs.forEach(s)};s(i);for(const{decoded:o,url:a}of n){const l=!!o.overrideId,c=o.overrideId===e.id;if(l&&!c)continue;const h=o.modifier.toLowerCase(),u=h?`${e.id}-${h}`:e.id,f=pI(a,o);t.push({name:u,assets:[{url:a,fileName:f,fileType:Cc(f)||"undefined",originalFileName:f,layerId:e.id,modifier:h}]})}}return t}decodeImageKey(e){const t=uI.exec(e);if(t){const[i,n,s="",o,a=""]=t;return{modifier:o.toLowerCase(),overrideId:s,adaptiveViewId:a,adaptiveViewName:this.getAdaptiveViewName(a)}}return{modifier:"normal",overrideId:"",adaptiveViewId:"",adaptiveViewName:""}}getAdaptiveViewName(e){if(this.$axureplayer){const t=this.$axureplayer.page.adaptiveViews.find(i=>i.id===e);if(t)return t.name}}};const dI=r=>{const e=r.split("/").pop();return e?e.split("#")[0].split("?")[0]:r};function pI(r,e){const{modifier:t,adaptiveViewId:i,adaptiveViewName:n}=e,s=dI(r);let o=[i,n,t].filter(Boolean).join("_");return o=Td(o),`${o}_${s}`}const u0=r=>{if(c0(r))return f0(r).color};function f0(r){return{color:Zu(r.color,r.opacity),type:Wt.Solid}}function gI(r,e,t){const i=[],n=d0(e,t),s=r.startPoint,o=r.endPoint,a=bI(s,o,n)-90,l=yI(r.stops,n,s,o);for(const c of l)i.push({color:Zu(c.color),offset:c.offset*100});return{type:Wt.Gradient,angle:a,stops:i}}function mI(r,e,t){const i=[];d0(e,t);const n=r.axis1,s=r.axis2,o=r.center;if(!(o.x===n.x&&o.y===s.y||o.x===s.x&&o.y===n.y))return;const a=(o.x-n.x||o.y-n.y)*100,l=(o.x-s.x||o.y-s.y)*100,c={x:o.x*100,y:o.y*100};for(const h of r.stops)i.push({color:Zu(h.color),offset:h.offset*100});return{type:Wt.Radial,axis1:a,axis2:l,center:c,stops:i}}function Zu(r,e){let t=r;const i={r:0,g:0,b:0,a:1};return i.b=t%256/255,t=Math.floor(t/256),i.g=t%256/255,t=Math.floor(t/256),i.r=t%256/255,t=Math.floor(t/256),i.a=e||t%256/255,i}const d0=(r,e)=>({x:r.x,y:r.y,topLeft:{x:r.x,y:r.y},topRight:{x:r.x+e.width,y:r.y},center:{x:r.x+e.width/2,y:r.y+e.height/2},matrix:{m11:e.width,m12:0,m21:0,m22:e.height,tx:r.x,ty:r.y}}),yI=(r,e,t,i)=>{const n=Ol(t,e.matrix),s=Ol(i,e.matrix);return vI(e,n,s,r)},vI=(r,e,t,i)=>{const n=co(t,e),s=SI(n),o=Ju(co(e,r.center),n),a=Ju(co(r.topLeft,r.center),n),l=Ju(co(r.topRight,r.center),n),c=Math.max(Math.abs(a),Math.abs(l)),h=[];for(const u of i){let d=(o+u.offset*s+c)/(2*c);d>1?d=1:d<0&&(d=0),h.push({offset:d,color:u.color})}return h},bI=(r,e,t)=>{const i=Ol(r,t.matrix),n=Ol(e,t.matrix),s=co(i,n);return wI(s)},Ol=(r,e)=>({x:r.x*e.m11+r.y*e.m12+e.tx,y:r.x*e.m21+r.y*e.m22+e.ty}),co=(r,e)=>({x:r.x-e.x,y:r.y-e.y}),wI=r=>Math.atan2(r.y,r.x)*180/Math.PI,SI=r=>r.x*r.x+r.y*r.y,Ju=(r,e)=>r.x*e.x+r.y*e.y;function p0(r){switch(r){case"center":return Lt.Center;case"left":return Lt.Left;case"right":return Lt.Right;case"justified":return Lt.Justified;default:return Lt.Left}}function g0(r){switch(r){case"normal":return kr.Normal;case"italic":return kr.Italic;default:return kr.Normal}}class Cl{constructor(e){A(this,"targetIndex",0);A(this,"traverseQueue",[]);this.traverseTree=e,this.traverseQueue=this.flatTree(e)}get depth(){return this.traverseQueue.length}get target(){return this.traverseQueue[this.targetIndex]}get nextTarget(){return this.traverseQueue[this.nextIndex]}get nextIndex(){let e=this.targetIndex;return e<this.depth-1?e++:e=0,e}iterateTarget(){this.targetIndex=this.nextIndex}equalsItems(e,t){return e.id===t.id}equalsQueue(e){if(this.traverseQueue.length!==e.length)return!1;const t=this.traverseQueue.length;for(let i=0;i<t;i++)if(!this.equalsItems(this.traverseQueue[i],e[i]))return!1;return!0}flatTree(e){if(!e||e.length===0)return[];const t=[];for(let i=0;i<e.length;i++){const n=e[i];if(!n.children||n.children.length===0)t.push(n.item);else{t.push(n.item);const s=this.flatTree(n.children);t.push(...s)}}return t}mergeTree(e){const t=new Cl(e);if(t.equalsQueue(this.traverseQueue))return t.targetIndex=this.targetIndex,t.iterateTarget(),t;const i=this.target;if(!i)return t;const n=this.getItemInTree(t.traverseTree,i);if(n){const s=this.getParentOfItemInTree(t.traverseTree,n.item);if(s&&s.children){const o=s.children[0];o&&this.equalsItems(o.item,n.item)?!n.children||n.children.length===0?(t.selectItem(n),t.iterateTarget()):t.selectItem(n.children[0]):t.selectItem(o)}else!n.children||n.children.length===0?(t.selectItem(n),t.iterateTarget()):t.selectItem(n.children[0])}else{const s=this.getCommonParent(this.traverseTree,i,t.traverseTree);s&&(!s.children||s.children.length===0?(t.selectItem(s),t.iterateTarget()):t.selectItem(s.children[0]))}return t}selectItem(e){if(!e)return;const t=this.traverseQueue.findIndex(i=>e instanceof xI?this.equalsItems(i,e):this.equalsItems(i,e.item));this.targetIndex=t}getItemInTree(e,t){if(!(!t||!e||e.length===0))for(let i=0;i<e.length;i++){const n=e[i];return this.equalsItems(n.item,t)?n:!n.children||n.children.length===0?void 0:this.getItemInTree(n.children,t)}}getParentOfItemInTree(e,t){if(!(!t||!e||e.length===0))for(let i=0;i<e.length;i++){const n=e[i];return!n.children||n.children.length===0?void 0:n.children.findIndex(s=>this.equalsItems(s.item,t))>=0?n:this.getParentOfItemInTree(n.children,t)}}getCommonParent(e,t,i){const n=this.getParentOfItemInTree(e,t);if(!n)return;const s=this.getItemInTree(i,n.item);return s||this.getCommonParent(e,n.item,i)}}class m0{constructor(){A(this,"selectedItem");A(this,"currentTraverse")}getShapesAtLocation(e){return[]}getParentByElement(e){}selectItem(e,t=!1){const i=this.getShapesAtLocation(e),n=this.getShapeTreeFormArray(i),s=n[0]?n[0].item:void 0;if(t){if(this.selectedItem&&s&&this.equalsItems(this.selectedItem,s)){let o=this.currentTraverse;return o?(o=o.mergeTree(n),o.target):(o=new Cl(n),o.nextTarget)}}else{if(this.selectedItem&&s&&this.equalsItems(this.selectedItem,s))return this.currentTraverse?this.currentTraverse=this.currentTraverse.mergeTree(n):(this.currentTraverse=new Cl(n),this.currentTraverse.iterateTarget()),this.currentTraverse.target;this.currentTraverse=void 0,this.selectedItem=s}return s}equalsItems(e,t){return e.id===t.id}getShapeTreeFormArray(e){const t=e.map(i=>({item:i}));return this.buildShapeTree(t)}buildShapeTree(e){let t=[],i=!1;for(let n=0;n<e.length;n++){const s=this.getParentByElement(e[n].item);if(s){i=!0;const o=t.findIndex(a=>this.equalsItems(a.item,s));if(o<0){const a={item:{...s}};a.children=[e[n]],t.push(a)}else t[o]=this.pushChildInParent(t[o],[e[n]])}else{const o=t.findIndex(a=>this.equalsItems(a.item,e[n].item));if(o<0)t.push(e[n]);else{const a=e[n].children;a&&(t[o]=this.pushChildInParent(t[o],[...a]))}}}return(t.length!==e.length||i)&&(t=this.buildShapeTree([...t])),t}pushChildInParent(e,t){if(!t)return e;const i=e.children?[...e.children]:[];for(let s=0;s<t.length;s++){const o=i.findIndex(a=>this.equalsItems(a.item,t[s].item));if(o<0)i.push(t[s]);else{const a=t[s].children;a&&a.length>0&&(i[o]=this.pushChildInParent(i[o],[...a]))}}const n={...e};return n.children=i,n}}class xI{constructor(){A(this,"id","")}}class OI extends m0{constructor(e){super(),this.window=e}get $axure(){return this.window.$axure}getShapesAtLocation(e){const t=this.getViewportLocation(e);return this.$axure.getListOfIdRectAndStyleAtLoc(t)}getParentByElement(e){const i=this.$axure(`#${e.id}`).getParents(!1,["layer","repeater","dynamicPanel"]);return i&&i[0]?this.$axure.getRectAndStyleById(i[0]):void 0}selectItem(e,t=!1){const i=this.getViewportLocation(e);if(t){if(!this.$axure.getListOfIdAndRectAtLoc)return this.$axure.getIdAndRectAtLoc(i)}else if(!this.$axure.getListOfIdRectAndStyleAtLoc)return this.$axure.getIdRectAndStyleAtLoc(i);try{return super.selectItem(e,t)}catch(n){return console.error(n),t?this.$axure.getIdAndRectAtLoc(i):this.$axure.getIdRectAndStyleAtLoc(i)}}getViewportLocation(e){const t=e.x-this.window.scrollX,i=e.y-this.window.scrollY;return{x:t,y:i}}}let CI=class{constructor(e){A(this,"converter");A(this,"selector");A(this,"scale",{rx:1,ry:1,offsetCenter:0});this.window=e,this.converter=new fI(e),this.selector=new OI(e)}get $axure(){return this.window.$axure}setScale(e,t,i){this.scale={rx:e,ry:t,offsetCenter:i}}inspect(e){if(!this.$axure||!this.$axure.getIdRectAndStyleAtLoc||!this.$axure.getIdAndRectAtLoc)return;let t;const{location:i}=e;if(e.id){if(this.$axure.isIdVisible&&!this.$axure.isIdVisible(e.id))return;if(this.$axure.getRectAndStyleById)t=this.$axure.getRectAndStyleById(e.id);else return}else e.type==="click"&&i?t=this.selector.selectItem(i):e.type==="hover"&&i&&(t=this.selector.selectItem(i,!0));if(t&&t.id!==""){const n=this.window.document.getElementById(t.id),s=this.window.document;let o=n;do{if(!o)continue;const l=o.parentElement;l&&l!==s.scrollingElement&&t&&t.rect&&(t.rect.x-=l.scrollLeft,t.rect.y-=l.scrollTop),o=l}while(o);const a=this.converter.convert(t,e.type==="click");return{...a,selection:a.rect}}}getAllColors(){return[]}getAllAssets(){return{all:[],byLayer:[]}}};class y0{constructor(e,t,i){A(this,"element",$(`
<div id='handoffMarkupContainer'>
  <div id='handoffOver' class='handoffOver'></div>
  <div id='handoffOverT' class='handoffOver handoffOverGuide handoffOverGuideV'>
    <div id='handoffOverTValue' class='handoffOverGuideValue'></div>
  </div>
  <div id='handoffOverR' class='handoffOver handoffOverGuide handoffOverGuideH'>
    <div id='handoffOverRValue' class='handoffOverGuideValue'></div>
  </div>
  <div id='handoffOverB' class='handoffOver handoffOverGuide handoffOverGuideV'>
    <div id='handoffOverBValue' class='handoffOverGuideValue'></div>
  </div>
  <div id='handoffOverL' class='handoffOver handoffOverGuide handoffOverGuideH'>
    <div id='handoffOverLValue' class='handoffOverGuideValue'></div>
  </div>
  <div id='handoffSelected' class='handoffSelected'>
    <div id='handoffSelectedWidth' class='handoffDim'></div>
    <div id='handoffSelectedHeight' class='handoffDim'></div>
  </div>
  <div id='handoffSelectedV' class='handoffSelected handoffSelectedGuide'></div>
  <div id='handoffSelectedH' class='handoffSelected handoffSelectedGuide'></div>
</div>
  `));A(this,"dim",this.element.find(".handoffDim"));A(this,"overElement",this.element.find(".handoffOver"));A(this,"overId",this.element.find("#handoffOver"));A(this,"overGuide",this.element.find(".handoffOverGuide"));A(this,"overT",this.element.find("#handoffOverT"));A(this,"overTValue",this.element.find("#handoffOverTValue"));A(this,"overB",this.element.find("#handoffOverB"));A(this,"overBValue",this.element.find("#handoffOverBValue"));A(this,"overR",this.element.find("#handoffOverR"));A(this,"overRValue",this.element.find("#handoffOverRValue"));A(this,"overL",this.element.find("#handoffOverL"));A(this,"overLValue",this.element.find("#handoffOverLValue"));A(this,"box",this.element.find(".handoffSelected"));A(this,"boxId",this.element.find("#handoffSelected"));A(this,"boxV",this.element.find("#handoffSelectedV"));A(this,"boxH",this.element.find("#handoffSelectedH"));A(this,"selectionWidth",this.element.find("#handoffSelectedWidth"));A(this,"selectionHeight",this.element.find("#handoffSelectedHeight"));A(this,"selected",{id:"",rect:{width:0,height:0,left:0,right:0,top:0,bottom:0},dimensions:{width:0,height:0,left:0,right:0,top:0,bottom:0}});A(this,"over",{distance:{left:{left:0,middleV:0,width:0},right:{left:0,middleV:0,width:0},top:{top:0,centerH:0,height:0},bottom:{top:0,centerH:0,height:0}},rect:{width:0,height:0,left:0,right:0,top:0,bottom:0}});A(this,"scale",{rx:1,ry:1,offsetCenter:0,originFromLeft:0});this.state=e,this.options=t,this.subscribeToState(),i&&this.mount(i)}get Element(){return this.element}mount(e){this.element.appendTo(e)}setContainerSize(e,t){this.element.css({width:t.width,height:t.height})}updateContainerSize(e,t){e&&this.element.css({left:e.x,top:e.y}),t&&this.element.css({width:t.width,height:t.height})}getContainerOriginalRect(){return{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}getContainerBoundingClientRect(){return this.element[0].getBoundingClientRect()}setScale(e,t,i,n){this.scale={rx:e,ry:t,offsetCenter:i,originFromLeft:n},this.rescale()}select(e){const t=e;this.selected.id=t.id;const i=this.convertToDimensions(t.rect.location.x+this.scale.originFromLeft,t.rect.location.y,t.rect.size.width,t.rect.size.height),n=this.convertToDimensions(t.selection.location.x+this.scale.originFromLeft,t.selection.location.y,t.selection.size.width,t.selection.size.height);this.selected.rect=n,this.selected.dimensions=i;const s=this.selected.rect;this.setBoxCss(s),this.setDimensions(i.width,i.height),this.box.show(),this.overElement&&this.overElement.hide()}hover(e){const t=e;this.overElement.show();const i=this.convertToDimensions(t.selection.location.x+this.scale.originFromLeft,t.selection.location.y,t.selection.size.width,t.selection.size.height);if(this.setOver(i),this.overGuide.hide(),t.id===this.selected.id){this.selectionWidth.show(),this.selectionHeight.show();return}this.selectionWidth.hide(),this.selectionHeight.hide(),this.updateBox(t)}clear(){this.selected={id:"",rect:{width:0,height:0,left:0,right:0,top:0,bottom:0},dimensions:{width:0,height:0,left:0,right:0,top:0,bottom:0}},this.box.hide()}hide(){this.box.hide(),this.dim.hide()}show(){this.selected.id.length>0&&this.box.show(),this.dim.show()}clearHover(){this.overElement.hide()}setOver(e){this.over.rect=e,this.setOverCss(this.over.rect)}updateBox(e){const t=this.convertToDimensions(e.selection.location.x+this.scale.originFromLeft,e.selection.location.y,e.selection.size.width,e.selection.size.height),i=this.convertToDimensions(e.rect.location.x+this.scale.originFromLeft,e.rect.location.y,e.rect.size.width,e.rect.size.height),n=this.selected.rect,s=this.selected.dimensions,o=Math.max(t.left,n.left),a=Math.min(t.right,n.right),l=a>=o?o+(a-o)/2:t.left+t.width/2,c=Math.max(t.top,n.top),h=Math.min(t.bottom,n.bottom),u=h>=c?c+(h-c)/2:t.top+t.height/2;if(i.bottom<=s.top)this.overT.hide();else{let f,d,p;i.top>s.bottom?(f=n.bottom,d=t.top-n.bottom,p=i.top-s.bottom):(f=Math.min(t.top,n.top),d=Math.abs(n.top-t.top),p=Math.abs(s.top-i.top)),this.setOverT({top:f,centerH:l,height:d}),this.overTValue.text(`${Ue(p)}px`),p>0?this.overT.show():this.overT.hide()}if(i.top>=s.bottom)this.overB.hide();else{let f,d,p;i.bottom<s.top?(f=t.bottom,d=n.top-t.bottom,p=s.top-i.bottom):(f=Math.min(t.bottom,n.bottom),d=Math.abs(n.bottom-t.bottom),p=Math.abs(s.bottom-i.bottom)),this.setOverB({top:f,centerH:l,height:d}),this.overBValue.text(`${Ue(p)}px`),p>0?this.overB.show():this.overB.hide()}if(i.right<=s.left)this.overR.hide();else{let f,d,p;i.left>s.right?(f=n.right,d=t.left-n.right,p=i.left-s.right):(f=Math.min(t.left,n.left),d=Math.abs(n.left-t.left),p=Math.abs(s.left-i.left)),this.setOverR({middleV:u,left:f,width:d}),this.overRValue.text(`${Ue(p)}px`),p>0?this.overR.show():this.overR.hide()}if(i.left>=s.right)this.overL.hide();else{let f,d,p;i.right<s.left?(f=t.right,d=n.left-t.right,p=s.left-i.right):(f=Math.min(t.right,n.right),d=Math.abs(n.right-t.right),p=Math.abs(s.right-i.right)),this.setOverL({middleV:u,left:f,width:d}),this.overLValue.text(`${Ue(p)}px`),p>0?this.overL.show():this.overL.hide()}}setOverL(e){this.over.distance.left={...e},this.setOverLCss(this.over.distance.left)}setOverR(e){this.over.distance.right={...e},this.setOverRCss(this.over.distance.right)}setOverT(e){this.over.distance.top={...e},this.setOverTCss(this.over.distance.top)}setOverB(e){this.over.distance.bottom={...e},this.setOverBCss(this.over.distance.bottom)}setOverLCss(e){this.overL.css({top:this.transformValue(e.middleV),left:this.transformValue(e.left),width:this.transformValue(e.width)})}setOverRCss(e){this.overR.css({top:this.transformValue(e.middleV),left:this.transformValue(e.left),width:this.transformValue(e.width)})}setOverTCss(e){this.overT.css({top:this.transformValue(e.top),left:this.transformValue(e.centerH),height:this.transformValue(e.height)})}setOverBCss(e){this.overB.css({top:this.transformValue(e.top),left:this.transformValue(e.centerH),height:this.transformValue(e.height)})}rescale(){this.setBoxCss(this.selected.rect),this.setOverCss(this.over.rect),this.setOverDistances(this.over.distance)}setOverDistances(e){const{top:t,bottom:i,right:n,left:s}=e;this.setOverT(t),this.setOverB(i),this.setOverR(n),this.setOverL(s)}setBoxCss(e){const t=this.transformRect(e);this.boxId.css({left:t.left,top:t.top,width:t.width,height:t.height}),this.boxV.css({left:t.left,width:t.width}),this.boxH.css({top:t.top,height:t.height})}setOverCss(e){const t=this.transformRect(e);this.overId.css({left:t.left,top:t.top,width:t.width,height:t.height})}transformValue(e){return this.options==="absolute"?e:`${e}%`}transformRect(e){return{left:this.transformValue(e.left),top:this.transformValue(e.top),bottom:this.transformValue(e.bottom),right:this.transformValue(e.right),width:this.transformValue(e.width),height:this.transformValue(e.height)}}setDimensions(e,t){this.selectionWidth.show().text(`${Ue(e)}px`),this.selectionHeight.show().text(`${Ue(t)}px`)}subscribeToState(){this.state.subscribe({[J.InspectHide]:()=>this.hide(),[J.InspectShow]:()=>this.show(),[J.InspectSet]:e=>this.select(e),[J.InspectClear]:()=>this.clear(),[J.InspectSetHover]:e=>this.hover(e),[J.InspectClearHover]:()=>this.clearHover()})}convertToDimensions(e,t,i,n){return{width:i,height:n,left:e,top:t,right:e+i,bottom:t+n}}}let kI=class{constructor(e){A(this,"mainPanel",$("#mainPanel"));A(this,"mainFrame",$("#mainFrame"));A(this,"mainPanelContainer",$("#mainPanelContainer"));A(this,"clipFrameScroll",$("#clipFrameScroll"));A(this,"guidesViewport",$("<div id='handoffViewport'></div>").appendTo(this.clipFrameScroll));A(this,"handlersAttached",!1);A(this,"handlers");A(this,"inspectClickOptions",null);A(this,"inspectCurrent",null);A(this,"guides");A(this,"scale",{rx:1,ry:1,offsetCenter:0});this.state=e,this.handlers={onClick:t=>this.inspect(t),onHover:Is(t=>this.inspectHover(t),1e3/60,{leading:!1}),onMouseLeave:Is(()=>this.state.trigger(J.InspectClearHover),1e3/60,{leading:!1})},this.guides=new y0(e,"absolute",this.guidesViewport),this.subscribeToEvents(),this.guides.Element.css("pointer-events","none"),this.transmitEventsToIframe()}setScale(e,t,i){this.scale={rx:e,ry:t,offsetCenter:i},this.updateViewerSize()}show(){}hide(){}getContainer(){const e=this.mainFrame[0];return e.ownerDocument&&e.ownerDocument.head||document.head}updateViewerSize(){this.updateContainerSize(),this.updateGuidesScale(),this.reinspect()}updateGuidesScale(){if(this.state.InspectorEnabled){const{contentWindow:e}=this.mainPanel.find("iframe")[0];if(!e||!e.document)return!1;const t=$(e.document.body),i=Number((t.css("left")||"0px").replace("px",""))||0,s=(Number((t.css("margin-left")||"0px").replace("px",""))||0)+i,{rx:o,ry:a,offsetCenter:l}=this.scale;this.guides.setScale(o,a,l,s)}}reinspect(){this.state.InspectorEnabled&&this.inspectCurrent&&this.inspectClickOptions&&this.state.trigger(J.InspectGet,{...this.inspectClickOptions,id:this.inspectCurrent.id})}updateContainerSize(){const{contentWindow:e}=this.mainPanel.find("iframe")[0];if(!e||!e.document)return!1;const t=e.document.scrollingElement;if(this.state.InspectorEnabled){this.guidesViewport.css({width:$(e).innerWidth()||this.clipFrameScroll[0].clientWidth||0,height:$(e).innerHeight()||this.clipFrameScroll[0].clientHeight||0});const i=t?t.scrollHeight:this.mainPanel.height()||0,n=t?t.scrollWidth:this.mainPanel.width()||0,s=Math.max(n,this.clipFrameScroll[0].clientWidth||0),o=Math.max(i,this.clipFrameScroll[0].clientHeight||0);this.guides.setContainerSize({x:0,y:0},{width:s,height:o}),this.clipFrameScroll.css({overflow:"hidden"})}}updateGuidesScroll(e){const t={scrollLeft:e.scrollLeft()||0,scrollTop:e.scrollTop()||0};this.guides.updateContainerSize({x:-t.scrollLeft,y:-t.scrollTop},void 0)}async getHandlerTarget(){await ks(()=>{const{contentWindow:t}=this.mainPanel.find("#mainFrame")[0];return!!(t&&t.document&&t.document.URL&&t.document.URL!=="about:blank"&&t.document.readyState==="complete")},void 0,50);const{contentWindow:e}=this.mainPanel.find("#mainFrame")[0];if(e)return $(e.document);throw new Error("Content window is null")}async attachInspectHandlers(){const e=await this.getHandlerTarget();if(this.handlersAttached||!e||e.length===0)return;const{onClick:t,onHover:i,onMouseLeave:n}=this.handlers;e.on("click",t),e.on("mousemove",i),e.on("mouseleave",n),e.on("scroll",()=>{this.updateGuidesScroll(e)}),this.updateGuidesScroll(e),this.handlersAttached=!0,await this.toggleStopInteractionsOverlay(!0),await this.toggleScrollContainer(),this.updateViewerSize(),this.guides.Element.show()}async detachInspectHandlers(){const e=await this.getHandlerTarget();if(!this.handlersAttached||!e)return;const{onClick:t,onHover:i,onMouseLeave:n}=this.handlers;e.off("click",t),e.off("mousemove",i),e.off("mouseleave",n),this.handlersAttached=!1,await this.toggleStopInteractionsOverlay(!1),await this.toggleScrollContainer(),this.updateViewerSize(),this.guides.Element.hide()}inspect(e){const{right:t,bottom:i,width:n,height:s}=this.guides.getContainerBoundingClientRect(),{left:o,top:a}=this.guides.Element.position();this.inspectClickOptions={type:"click",location:this.getPosition(e),originalRect:this.guides.getContainerOriginalRect(),clientRect:{left:Math.abs(o),top:Math.abs(a),right:t,bottom:i,width:n,height:s},iterateLayers:!1},this.state.trigger(J.InspectGet,this.inspectClickOptions)}inspectHover(e){const{right:t,bottom:i,width:n,height:s}=this.guides.getContainerBoundingClientRect(),{left:o,top:a}=this.guides.Element.position();this.state.trigger(J.InspectHoverGet,{type:"hover",location:this.getPosition(e),originalRect:this.guides.getContainerOriginalRect(),clientRect:{left:Math.abs(o),top:Math.abs(a),right:t,bottom:i,width:n,height:s},iterateLayers:!1})}transmitEventsToIframe(){this.clipFrameScroll.scroll(e=>{const{contentWindow:t}=this.mainPanel.find("iframe")[0];t&&t.document&&$(t.document).trigger(e)})}subscribeToEvents(){this.state.subscribe({[J.InspectorEnabled]:()=>this.attachInspectHandlers(),[J.InspectorDisabled]:()=>this.detachInspectHandlers(),[J.InspectSet]:e=>this.saveInspect(e),[J.InspectClear]:()=>this.clearInspect(),[J.PlayerMessageCenterEvent]:e=>this.messageCenterEvent(e),[J.PageDidChange]:()=>this.pageChanged(),[J.Ready]:()=>this.checkHasPages()}),this.state.InspectorEnabled?this.attachInspectHandlers():this.guides.Element.hide()}async pageChanged(){this.state.InspectorEnabled&&(await this.detachInspectHandlers(),await this.attachInspectHandlers())}saveInspect(e){this.inspectCurrent=e}clearInspect(){this.inspectCurrent=null,this.inspectClickOptions=null}async messageCenterEvent(e){e.message==="pluginVisibleChanged"?this.updateViewerSize():e.message==="axure_repositionClippingBoundsScroll"?this.guides.updateContainerSize({x:e.data.left,y:e.data.top},void 0):e.message==="setDeviceMode"&&await this.toggleScrollContainer()}checkHasPages(){window.$axure.document.sitemap.rootNodes.length===0&&(this.mainPanel.css("opacity",1),this.mainPanel.css("background-color","#ffffff"),this.mainPanelContainer.hide(),$(`<div class="noPages">
        <h2>This project has no pages</h2>
        <p class="noPagesInfo">Please contact the owner of the prototype to confirm that pages have been<br>selected in the publishing options.</p>
        <p>If you have any questions, please email us at <a href="mailto:support@axure.com">support@axure.com</a></p>
      </div>`).appendTo(this.mainPanel))}getCurrentScale(){const e=$("#mainPanelContainer").css("transform"),t=e==="none"?1:Number(e.substring(e.indexOf("(")+1,e.indexOf(",")));return{rx:t,ry:t}}getPosition({pageX:e,pageY:t}){return e===void 0||t===void 0?{x:0,y:0}:{x:e,y:t}}async toggleStopInteractionsOverlay(e){const t=await this.getHandlerTarget();if(!document)return;let i=t.find(".axure_stopInteractionsOverlay");if(!(i.length>0)){const s=t.find("body");i=$(`
<div
  class='axure_stopInteractionsOverlay'
  style='position:fixed;width:100%;height:100%;left:0;top:0;cursor:auto'
>
</div>`).appendTo(s)}i.toggle(e)}async toggleScrollContainer(){const e=await this.getHandlerTarget();if(!document)return;const t=e.find("div#scrollContainer");this.handlersAttached?t.hide():t.show()}};class AI{constructor(e){A(this,"ready",!1);A(this,"handoff");A(this,"iframeWindow",$("#mainFrame")[0].contentWindow);A(this,"topWindow",window);A(this,"contentScale",{scaleN:1,prevScaleN:1,contentCenterOffset:0});this.state=e,this.state.subscribeToBridge({[Ne.keyboardEvent]:t=>this.sendKeyboardEvent(t)}),this.detectLegacyStyle()}get $axure(){if(this.topWindow)return this.topWindow.$axure}get $ax(){if(this.iframeWindow)return this.iframeWindow.$axure}async setup(){this.subscribeToState(),this.subscribeToPageLoad(),await this.listenToMessageCenter(),this.ready=!0}addHandoff(){this.$axure&&this.iframeWindow&&(this.handoff||(this.handoff=new l0({$axure:this.$axure,state:this.state,viewer:new kI(this.state),inspector:new CI(this.iframeWindow)})))}setZoom(e){this.$axure&&this.$axure.player.zoomPage&&typeof this.$axure.player.zoomPage=="function"&&this.$axure.player.zoomPage(e)}selectOverlayOption(e){if(!this.$axure)return;const{player:t}=this.$axure,{hotspots:i,comments:n,notes:s}=e;i!==void 0&&t.toggleHotspots&&t.toggleHotspots(i),n!==void 0&&t.toggleComments&&t.toggleComments(n),s!==void 0&&t.toggleFootnotes&&t.toggleFootnotes(s)}getPageData(){return this.getState("page.data")}openNextPage(){(window.$axure.player.openNextPage||window.openNextPage)()}openPreviousPage(){(window.$axure.player.openPreviousPage||window.openPreviousPage)()}toogleCommentMode(){(window.$axure.player.toogleCommentMode||window.toogleCommentMode)()}setDynamicPanelState(e,t){var i;if(this.$ax){const n=this.$ax(`#${e}`);n&&n.SetPanelState&&typeof n.SetPanelState=="function"&&(n.SetPanelState(t,{compress:!1},void 0,!0),(i=this.handoff)==null||i.inspect({id:e,type:"click"}))}}exitCommentMode(){(window.$axure.player.exitCommentMode||window.exitCommentMode)()}toggleFilterActive(e){(window.$axure.player.toggleFilterActive||window.toggleFilterActive)(e)}sendKeyboardEvent(e){var t;typeof((t=this.$axure)==null?void 0:t.player.handleKeyboardEvent)=="function"&&this.$axure.player.handleKeyboardEvent(e)}getState(e){return window.$axure.messageCenter.getState(e)}selectPage(e){if(!this.$axure)return;const t=[];this.$axure.player.getPageUrlsById(e,t);const i=t[0];i&&this.$axure.page.navigate&&this.$axure.page.navigate(i,!0)}subscribeToState(){this.state.subscribe({[J.PageWillChange]:e=>this.selectPage(e)})}subscribeToPageLoad(){if(this.$axure&&this.$axure.page&&this.$axure.page.bind){const e=this.$axure;this.$axure.page.bind("load.page_load",()=>{this.state.trigger(J.PageDidChange,e.page.id)})}}async listenToMessageCenter(){await ks(()=>this.$axure&&this.$axure.messageCenter);const e=Is(t=>{this.contentScale=t,this.handoff&&this.handoff.setScale(t.scaleN,t.scaleN,t.contentCenterOffset)},1e3/60);this.onMessageCenter("setContentScale",e),this.onAnyEvent((t,i)=>{var s;if(this.isPageChangedEvent(t,i)&&(this.handoff&&(this.handoff.inspectClear(),this.handoff.closeLayerView()),this.$axure)){const o=i.value.location,{pathname:a}=new Fo(o),l=(s=this.topWindow)==null?void 0:s.document.location,c=l&&l.pathname;let h=a.split("/").pop()||"";c&&a.startsWith(c)&&(h=a.replace(c,""));let u=this.$axure.player.getPageIdByUrl(h);u||(u=this.$axure.player.getPageIdByUrl(decodeURIComponent(h))),u||(u=this.$axure.player.getPageIdByUrl(`./${h}`)),u&&(i.value.shortId=u)}const n={message:t,data:i};this.state.triggerOnBridge(nr.playerMessageCenterEvent,n),this.state.trigger(J.PlayerMessageCenterEvent,n)}),this.$axure&&this.$axure.messageCenter.addMessageListener((t,i)=>{t==="exitCommentMode"?this.exitCommentMode():t==="toogleCommentMode"?this.toogleCommentMode():t==="toggleFilterActive"&&this.toggleFilterActive(i)})}onAnyEvent(e){this.$axure&&this.$axure.messageCenter.addMessageListener((t,i)=>{e(t,i)})}onMessageCenter(e,t){this.$axure&&this.$axure.messageCenter.addMessageListener((i,n)=>{i===e&&t(n)})}isPageChangedEvent(e,t){return e==="setState"&&t.key==="page.data"}detectLegacyStyle(){const e=$("#topPanel");if(!e||e.length===0)return;const i=$("<div id='legacyTopPanel'></div>").css("background-color","#f2f2f2").css("background-color");e.css("background-color")===i&&e[0].ownerDocument.body.classList.add("legacy")}}const PI=Object.freeze(Object.defineProperty({__proto__:null,default:AI},Symbol.toStringTag,{value:"Module"}));function _I(r,e){if(r.Name){const t=r.Name.trim();if(t)return t}return e.OriginalFileName?e.OriginalFileName.trim():""}const v0=(r,e="")=>{const t={};for(const i in r.artboards)if(Object.prototype.hasOwnProperty.call(r.artboards,i)){const n=r.artboards[i],s=r.assetsImages,o=r.assetsImagesThumbnails,a=n.Asset,l={[n.Asset.Id]:n.Asset,...n.SubAssets},[c,h]=EI(l,s,o,e);t[i]={artboard:n,assets:l,artboardAsset:a,assetsUrls:c,thumbnails:h,stale:!1}}return t};function EI(r,e,t,i){return Object.keys(r).reduce((n,s)=>{const[o,a]=n,l=b0(e[s],i),c=b0(t[s],i);return o[s]=l,a[s]=c,n},[{},{}])}function b0(r,e){if(!r||!e)return r;const t=new Fo(r,!0);let i;return t.query!==void 0?i={...t.query,origin:e}:i={origin:e},t.set("query",i),t.href}class TI{constructor(e,t,i){A(this,"pageId");A(this,"name");A(this,"node",$(`
<li class="expoSitemapNode">
  <div class="sitemapPageLinkContainer">
    <a class="sitemapPageLink">
      <img class="sitemapPageImg" />
      <div class="sitemapPageNameContainer">
        <span class="sitemapPageName"></span>
      </div>
    </a>
  </div>
</li>
`));A(this,"sitemapPageImg",this.node.find(".sitemapPageImg"));A(this,"sitemapPageLink",this.node.find(".sitemapPageLink"));A(this,"sitemapPageName",this.node.find(".sitemapPageName"));A(this,"page");this.state=e,this.page=t,this.name=t.name,this.pageId=t.id||Pc(),this.setAttrs(),i&&this.mount(i)}mount(e){this.attachEvents(),this.node.appendTo(e)}show(){this.toggle(!0)}hide(){this.toggle(!1)}toggle(e){e?this.node.show():this.node.hide()}remove(){this.node.remove()}highlight(){this.node.addClass("sitemapHighlight")}removeHighlight(){this.node.removeClass("sitemapHighlight")}scrollIntoView(){this.node[0].scrollIntoView({behavior:"auto",block:"nearest",inline:"start"})}update(e){this.page=e,this.name=e.name,this.pageId=e.id||Pc(),this.setAttrs()}attachEvents(){this.node.on("click",e=>{this.state.selectPage(this.pageId)})}setAttrs(){const e=this.page.thumbnailSrc||this.page.src;this.sitemapPageLink.attr("artboardid",this.pageId),this.sitemapPageImg.attr("src",e),this.sitemapPageImg.data("src",e),this.sitemapPageName.text(this.page.name)}}class II{constructor(e,t){A(this,"nodes",{});A(this,"current");A(this,"sitemap",$(`
<div class="sitemap-container">
  <div id="sitemapHeader" class="sitemapHeader">
    <div id="sitemapToolbar" class="sitemapToolbar">
      <div id="searchDiv">
        <span id="searchIcon" class="sitemapToolbarButton"></span>
        <input id="searchBox" type="text" autocomplete="off">
      </div>
      <div class="leftArrow sitemapToolbarButton"></div>
      <div class="rightArrow sitemapToolbarButton"></div>
    </div>
  </div>
  <div class="sitemapPluginNameHeader pluginNameHeader">Pages</div>
  <div id="sitemapTreeContainer">
    <ul class="sitemapTree" style="clear: both;">
    </ul>
  </div>
  <div id="changePageInstructions" class="pageSwapInstructions">
    Use  <span class="backKeys"></span>  and  <span class="forwardKeys"></span>  keys<br>to move between pages
  </div>
</div>
`));A(this,"sitemapToolbar",this.sitemap.find("#sitemapToolbar"));A(this,"leftArrow",this.sitemapToolbar.find(".leftArrow"));A(this,"rightArrow",this.sitemapToolbar.find(".rightArrow"));A(this,"search",this.sitemap.find("#searchDiv"));A(this,"searchButton",this.search.find("#searchIcon"));A(this,"searchBox",this.search.find("#searchBox"));A(this,"sitemapTreeContainer",this.sitemap.find("#sitemapTreeContainer"));A(this,"sitemapTree",this.sitemapTreeContainer.find(".sitemapTree"));this.state=e,this.subscribeToEvents(),t&&this.mount(t)}mount(e){this.attachEvents(),this.sitemap.appendTo(e)}add(e){let t;if(e.id){const{id:i}=e;t=this.nodes[i]}if(t)t.update(e);else{const i=new TI(this.state,e,this.sitemapTree);this.nodes[i.pageId]=i}}remove(e){const t=this.nodes[e];t&&(t.remove(),delete this.nodes[e])}setCurrent(e){const t=this.nodes[e];t&&(this.current&&this.current.removeHighlight(),this.current=t,$("#interfacePageNameButton").text(this.current.name),this.current.highlight(),this.state.isMobile||this.current.scrollIntoView())}openPreviousPage(){if(this.current){const e=this.getNode(this.current.pageId,-1);e&&this.state.selectPage(e.pageId)}}openNextPage(){if(this.current){const e=this.getNode(this.current.pageId,1);e&&this.state.selectPage(e.pageId)}}openPage(e){this.state.selectPage(e)}attachEvents(){this.addKeyboardNavigation(),this.addArrowNavigation(),this.addSearch()}addKeyboardNavigation(){const e=["input","textarea"];$(document).on("keyup",t=>{const{nodeName:i}=t.target;if(!e.some(n=>Mo(n,i))&&!t.target.isContentEditable)switch(t.which){case 188:this.openPreviousPage();break;case 190:this.openNextPage();break}})}addArrowNavigation(){this.leftArrow.click(()=>this.openPreviousPage()),this.rightArrow.click(()=>this.openNextPage())}addSearch(){const e=this;this.searchBox.keyup(()=>{e.searchNodes(this.searchBox.val())}),this.searchButton.click(()=>{e.searchBox.toggle(),e.searchBox.is(":visible")?(e.searchButton.addClass("sitemapToolbarButtonSelected"),e.searchBox.removeClass("searchBoxHint"),e.searchBox.css({width:"95%",display:"inline-block"}),e.searchBox.val(""),e.searchBox.focus()):(e.searchButton.removeClass("sitemapToolbarButtonSelected"),e.searchBox.addClass("searchBoxHint"),e.searchBox.css({width:"",display:""}))})}searchNodes(e){if(e==null){this.showAll();return}const t=e.toString().toLowerCase();for(const i in this.nodes)if(Object.prototype.hasOwnProperty.call(this.nodes,i)){const n=this.nodes[i];if(n){const s=n.name.toLowerCase().indexOf(t)!==-1;n.toggle(s)}}}showAll(){for(const e in this.nodes)if(Object.prototype.hasOwnProperty.call(this.nodes,e)){const t=this.nodes[e];t&&t.show()}}getNode(e,t=0){const i=Object.keys(this.nodes);let n=i.indexOf(e);return(t===-1&&n>0||t===1&&n<i.length-1)&&(n+=t),this.nodes[i[n]]}subscribeToEvents(){this.state.subscribe({[J.PageAdded]:this.add.bind(this),[J.PageRemoved]:this.remove.bind(this),[J.PageDidChange]:this.setCurrent.bind(this)})}}class RI{constructor(e){A(this,"ready",!1);A(this,"isCloudMode",window.$axure.player.isCloud);A(this,"topWindow",window);A(this,"pages",{});A(this,"bundles",{});A(this,"sitemap");A(this,"project");A(this,"currentPageId","");A(this,"renderer");A(this,"isSitemapOpened",!1);A(this,"hotspotsEnabledInitially",!1);A(this,"renderers",{vue:()=>On(()=>Promise.resolve().then(()=>DB),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.000b108a.js",document.baseURI).href).then(e=>e.VueRenderer)});A(this,"axPlayerVars",{pageIdName:window.PAGE_ID_NAME,highlightInteractive:"hi"});if(this.state=e,this.loadResources(),this.sitemap=new II(this.state),this.isSitemapOpened=!1,this.detectLegacyStyle(),this.$axure){const t=this.$axure.player.getHashStringVar(this.axPlayerVars.pageIdName);this.hotspotsEnabledInitially=!!this.$axure.player.getHashStringVar(this.axPlayerVars.highlightInteractive),t&&this.setCurrentPageId(t)}this.updateIsInspect()}get $axure(){if(this.topWindow)return this.topWindow.$axure}async setup(){this.renderer=new(await this.renderers.vue())(this.state),this.subscribeToState(),this.subscribeToBridge(),await this.listenToMessageCenter(),await this.renderer.start(),this.ready=!0,window.addEventListener("hashchange",()=>{window.location.reload()})}setZoom(e){var t;(t=this.renderer)==null||t.setZoom(e)}addHandoff(){this.$axure&&this.renderer&&this.renderer.addHandoff()}getPageData(){const e=this.current();if(e.page){const t=e.page;return{id:t.id,pageName:t.name,shortId:t.id,adaptiveViews:[],defaultAdaptiveView:{name:"",id:"",size:{height:0,width:0}},location:"",masterNotes:[],notes:{},ownerToFns:{},widgetNotes:[]}}}selectOverlayOption(e){if(!this.renderer)return;const{hotspots:t,comments:i}=e;t!==void 0&&this.renderer.toggleHotspots(t),i!==void 0&&this.renderer.toggleComments(i)}openNextPage(){this.sitemap.openNextPage()}openPreviousPage(){this.sitemap.openPreviousPage()}toogleCommentMode(){this.$axure&&this.$axure.player.toogleCommentMode()}setDynamicPanelState(e,t){}exitCommentMode(){this.$axure&&this.$axure.player.exitCommentMode()}toggleFilterActive(e){this.$axure&&this.$axure.player.toggleFilterActive(e)}async reload(e){for(const t in this.bundles)if(Object.prototype.hasOwnProperty.call(this.bundles,t)){const i=this.bundles[t];i.stale=!0}this.renderer&&await this.renderer.reload(e)}setCurrentPageId(e){this.currentPageId=e}subscribeToState(){this.state.subscribe({[J.PageAdded]:e=>this.addPage(e),[J.PageRemoved]:e=>this.removePage(e),[J.PageWillChange]:e=>this.pageWillChange(e),[J.RenderExpo]:e=>this.render(e),[J.DocumentDidLoad]:e=>this.documentDidLoad(e),[J.DocumentDidReload]:e=>this.documentDidReload(e),[J.InspectorEnabled]:()=>this.inspectorEnable(),[J.InspectorDisabled]:()=>this.inspectorDisable(),[J.PrototypeGenerated]:()=>this.notifyPrototypeGenerated(),[J.SetPageHighlight]:(e,t)=>this.setPageHighlight(e,t),[J.RefreshViewPort]:()=>this.refreshViewPort(),[J.PreviousHistory]:()=>this.navigateToPreviousScreen()})}inspectorEnable(){this.pageSelected(this.currentPageId),this.renderer&&this.renderer.showHandoff(),this.updateIsInspect()}inspectorDisable(){this.renderer&&(this.renderer.hideHandoff(),this.updateIsInspect())}updateIsInspect(){if(this.$axure&&this.$axure.player){const e=this.$axure.player;e.isInspect=this.state.InspectorEnabled}}subscribeToBridge(){this.state.subscribeToBridge({[Ne.reload]:e=>this.reload(e)})}async listenToMessageCenter(){await ks(()=>this.$axure&&this.$axure.messageCenter),this.onAnyEvent((e,t)=>{const i={message:e,data:t};this.state.triggerOnBridge(nr.playerMessageCenterEvent,i),this.state.trigger(J.PlayerMessageCenterEvent,i)}),this.$axure&&this.$axure.messageCenter.addMessageListener((e,t)=>{e==="highlightInteractive"&&this.$axure&&(t?this.$axure.player.setVarInCurrentUrlHash(this.axPlayerVars.highlightInteractive,1):this.$axure.player.deleteVarFromCurrentUrlHash(this.axPlayerVars.highlightInteractive)),e==="expo_selectPage"&&this.$axure&&t&&t.pageId&&this.state.selectPage(t.pageId)})}onAnyEvent(e){this.$axure&&this.$axure.messageCenter.addMessageListener((t,i)=>{e(t,i)})}current(){return{page:this.pages[this.currentPageId],bundle:this.bundles[this.currentPageId]}}addPage(e){this.pages[e.id]=e}removePage(e){delete this.pages[e]}async pageWillChange(e){if(!e)return;this.setCurrentPageId(e);let t;const{page:i,bundle:n}=this.current();t=i,(!t||n.stale)&&(await this.fetchAndSetupPage(e),t=this.current().page),t&&t.id===e&&(await this.pageSelected(e),this.state.trigger(J.PageDidChange,e))}async setPageHighlight(e,t=!1){e&&(this.renderer&&this.renderer.setAddToHistory(t),await this.pageWillChange(e))}async pageSelected(e){const{page:t,bundle:i}=this.current();if(t&&this.$axure&&this.$axure.page){const n=this.$axure.page;n.id=t.id,n.pageName=t.name,n.triggerEvent&&n.triggerEvent("load"),this.$axure.player.setVarInCurrentUrlHash(this.axPlayerVars.pageIdName,t.id)}if(i){if(this.project&&this.project.platform){const n=this.project.platform.Device===ui.Auto?Sp(i):this.project.platform.Settings.Dimensions;this.state.Size={width:n.Width,height:n.Height}}this.state.trigger(J.BundleSelected,i)}}async setupProject(e){this.project=e;const t=this.isCloudMode?"cloud":"public";this.bundles=v0(e,t),this.state.Size={height:e.platform.Settings.Dimensions.Height,width:e.platform.Settings.Dimensions.Width};const i=e.modifiedOn?rx(e.modifiedOn):void 0,n={name:e.name,lastModified:i};this.state.trigger(J.ProjectLoaded,n);const s=[],o=10,a=ES(e.artboardsOrder,o),l=[];for(let f=0;f<a.length;f++){const d=a[f],p=[];d.forEach(async(g,v)=>{const y=this.loadArtboard(g).then(S=>{S&&s.push({index:f*o+v,...S})});p.push(y)}),l.push(p)}await Promise.all(kd(l));const c=s.map(f=>f.id),h=Object.values(this.pages).filter(f=>!c.includes(f.id));for(const f of h)this.state.removePage(f.id);AS(s,f=>f.index).forEach(f=>{this.state.addPage({id:f.id,name:f.name,src:f.src,thumbnailSrc:f.thumbnailSrc})});let u;if(this.currentPageId&&this.pages[this.currentPageId])u=this.currentPageId;else{const f=Object.keys(this.pages)[0],d=this.pages[f];d&&d.id&&(u=d.id)}u&&this.pages[u]&&this.state.selectPage(u)}async fetchAndSetupPage(e){const t=await this.loadArtboard(e);t&&this.state.addPage({id:t.id,name:t.name,src:t.src,thumbnailSrc:t.thumbnailSrc})}async loadArtboard(e){const t=await this.getArtboardBundle(e);if(t){const i=_I(t.artboard,t.artboardAsset),n=t.artboard.AssetId;return{id:t.artboard.Id,name:i,src:t.assetsUrls[n],thumbnailSrc:t.thumbnails[n]}}}async getArtboardBundle(e){const t=this.bundles[e];if(t&&!t.stale)return t;const i=await this.fetchArtboardBundle(e);if(i)return this.bundles[e]=i,i}async fetchArtboardBundle(e){if(!this.project)return;const{shortcut:t}=this.project,i=`${this.state.options.baseUrl}/expo/getartboard/${t}?artboardId=${e}`,n=await Ts(i);return{artboard:n.artboard,artboardAsset:n.assets[n.artboard.AssetId],assets:n.assets,assetsUrls:n.imgUrls,thumbnails:n.thumbnails,stale:!1}}async render(e){this.renderer&&(this.isSitemapOpened=e.isSitemapOpened,await this.renderer.render(e.expoProject))}notifyPrototypeGenerated(){this.state.triggerOnBridge(nr.previewGenerationComplete),this.renderer&&this.renderer.prototypeGenerated()}async documentDidLoad(e){Ce.holdReady(!1),this.finishSetup(),this.addSitemap(),await this.setupProject(e),this.notifyPrototypeGenerated(),this.isSitemapOpened&&window.$axure.player.showPlugin(1),this.showMainPanel()}async documentDidReload(e){await this.setupProject(e)}addSitemap(){window.$axure.player.createPluginHost({id:"sitemapHost",context:"project",title:"Project Screens",gid:1,priority:1});const e=Ce("#sitemapHost");this.sitemap.mount(e)}finishSetup(){const e=window.$axure.player.getHashStringVar(window.DIM_VAR_NAME);if(e.length>0&&e.indexOf("x")>-1){const i=e.split("x");Ce("#vpWidth").val(i[0]),Ce("#vpHeight").val(i[1]),this.refreshViewPort()}const t=window.$axure.player.getHashStringVar(window.SCALE_VAR_NAME);if(t.length>0){const i=Ce(`.vpScaleOption[val="${t}"]`);i.length>0?i.click():Ce('.vpScaleOption[val="0"]').click()}else if(Ce(".checkedVpScale").length>0){const i=Ce(".checkedVpScale").parents(".vpScaleOption");i.attr("val")!=="0"&&i.click()}this.generateViewPanelContainer(),this.updateAdaptiveViewHeader(),this.updateScaleHeader(),window.$axure.player.suspendRefreshViewPort=!1,window.$axure.messageCenter.postMessage("setAdaptiveViewForSize",{width:Ce("#mainPanel").width(),height:Ce("#mainPanel").height()}),this.refreshViewPort(),window.$axure.messageCenter.postMessage("finishInit"),Ce("#interfaceControlFrame").animate({opacity:1},200),this.isCloudMode&&window.$axure.player.hideAllPlayerControllers(),window.$axure.player.resizeContent()}navigateToPreviousScreen(){const e=this.renderer?this.renderer.popHistory():null;e!==null&&this.setPageHighlight(e,!1)}generateViewPanelContainer(){if(!this.$axure)return;const e="selected",{checkbox:t,checkboxContainer:i,mobileCheckbox:n,mobileCheckboxContainer:s}=this.generateHotspotsToggle(e);Ce("#projectOptionsHost").click(a=>{a.stopPropagation()});const o=()=>{if(!this.$axure||!this.renderer)return;const a=t.hasClass(e);t.toggleClass(e,!a),n.toggleClass(e,!a),this.renderer.toggleHotspots(!a)};i.click("click",o),s.click("click",o),this.renderer&&this.renderer.toggleHotspots(this.hotspotsEnabledInitially)}generateHotspotsToggle(e){const t=Ce("#overflowMenuContainer"),i=Ce(`
      <div class="overflowOptionCheckbox ${this.hotspotsEnabledInitially?e:""}"></div>
    `),n=Ce(`
    <div id="showHotspotsOption" class="showOption" style="order: 1"></div>`);i.appendTo(n),n.appendTo(t),n.append("Show Hotspots");const{mobileCheckbox:s,mobileCheckboxContainer:o}=this.generateMobileHotspotsToggle(e);return{checkbox:i,checkboxContainer:n,mobileCheckbox:s,mobileCheckboxContainer:o}}generateMobileHotspotsToggle(e){const t=Ce("#mHideSidebar"),i=Ce(`
    <div id="projectOptionsShowHotspots" class="mobileText projectOptionsHotspotsRow" style="border-bottom: solid 1px #c7c7c7"></div>
    `),n=Ce(`<div id="projectOptionsHotspotsCheckbox" class="${this.hotspotsEnabledInitially?e:""}"></div>`);n.appendTo(i);const s=Ce(`
    <div id="projectOptionsHost" class="mobileOnlyPanel mobileMode">
      <div class="pluginNameHeader">PROJECT OPTIONS</div>
      <div id="projectOptionsScrollContainer">
        <div class="mobileSubHeader">Hotspots</div>
      </div>
    </div>
    `);return s.find("#projectOptionsScrollContainer").append(i),i.append("Show Hotspots"),s.appendTo(t),{mobileCheckbox:n,mobileCheckboxContainer:i}}updateAdaptiveViewHeader(){const e=Ce(".checkedAdaptive").parents(".adaptiveViewOption"),t=e.length>0?e.text():"Auto";Ce(".adaptiveViewHeader").html(t)}updateScaleHeader(){const e=Ce(".checkedVpScale").parents(".vpScaleOption"),t=e.length>0?e.text():"100%";Ce(".scaleHeader").text(t)}showMainPanel(){const e=window.document.getElementById("mainPanel");Ce(e).animate({opacity:1},100)}refreshViewPort(){window.$axure&&window.$axure.player&&window.$axure.player.refreshViewPort&&window.$axure.player.refreshViewPort()}hideMainPanel(){const e=window.document.getElementById("mainFrame");e.style.opacity="0"}loadResources(){["plugins/sitemap/styles/sitemap.css"].map(t=>ea(t))}detectLegacyStyle(){const e=Ce("#topPanel");if(!e||e.length===0)return;const i=Ce("<div id='legacyTopPanel'></div>").css("background-color","#f2f2f2").css("background-color");e.css("background-color")===i&&e[0].ownerDocument.body.classList.add("legacy")}}const DI=Object.freeze(Object.defineProperty({__proto__:null,default:RI},Symbol.toStringTag,{value:"Module"}));var w0={exports:{}};(function(r,e){(function(t,i){i()})(At,function(){function t(c,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,h,u){var f=new XMLHttpRequest;f.open("GET",c),f.responseType="blob",f.onload=function(){l(f.response,h,u)},f.onerror=function(){console.error("could not download file")},f.send()}function n(c){var h=new XMLHttpRequest;h.open("HEAD",c,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof At=="object"&&At.global===At?At:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,h,u){var f=o.URL||o.webkitURL,d=document.createElement("a");h=h||c.name||"download",d.download=h,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?s(d):n(d.href)?i(c,h,u):s(d,d.target="_blank")):(d.href=f.createObjectURL(c),setTimeout(function(){f.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,h,u){if(h=h||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,u),h);else if(n(c))i(c,h,u);else{var f=document.createElement("a");f.href=c,f.target="_blank",setTimeout(function(){s(f)})}}:function(c,h,u,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof c=="string")return i(c,h,u);var d=c.type==="application/octet-stream",p=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||d&&p||a)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var k=v.result;k=g?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=k:location=k,f=null},v.readAsDataURL(c)}else{var y=o.URL||o.webkitURL,S=y.createObjectURL(c);f?f.location=S:location.href=S,f=null,setTimeout(function(){y.revokeObjectURL(S)},4e4)}});o.saveAs=l.saveAs=l,r.exports=l})})(w0);var S0=w0.exports;const $I=$t({__proto__:null,default:Cn(S0)},[S0]);function kl(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var x0={exports:{}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */(function(r,e){(function(t){r.exports=t()})(function(){return function t(i,n,s){function o(c,h){if(!n[c]){if(!i[c]){var u=typeof kl=="function"&&kl;if(!h&&u)return u(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var d=n[c]={exports:{}};i[c][0].call(d.exports,function(p){var g=i[c][1][p];return o(g||p)},d,d.exports,t,i,n,s)}return n[c].exports}for(var a=typeof kl=="function"&&kl,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,i,n){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var c,h,u,f,d,p,g,v=[],y=0,S=l.length,k=S,_=s.getTypeOf(l)!=="string";y<l.length;)k=S-y,u=_?(c=l[y++],h=y<S?l[y++]:0,y<S?l[y++]:0):(c=l.charCodeAt(y++),h=y<S?l.charCodeAt(y++):0,y<S?l.charCodeAt(y++):0),f=c>>2,d=(3&c)<<4|h>>4,p=1<k?(15&h)<<2|u>>6:64,g=2<k?63&u:64,v.push(a.charAt(f)+a.charAt(d)+a.charAt(p)+a.charAt(g));return v.join("")},n.decode=function(l){var c,h,u,f,d,p,g=0,v=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var S,k=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&k--,l.charAt(l.length-2)===a.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=o.uint8array?new Uint8Array(0|k):new Array(0|k);g<l.length;)c=a.indexOf(l.charAt(g++))<<2|(f=a.indexOf(l.charAt(g++)))>>4,h=(15&f)<<4|(d=a.indexOf(l.charAt(g++)))>>2,u=(3&d)<<6|(p=a.indexOf(l.charAt(g++))),S[v++]=c,d!==64&&(S[v++]=h),p!==64&&(S[v++]=u);return S}},{"./support":30,"./utils":32}],2:[function(t,i,n){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(h,u,f,d,p){this.compressedSize=h,this.uncompressedSize=u,this.crc32=f,this.compression=d,this.compressedContent=p}c.prototype={getContentWorker:function(){var h=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),u=this;return h.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(h,u,f){return h.pipe(new a).pipe(new l("uncompressedSize")).pipe(u.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",u)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,n){var s=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,n){var s=t("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();i.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,h,u,f){var d=o,p=f+u;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^h[g])];return-1^c}(0|l,a,a.length,0):function(c,h,u,f){var d=o,p=f+u;c^=-1;for(var g=f;g<p;g++)c=c>>>8^d[255&(c^h.charCodeAt(g))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,i,n){var s=null;s=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:s}},{lie:37}],7:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),c=s?"uint8array":"array";function h(u,f){l.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=f,this.meta={}}n.magic="\b\0",a.inherits(h,l),h.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,u.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(f){u.push({data:f,meta:u.meta})}},n.compressWorker=function(u){return new h("Deflate",u)},n.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,n){function s(d,p){var g,v="";for(g=0;g<p;g++)v+=String.fromCharCode(255&d),d>>>=8;return v}function o(d,p,g,v,y,S){var k,_,T=d.file,R=d.compression,D=S!==c.utf8encode,j=a.transformTo("string",S(T.name)),M=a.transformTo("string",c.utf8encode(T.name)),G=T.comment,ie=a.transformTo("string",S(G)),w=a.transformTo("string",c.utf8encode(G)),C=M.length!==T.name.length,m=w.length!==G.length,L="",Y="",X="",re=T.dir,H=T.date,te={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(te.crc32=d.crc32,te.compressedSize=d.compressedSize,te.uncompressedSize=d.uncompressedSize);var F=0;p&&(F|=8),D||!C&&!m||(F|=2048);var B=0,ue=0;re&&(B|=16),y==="UNIX"?(ue=798,B|=function(oe,Re){var we=oe;return oe||(we=Re?16893:33204),(65535&we)<<16}(T.unixPermissions,re)):(ue=20,B|=function(oe){return 63&(oe||0)}(T.dosPermissions)),k=H.getUTCHours(),k<<=6,k|=H.getUTCMinutes(),k<<=5,k|=H.getUTCSeconds()/2,_=H.getUTCFullYear()-1980,_<<=4,_|=H.getUTCMonth()+1,_<<=5,_|=H.getUTCDate(),C&&(Y=s(1,1)+s(h(j),4)+M,L+="up"+s(Y.length,2)+Y),m&&(X=s(1,1)+s(h(ie),4)+w,L+="uc"+s(X.length,2)+X);var ae="";return ae+=`
\0`,ae+=s(F,2),ae+=R.magic,ae+=s(k,2),ae+=s(_,2),ae+=s(te.crc32,4),ae+=s(te.compressedSize,4),ae+=s(te.uncompressedSize,4),ae+=s(j.length,2),ae+=s(L.length,2),{fileRecord:u.LOCAL_FILE_HEADER+ae+j+L,dirRecord:u.CENTRAL_FILE_HEADER+s(ue,2)+ae+s(ie.length,2)+"\0\0\0\0"+s(B,4)+s(v,4)+j+L+ie}}var a=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),h=t("../crc32"),u=t("../signature");function f(d,p,g,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=v,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(d){var p=d.meta.percent||0,g=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-v-1))/g:100}}))},f.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var g=o(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,g=o(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(v){return u.DATA_DESCRIPTOR+s(v.crc32,4)+s(v.compressedSize,4)+s(v.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-d,v=function(y,S,k,_,T){var R=a.transformTo("string",T(_));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(y,2)+s(y,2)+s(S,4)+s(k,4)+s(R.length,2)+R}(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(g){p.error(g)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(d){var p=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<p.length;g++)try{p[g].error(d)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},i.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,n){var s=t("../compressions"),o=t("./ZipFileWorker");n.generateWorker=function(a,l,c){var h=new o(l.streamFiles,c,l.platform,l.encodeFileName),u=0;try{a.forEach(function(f,d){u++;var p=function(S,k){var _=S||k,T=s[_];if(!T)throw new Error(_+" is not a valid compression method !");return T}(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},v=d.dir,y=d.date;d._compressWorker(p,g).withStreamInfo("file",{name:f,dir:v,date:y,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(h)}),h.entriesCount=u}catch(f){h.error(f)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,n){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function u(f){return new o.Promise(function(d,p){var g=f.decompressed.getContentWorker().pipe(new c);g.on("error",function(v){p(v)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}i.exports=function(f,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),h.isNode&&h.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,d.optimizedBinaryString,d.base64).then(function(g){var v=new l(d);return v.load(g),v}).then(function(g){var v=[o.Promise.resolve(g)],y=g.files;if(d.checkCRC32)for(var S=0;S<y.length;S++)v.push(u(y[S]));return o.Promise.all(v)}).then(function(g){for(var v=g.shift(),y=v.files,S=0;S<y.length;S++){var k=y[S],_=k.fileNameStr,T=s.resolve(k.fileNameStr);p.file(T,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:d.createFolders}),k.dir||(p.file(T).unsafeOriginalName=_)}return v.zipComment.length&&(p.comment=v.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,n){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(h){c.push({data:h,meta:{percent:0}})}).on("error",function(h){c.isPaused?this.generatedError=h:c.error(h)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,n){var s=t("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var h=this;a.on("data",function(u,f){h.push(u)||h._helper.pause(),c&&c(f)}).on("error",function(u){h.emit("error",u)}).on("end",function(){h.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,i,n){function s(T,R,D){var j,M=a.getTypeOf(R),G=a.extend(D||{},h);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(T=y(T)),G.createFolders&&(j=v(T))&&S.call(this,j,!0);var ie=M==="string"&&G.binary===!1&&G.base64===!1;D&&D.binary!==void 0||(G.binary=!ie),(R instanceof u&&R.uncompressedSize===0||G.dir||!R||R.length===0)&&(G.base64=!1,G.binary=!0,R="",G.compression="STORE",M="string");var w=null;w=R instanceof u||R instanceof l?R:p.isNode&&p.isStream(R)?new g(T,R):a.prepareContent(T,R,G.binary,G.optimizedBinaryString,G.base64);var C=new f(T,w,G);this.files[T]=C}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),h=t("./defaults"),u=t("./compressedObject"),f=t("./zipObject"),d=t("./generate"),p=t("./nodejsUtils"),g=t("./nodejs/NodejsStreamInputAdapter"),v=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var R=T.lastIndexOf("/");return 0<R?T.substring(0,R):""},y=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},S=function(T,R){return R=R!==void 0?R:h.createFolders,T=y(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:R}),this.files[T]};function k(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var R,D,j;for(R in this.files)j=this.files[R],(D=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&T(D,j)},filter:function(T){var R=[];return this.forEach(function(D,j){T(D,j)&&R.push(j)}),R},file:function(T,R,D){if(arguments.length!==1)return T=this.root+T,s.call(this,T,R,D),this;if(k(T)){var j=T;return this.filter(function(G,ie){return!ie.dir&&j.test(G)})}var M=this.files[this.root+T];return M&&!M.dir?M:null},folder:function(T){if(!T)return this;if(k(T))return this.filter(function(M,G){return G.dir&&T.test(M)});var R=this.root+T,D=S.call(this,R),j=this.clone();return j.root=D.name,j},remove:function(T){T=this.root+T;var R=this.files[T];if(R||(T.slice(-1)!=="/"&&(T+="/"),R=this.files[T]),R&&!R.dir)delete this.files[T];else for(var D=this.filter(function(M,G){return G.name.slice(0,T.length)===T}),j=0;j<D.length;j++)delete this.files[D[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var R,D={};try{if((D=a.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");a.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var j=D.comment||this.comment||"";R=d.generateWorker(this,D,j)}catch(M){(R=new l("error")).error(M)}return new c(R,D.type||"string",D.mimeType)},generateAsync:function(T,R){return this.generateInternalStream(T).accumulate(R)},generateNodeStream:function(T,R){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(R)}};i.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,n){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,n){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),h=a.charCodeAt(2),u=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===h&&this.data[f+3]===u)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),h=a.charCodeAt(2),u=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&h===f[2]&&u===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,i,n){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=o},{"../utils":32}],19:[function(t,i,n){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,n){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,i,n){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,n){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");i.exports=function(u){var f=s.getTypeOf(u);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new c(u):o.uint8array?new h(s.transformTo("uint8array",u)):new a(s.transformTo("array",u)):new l(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,n){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,n){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,n){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,n){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){c.dataIsReady=!0,c.data=h,c.max=h&&h.length||0,c.type=s.getTypeOf(h),c.isPaused||c._tickAndRepeat()},function(h){c.error(h)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,n){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=s},{}],29:[function(t,i,n){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),c=t("../support"),h=t("../external"),u=null;if(c.nodestream)try{u=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,g){return new h.Promise(function(v,y){var S=[],k=p._internalType,_=p._outputType,T=p._mimeType;p.on("data",function(R,D){S.push(R),g&&g(D)}).on("error",function(R){S=[],y(R)}).on("end",function(){try{var R=function(D,j,M){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",j),M);case"base64":return l.encode(j);default:return s.transformTo(D,j)}}(_,function(D,j){var M,G=0,ie=null,w=0;for(M=0;M<j.length;M++)w+=j[M].length;switch(D){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(ie=new Uint8Array(w),M=0;M<j.length;M++)ie.set(j[M],G),G+=j[M].length;return ie;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+D+"'")}}(k,S),T);v(R)}catch(D){y(D)}S=[]}).resume()})}function d(p,g,v){var y=g;switch(g){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=g,this._mimeType=v,s.checkSupport(y),this._worker=p.pipe(new o(y)),p.lock()}catch(S){this._worker=new a("error"),this._worker.error(S)}}d.prototype={accumulate:function(p){return f(this,p)},on:function(p,g){var v=this;return p==="data"?this._worker.on(p,function(y){g.call(v,y.data,y.meta)}):this._worker.on(p,function(){s.delay(g,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},p)}},i.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),n.blob=o.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,n){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),h=0;h<256;h++)c[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;c[254]=c[254]=1;function u(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}n.utf8encode=function(d){return o.nodebuffer?a.newBufferFrom(d,"utf-8"):function(p){var g,v,y,S,k,_=p.length,T=0;for(S=0;S<_;S++)(64512&(v=p.charCodeAt(S)))==55296&&S+1<_&&(64512&(y=p.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),S++),T+=v<128?1:v<2048?2:v<65536?3:4;for(g=o.uint8array?new Uint8Array(T):new Array(T),S=k=0;k<T;S++)(64512&(v=p.charCodeAt(S)))==55296&&S+1<_&&(64512&(y=p.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),S++),v<128?g[k++]=v:(v<2048?g[k++]=192|v>>>6:(v<65536?g[k++]=224|v>>>12:(g[k++]=240|v>>>18,g[k++]=128|v>>>12&63),g[k++]=128|v>>>6&63),g[k++]=128|63&v);return g}(d)},n.utf8decode=function(d){return o.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var g,v,y,S,k=p.length,_=new Array(2*k);for(g=v=0;g<k;)if((y=p[g++])<128)_[v++]=y;else if(4<(S=c[y]))_[v++]=65533,g+=S-1;else{for(y&=S===2?31:S===3?15:7;1<S&&g<k;)y=y<<6|63&p[g++],S--;1<S?_[v++]=65533:y<65536?_[v++]=y:(y-=65536,_[v++]=55296|y>>10&1023,_[v++]=56320|1023&y)}return _.length!==v&&(_.subarray?_=_.subarray(0,v):_.length=v),s.applyFromCharCode(_)}(d=s.transformTo(o.uint8array?"uint8array":"array",d))},s.inherits(u,l),u.prototype.processChunk=function(d){var p=s.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var v=function(S,k){var _;for((k=k||S.length)>S.length&&(k=S.length),_=k-1;0<=_&&(192&S[_])==128;)_--;return _<0||_===0?k:_+c[S[_]]>k?_:k}(p),y=p;v!==p.length&&(o.uint8array?(y=p.subarray(0,v),this.leftOver=p.subarray(v,p.length)):(y=p.slice(0,v),this.leftOver=p.slice(v,p.length))),this.push({data:n.utf8decode(y),meta:d.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,s.inherits(f,l),f.prototype.processChunk=function(d){this.push({data:n.utf8encode(d.data),meta:d.meta})},n.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,n){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function c(g){return g}function h(g,v){for(var y=0;y<g.length;++y)v[y]=255&g.charCodeAt(y);return v}t("setimmediate"),n.newBlob=function(g,v){n.checkSupport("blob");try{return new Blob([g],{type:v})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(g),y.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(g,v,y){var S=[],k=0,_=g.length;if(_<=y)return String.fromCharCode.apply(null,g);for(;k<_;)v==="array"||v==="nodebuffer"?S.push(String.fromCharCode.apply(null,g.slice(k,Math.min(k+y,_)))):S.push(String.fromCharCode.apply(null,g.subarray(k,Math.min(k+y,_)))),k+=y;return S.join("")},stringifyByChar:function(g){for(var v="",y=0;y<g.length;y++)v+=String.fromCharCode(g[y]);return v},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var v=65536,y=n.getTypeOf(g),S=!0;if(y==="uint8array"?S=u.applyCanBeUsed.uint8array:y==="nodebuffer"&&(S=u.applyCanBeUsed.nodebuffer),S)for(;1<v;)try{return u.stringifyByChunk(g,y,v)}catch{v=Math.floor(v/2)}return u.stringifyByChar(g)}function d(g,v){for(var y=0;y<g.length;y++)v[y]=g[y];return v}n.applyFromCharCode=f;var p={};p.string={string:c,array:function(g){return h(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return h(g,new Uint8Array(g.length))},nodebuffer:function(g){return h(g,a.allocBuffer(g.length))}},p.array={string:f,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(g)}},p.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return a.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return a.newBufferFrom(g)}},p.nodebuffer={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:c},n.transformTo=function(g,v){if(v=v||"",!g)return v;n.checkSupport(g);var y=n.getTypeOf(v);return p[y][g](v)},n.resolve=function(g){for(var v=g.split("/"),y=[],S=0;S<v.length;S++){var k=v[S];k==="."||k===""&&S!==0&&S!==v.length-1||(k===".."?y.pop():y.push(k))}return y.join("/")},n.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(g){var v,y,S="";for(y=0;y<(g||"").length;y++)S+="\\x"+((v=g.charCodeAt(y))<16?"0":"")+v.toString(16).toUpperCase();return S},n.delay=function(g,v,y){setImmediate(function(){g.apply(y||null,v||[])})},n.inherits=function(g,v){function y(){}y.prototype=v.prototype,g.prototype=new y},n.extend=function(){var g,v,y={};for(g=0;g<arguments.length;g++)for(v in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],v)&&y[v]===void 0&&(y[v]=arguments[g][v]);return y},n.prepareContent=function(g,v,y,S,k){return l.Promise.resolve(v).then(function(_){return s.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,R){var D=new FileReader;D.onload=function(j){T(j.target.result)},D.onerror=function(j){R(j.target.error)},D.readAsArrayBuffer(_)}):_}).then(function(_){var T=n.getTypeOf(_);return T?(T==="arraybuffer"?_=n.transformTo("uint8array",_):T==="string"&&(k?_=o.decode(_):y&&S!==!0&&(_=function(R){return h(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))}(_))),_):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,n){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),c=t("./support");function h(u){this.files=[],this.loadOptions=u}h.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(u)+")")}},isSignature:function(u,f){var d=this.reader.index;this.reader.setIndex(u);var p=this.reader.readString(4)===f;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",d=o.transformTo(f,u);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,f,d,p=this.zip64EndOfCentralSize-44;0<p;)u=this.reader.readInt(2),f=this.reader.readInt(4),d=this.reader.readData(f),this.zip64ExtensibleData[u]={id:u,length:f,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,f;for(u=0;u<this.files.length;u++)f=this.files[u],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(u=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var f=u;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=f-d;if(0<p)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(u){this.reader=s(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,n){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),h=t("./compressions"),u=t("./support");function f(d,p){this.options=d,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(v){for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)&&h[y].magic===v)return h[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,g,v,y=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<y;)p=d.readInt(2),g=d.readInt(2),v=d.readData(g),this.extraFields[p]={id:p,length:g,value:v};d.setIndex(y)},handleUTF8:function(){var d=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var y=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null}},i.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,n){function s(p,g,v){this.name=p,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=g,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),h=t("./stream/GenericWorker");s.prototype={internalStream:function(p){var g=null,v="string";try{if(!p)throw new Error("No output type specified.");var y=(v=p.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),g=this._decompressWorker();var S=!this._dataBinary;S&&!y&&(g=g.pipe(new l.Utf8EncodeWorker)),!S&&y&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(k){(g=new h("error")).error(k)}return new o(g,v,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(v,p,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)s.prototype[u[d]]=f;i.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,n){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,h=new l(p),u=s.document.createTextNode("");h.observe(u,{characterData:!0}),o=function(){u.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var f=new s.MessageChannel;f.port1.onmessage=p,o=function(){f.port2.postMessage(0)}}var d=[];function p(){var g,v;a=!0;for(var y=d.length;y;){for(v=d,d=[],g=-1;++g<y;)v[g]();y=d.length}a=!1}i.exports=function(g){d.push(g)!==1||a||o()}}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,n){var s=t("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];function u(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,y!==o&&g(this,y)}function f(y,S,k){this.promise=y,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function d(y,S,k){s(function(){var _;try{_=S(k)}catch(T){return a.reject(y,T)}_===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,_)})}function p(y){var S=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof S=="function")return function(){S.apply(y,arguments)}}function g(y,S){var k=!1;function _(D){k||(k=!0,a.reject(y,D))}function T(D){k||(k=!0,a.resolve(y,D))}var R=v(function(){S(T,_)});R.status==="error"&&_(R.value)}function v(y,S){var k={};try{k.value=y(S),k.status="success"}catch(_){k.status="error",k.value=_}return k}(i.exports=u).prototype.finally=function(y){if(typeof y!="function")return this;var S=this.constructor;return this.then(function(k){return S.resolve(y()).then(function(){return k})},function(k){return S.resolve(y()).then(function(){throw k})})},u.prototype.catch=function(y){return this.then(null,y)},u.prototype.then=function(y,S){if(typeof y!="function"&&this.state===c||typeof S!="function"&&this.state===l)return this;var k=new this.constructor(o);return this.state!==h?d(k,this.state===c?y:S,this.outcome):this.queue.push(new f(k,y,S)),k},f.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},f.prototype.otherCallFulfilled=function(y){d(this.promise,this.onFulfilled,y)},f.prototype.callRejected=function(y){a.reject(this.promise,y)},f.prototype.otherCallRejected=function(y){d(this.promise,this.onRejected,y)},a.resolve=function(y,S){var k=v(p,S);if(k.status==="error")return a.reject(y,k.value);var _=k.value;if(_)g(y,_);else{y.state=c,y.outcome=S;for(var T=-1,R=y.queue.length;++T<R;)y.queue[T].callFulfilled(S)}return y},a.reject=function(y,S){y.state=l,y.outcome=S;for(var k=-1,_=y.queue.length;++k<_;)y.queue[k].callRejected(S);return y},u.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},u.reject=function(y){var S=new this(o);return a.reject(S,y)},u.all=function(y){var S=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=y.length,_=!1;if(!k)return this.resolve([]);for(var T=new Array(k),R=0,D=-1,j=new this(o);++D<k;)M(y[D],D);return j;function M(G,ie){S.resolve(G).then(function(w){T[ie]=w,++R!==k||_||(_=!0,a.resolve(j,T))},function(w){_||(_=!0,a.reject(j,w))})}},u.race=function(y){var S=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=y.length,_=!1;if(!k)return this.resolve([]);for(var T=-1,R=new this(o);++T<k;)D=y[T],S.resolve(D).then(function(j){_||(_=!0,a.resolve(R,j))},function(j){_||(_=!0,a.reject(R,j))});var D;return R}},{immediate:36}],38:[function(t,i,n){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,n){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),h=Object.prototype.toString,u=0,f=-1,d=0,p=8;function g(y){if(!(this instanceof g))return new g(y);this.options=o.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},y||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(k!==u)throw new Error(l[k]);if(S.header&&s.deflateSetHeader(this.strm,S.header),S.dictionary){var _;if(_=typeof S.dictionary=="string"?a.string2buf(S.dictionary):h.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(k=s.deflateSetDictionary(this.strm,_))!==u)throw new Error(l[k]);this._dict_set=!0}}function v(y,S){var k=new g(S);if(k.push(y,!0),k.err)throw k.msg||l[k.err];return k.result}g.prototype.push=function(y,S){var k,_,T=this.strm,R=this.options.chunkSize;if(this.ended)return!1;_=S===~~S?S:S===!0?4:0,typeof y=="string"?T.input=a.string2buf(y):h.call(y)==="[object ArrayBuffer]"?T.input=new Uint8Array(y):T.input=y,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(R),T.next_out=0,T.avail_out=R),(k=s.deflate(T,_))!==1&&k!==u)return this.onEnd(k),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(T.output,T.next_out))):this.onData(o.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&k!==1);return _===4?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===u):_!==2||(this.onEnd(u),!(T.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},n.Deflate=g,n.deflate=v,n.deflateRaw=function(y,S){return(S=S||{}).raw=!0,v(y,S)},n.gzip=function(y,S){return(S=S||{}).gzip=!0,v(y,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,n){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),h=t("./zlib/zstream"),u=t("./zlib/gzheader"),f=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||g&&g.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,v.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new u,s.inflateGetHeader(this.strm,this.header)}function p(g,v){var y=new d(v);if(y.push(g,!0),y.err)throw y.msg||c[y.err];return y.result}d.prototype.push=function(g,v){var y,S,k,_,T,R,D=this.strm,j=this.options.chunkSize,M=this.options.dictionary,G=!1;if(this.ended)return!1;S=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?D.input=a.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?D.input=new Uint8Array(g):D.input=g,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new o.Buf8(j),D.next_out=0,D.avail_out=j),(y=s.inflate(D,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&M&&(R=typeof M=="string"?a.string2buf(M):f.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,y=s.inflateSetDictionary(this.strm,R)),y===l.Z_BUF_ERROR&&G===!0&&(y=l.Z_OK,G=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&y!==l.Z_STREAM_END&&(D.avail_in!==0||S!==l.Z_FINISH&&S!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=a.utf8border(D.output,D.next_out),_=D.next_out-k,T=a.buf2string(D.output,k),D.next_out=_,D.avail_out=j-_,_&&o.arraySet(D.output,D.output,k,_,0),this.onData(T)):this.onData(o.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(G=!0)}while((0<D.avail_in||D.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(S=l.Z_FINISH),S===l.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):S!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(D.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},n.Inflate=d,n.inflate=p,n.inflateRaw=function(g,v){return(v=v||{}).raw=!0,p(g,v)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var h=c.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var u in h)h.hasOwnProperty(u)&&(l[u]=h[u])}}return l},n.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,h,u,f){if(c.subarray&&l.subarray)l.set(c.subarray(h,h+u),f);else for(var d=0;d<u;d++)l[f+d]=c[h+d]},flattenChunks:function(l){var c,h,u,f,d,p;for(c=u=0,h=l.length;c<h;c++)u+=l[c].length;for(p=new Uint8Array(u),c=f=0,h=l.length;c<h;c++)d=l[c],p.set(d,f),f+=d.length;return p}},a={arraySet:function(l,c,h,u,f){for(var d=0;d<u;d++)l[f+d]=c[h+d]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(s)},{}],42:[function(t,i,n){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function h(u,f){if(f<65537&&(u.subarray&&a||!u.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(u,f));for(var d="",p=0;p<f;p++)d+=String.fromCharCode(u[p]);return d}l[254]=l[254]=1,n.string2buf=function(u){var f,d,p,g,v,y=u.length,S=0;for(g=0;g<y;g++)(64512&(d=u.charCodeAt(g)))==55296&&g+1<y&&(64512&(p=u.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),S+=d<128?1:d<2048?2:d<65536?3:4;for(f=new s.Buf8(S),g=v=0;v<S;g++)(64512&(d=u.charCodeAt(g)))==55296&&g+1<y&&(64512&(p=u.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),d<128?f[v++]=d:(d<2048?f[v++]=192|d>>>6:(d<65536?f[v++]=224|d>>>12:(f[v++]=240|d>>>18,f[v++]=128|d>>>12&63),f[v++]=128|d>>>6&63),f[v++]=128|63&d);return f},n.buf2binstring=function(u){return h(u,u.length)},n.binstring2buf=function(u){for(var f=new s.Buf8(u.length),d=0,p=f.length;d<p;d++)f[d]=u.charCodeAt(d);return f},n.buf2string=function(u,f){var d,p,g,v,y=f||u.length,S=new Array(2*y);for(d=p=0;d<y;)if((g=u[d++])<128)S[p++]=g;else if(4<(v=l[g]))S[p++]=65533,d+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&d<y;)g=g<<6|63&u[d++],v--;1<v?S[p++]=65533:g<65536?S[p++]=g:(g-=65536,S[p++]=55296|g>>10&1023,S[p++]=56320|1023&g)}return h(S,p)},n.utf8border=function(u,f){var d;for((f=f||u.length)>u.length&&(f=u.length),d=f-1;0<=d&&(192&u[d])==128;)d--;return d<0||d===0?f:d+l[u[d]]>f?d:f}},{"./common":41}],43:[function(t,i,n){i.exports=function(s,o,a,l){for(var c=65535&s|0,h=s>>>16&65535|0,u=0;a!==0;){for(a-=u=2e3<a?2e3:a;h=h+(c=c+o[l++]|0)|0,--u;);c%=65521,h%=65521}return c|h<<16|0}},{}],44:[function(t,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,n){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();i.exports=function(o,a,l,c){var h=s,u=c+l;o^=-1;for(var f=c;f<u;f++)o=o>>>8^h[255&(o^a[f])];return-1^o}},{}],46:[function(t,i,n){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),c=t("./crc32"),h=t("./messages"),u=0,f=4,d=0,p=-2,g=-1,v=4,y=2,S=8,k=9,_=286,T=30,R=19,D=2*_+1,j=15,M=3,G=258,ie=G+M+1,w=42,C=113,m=1,L=2,Y=3,X=4;function re(b,q){return b.msg=h[q],q}function H(b){return(b<<1)-(4<b?9:0)}function te(b){for(var q=b.length;0<=--q;)b[q]=0}function F(b){var q=b.state,U=q.pending;U>b.avail_out&&(U=b.avail_out),U!==0&&(o.arraySet(b.output,q.pending_buf,q.pending_out,U,b.next_out),b.next_out+=U,q.pending_out+=U,b.total_out+=U,b.avail_out-=U,q.pending-=U,q.pending===0&&(q.pending_out=0))}function B(b,q){a._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,q),b.block_start=b.strstart,F(b.strm)}function ue(b,q){b.pending_buf[b.pending++]=q}function ae(b,q){b.pending_buf[b.pending++]=q>>>8&255,b.pending_buf[b.pending++]=255&q}function oe(b,q){var U,E,P=b.max_chain_length,N=b.strstart,ee=b.prev_length,Z=b.nice_match,W=b.strstart>b.w_size-ie?b.strstart-(b.w_size-ie):0,se=b.window,fe=b.w_mask,le=b.prev,me=b.strstart+G,Me=se[N+ee-1],ke=se[N+ee];b.prev_length>=b.good_match&&(P>>=2),Z>b.lookahead&&(Z=b.lookahead);do if(se[(U=q)+ee]===ke&&se[U+ee-1]===Me&&se[U]===se[N]&&se[++U]===se[N+1]){N+=2,U++;do;while(se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&se[++N]===se[++U]&&N<me);if(E=G-(me-N),N=me-G,ee<E){if(b.match_start=q,Z<=(ee=E))break;Me=se[N+ee-1],ke=se[N+ee]}}while((q=le[q&fe])>W&&--P!=0);return ee<=b.lookahead?ee:b.lookahead}function Re(b){var q,U,E,P,N,ee,Z,W,se,fe,le=b.w_size;do{if(P=b.window_size-b.lookahead-b.strstart,b.strstart>=le+(le-ie)){for(o.arraySet(b.window,b.window,le,le,0),b.match_start-=le,b.strstart-=le,b.block_start-=le,q=U=b.hash_size;E=b.head[--q],b.head[q]=le<=E?E-le:0,--U;);for(q=U=le;E=b.prev[--q],b.prev[q]=le<=E?E-le:0,--U;);P+=le}if(b.strm.avail_in===0)break;if(ee=b.strm,Z=b.window,W=b.strstart+b.lookahead,se=P,fe=void 0,fe=ee.avail_in,se<fe&&(fe=se),U=fe===0?0:(ee.avail_in-=fe,o.arraySet(Z,ee.input,ee.next_in,fe,W),ee.state.wrap===1?ee.adler=l(ee.adler,Z,fe,W):ee.state.wrap===2&&(ee.adler=c(ee.adler,Z,fe,W)),ee.next_in+=fe,ee.total_in+=fe,fe),b.lookahead+=U,b.lookahead+b.insert>=M)for(N=b.strstart-b.insert,b.ins_h=b.window[N],b.ins_h=(b.ins_h<<b.hash_shift^b.window[N+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[N+M-1])&b.hash_mask,b.prev[N&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=N,N++,b.insert--,!(b.lookahead+b.insert<M)););}while(b.lookahead<ie&&b.strm.avail_in!==0)}function we(b,q){for(var U,E;;){if(b.lookahead<ie){if(Re(b),b.lookahead<ie&&q===u)return m;if(b.lookahead===0)break}if(U=0,b.lookahead>=M&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,U=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),U!==0&&b.strstart-U<=b.w_size-ie&&(b.match_length=oe(b,U)),b.match_length>=M)if(E=a._tr_tally(b,b.strstart-b.match_start,b.match_length-M),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=M){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,U=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else E=a._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(E&&(B(b,!1),b.strm.avail_out===0))return m}return b.insert=b.strstart<M-1?b.strstart:M-1,q===f?(B(b,!0),b.strm.avail_out===0?Y:X):b.last_lit&&(B(b,!1),b.strm.avail_out===0)?m:L}function be(b,q){for(var U,E,P;;){if(b.lookahead<ie){if(Re(b),b.lookahead<ie&&q===u)return m;if(b.lookahead===0)break}if(U=0,b.lookahead>=M&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,U=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=M-1,U!==0&&b.prev_length<b.max_lazy_match&&b.strstart-U<=b.w_size-ie&&(b.match_length=oe(b,U),b.match_length<=5&&(b.strategy===1||b.match_length===M&&4096<b.strstart-b.match_start)&&(b.match_length=M-1)),b.prev_length>=M&&b.match_length<=b.prev_length){for(P=b.strstart+b.lookahead-M,E=a._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-M),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=P&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,U=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=M-1,b.strstart++,E&&(B(b,!1),b.strm.avail_out===0))return m}else if(b.match_available){if((E=a._tr_tally(b,0,b.window[b.strstart-1]))&&B(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return m}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(E=a._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<M-1?b.strstart:M-1,q===f?(B(b,!0),b.strm.avail_out===0?Y:X):b.last_lit&&(B(b,!1),b.strm.avail_out===0)?m:L}function ge(b,q,U,E,P){this.good_length=b,this.max_lazy=q,this.nice_length=U,this.max_chain=E,this.func=P}function Ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*D),this.dyn_dtree=new o.Buf16(2*(2*T+1)),this.bl_tree=new o.Buf16(2*(2*R+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(j+1),this.heap=new o.Buf16(2*_+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(b){var q;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=y,(q=b.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?w:C,b.adler=q.wrap===2?0:1,q.last_flush=u,a._tr_init(q),d):re(b,p)}function kt(b){var q=We(b);return q===d&&function(U){U.window_size=2*U.w_size,te(U.head),U.max_lazy_match=s[U.level].max_lazy,U.good_match=s[U.level].good_length,U.nice_match=s[U.level].nice_length,U.max_chain_length=s[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=M-1,U.match_available=0,U.ins_h=0}(b.state),q}function mt(b,q,U,E,P,N){if(!b)return p;var ee=1;if(q===g&&(q=6),E<0?(ee=0,E=-E):15<E&&(ee=2,E-=16),P<1||k<P||U!==S||E<8||15<E||q<0||9<q||N<0||v<N)return re(b,p);E===8&&(E=9);var Z=new Ie;return(b.state=Z).strm=b,Z.wrap=ee,Z.gzhead=null,Z.w_bits=E,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=P+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+M-1)/M),Z.window=new o.Buf8(2*Z.w_size),Z.head=new o.Buf16(Z.hash_size),Z.prev=new o.Buf16(Z.w_size),Z.lit_bufsize=1<<P+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new o.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=q,Z.strategy=N,Z.method=U,kt(b)}s=[new ge(0,0,0,0,function(b,q){var U=65535;for(U>b.pending_buf_size-5&&(U=b.pending_buf_size-5);;){if(b.lookahead<=1){if(Re(b),b.lookahead===0&&q===u)return m;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var E=b.block_start+U;if((b.strstart===0||b.strstart>=E)&&(b.lookahead=b.strstart-E,b.strstart=E,B(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-ie&&(B(b,!1),b.strm.avail_out===0))return m}return b.insert=0,q===f?(B(b,!0),b.strm.avail_out===0?Y:X):(b.strstart>b.block_start&&(B(b,!1),b.strm.avail_out),m)}),new ge(4,4,8,4,we),new ge(4,5,16,8,we),new ge(4,6,32,32,we),new ge(4,4,16,16,be),new ge(8,16,32,32,be),new ge(8,16,128,128,be),new ge(8,32,128,256,be),new ge(32,128,258,1024,be),new ge(32,258,258,4096,be)],n.deflateInit=function(b,q){return mt(b,q,S,15,8,0)},n.deflateInit2=mt,n.deflateReset=kt,n.deflateResetKeep=We,n.deflateSetHeader=function(b,q){return b&&b.state?b.state.wrap!==2?p:(b.state.gzhead=q,d):p},n.deflate=function(b,q){var U,E,P,N;if(!b||!b.state||5<q||q<0)return b?re(b,p):p;if(E=b.state,!b.output||!b.input&&b.avail_in!==0||E.status===666&&q!==f)return re(b,b.avail_out===0?-5:p);if(E.strm=b,U=E.last_flush,E.last_flush=q,E.status===w)if(E.wrap===2)b.adler=0,ue(E,31),ue(E,139),ue(E,8),E.gzhead?(ue(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),ue(E,255&E.gzhead.time),ue(E,E.gzhead.time>>8&255),ue(E,E.gzhead.time>>16&255),ue(E,E.gzhead.time>>24&255),ue(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),ue(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(ue(E,255&E.gzhead.extra.length),ue(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(b.adler=c(b.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(ue(E,0),ue(E,0),ue(E,0),ue(E,0),ue(E,0),ue(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),ue(E,3),E.status=C);else{var ee=S+(E.w_bits-8<<4)<<8;ee|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(ee|=32),ee+=31-ee%31,E.status=C,ae(E,ee),E.strstart!==0&&(ae(E,b.adler>>>16),ae(E,65535&b.adler)),b.adler=1}if(E.status===69)if(E.gzhead.extra){for(P=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>P&&(b.adler=c(b.adler,E.pending_buf,E.pending-P,P)),F(b),P=E.pending,E.pending!==E.pending_buf_size));)ue(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>P&&(b.adler=c(b.adler,E.pending_buf,E.pending-P,P)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){P=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>P&&(b.adler=c(b.adler,E.pending_buf,E.pending-P,P)),F(b),P=E.pending,E.pending===E.pending_buf_size)){N=1;break}N=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,ue(E,N)}while(N!==0);E.gzhead.hcrc&&E.pending>P&&(b.adler=c(b.adler,E.pending_buf,E.pending-P,P)),N===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){P=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>P&&(b.adler=c(b.adler,E.pending_buf,E.pending-P,P)),F(b),P=E.pending,E.pending===E.pending_buf_size)){N=1;break}N=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,ue(E,N)}while(N!==0);E.gzhead.hcrc&&E.pending>P&&(b.adler=c(b.adler,E.pending_buf,E.pending-P,P)),N===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&F(b),E.pending+2<=E.pending_buf_size&&(ue(E,255&b.adler),ue(E,b.adler>>8&255),b.adler=0,E.status=C)):E.status=C),E.pending!==0){if(F(b),b.avail_out===0)return E.last_flush=-1,d}else if(b.avail_in===0&&H(q)<=H(U)&&q!==f)return re(b,-5);if(E.status===666&&b.avail_in!==0)return re(b,-5);if(b.avail_in!==0||E.lookahead!==0||q!==u&&E.status!==666){var Z=E.strategy===2?function(W,se){for(var fe;;){if(W.lookahead===0&&(Re(W),W.lookahead===0)){if(se===u)return m;break}if(W.match_length=0,fe=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,fe&&(B(W,!1),W.strm.avail_out===0))return m}return W.insert=0,se===f?(B(W,!0),W.strm.avail_out===0?Y:X):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?m:L}(E,q):E.strategy===3?function(W,se){for(var fe,le,me,Me,ke=W.window;;){if(W.lookahead<=G){if(Re(W),W.lookahead<=G&&se===u)return m;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=M&&0<W.strstart&&(le=ke[me=W.strstart-1])===ke[++me]&&le===ke[++me]&&le===ke[++me]){Me=W.strstart+G;do;while(le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&le===ke[++me]&&me<Me);W.match_length=G-(Me-me),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=M?(fe=a._tr_tally(W,1,W.match_length-M),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(fe=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),fe&&(B(W,!1),W.strm.avail_out===0))return m}return W.insert=0,se===f?(B(W,!0),W.strm.avail_out===0?Y:X):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?m:L}(E,q):s[E.level].func(E,q);if(Z!==Y&&Z!==X||(E.status=666),Z===m||Z===Y)return b.avail_out===0&&(E.last_flush=-1),d;if(Z===L&&(q===1?a._tr_align(E):q!==5&&(a._tr_stored_block(E,0,0,!1),q===3&&(te(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),F(b),b.avail_out===0))return E.last_flush=-1,d}return q!==f?d:E.wrap<=0?1:(E.wrap===2?(ue(E,255&b.adler),ue(E,b.adler>>8&255),ue(E,b.adler>>16&255),ue(E,b.adler>>24&255),ue(E,255&b.total_in),ue(E,b.total_in>>8&255),ue(E,b.total_in>>16&255),ue(E,b.total_in>>24&255)):(ae(E,b.adler>>>16),ae(E,65535&b.adler)),F(b),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?d:1)},n.deflateEnd=function(b){var q;return b&&b.state?(q=b.state.status)!==w&&q!==69&&q!==73&&q!==91&&q!==103&&q!==C&&q!==666?re(b,p):(b.state=null,q===C?re(b,-3):d):p},n.deflateSetDictionary=function(b,q){var U,E,P,N,ee,Z,W,se,fe=q.length;if(!b||!b.state||(N=(U=b.state).wrap)===2||N===1&&U.status!==w||U.lookahead)return p;for(N===1&&(b.adler=l(b.adler,q,fe,0)),U.wrap=0,fe>=U.w_size&&(N===0&&(te(U.head),U.strstart=0,U.block_start=0,U.insert=0),se=new o.Buf8(U.w_size),o.arraySet(se,q,fe-U.w_size,U.w_size,0),q=se,fe=U.w_size),ee=b.avail_in,Z=b.next_in,W=b.input,b.avail_in=fe,b.next_in=0,b.input=q,Re(U);U.lookahead>=M;){for(E=U.strstart,P=U.lookahead-(M-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[E+M-1])&U.hash_mask,U.prev[E&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=E,E++,--P;);U.strstart=E,U.lookahead=M-1,Re(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=M-1,U.match_available=0,b.next_in=Z,b.input=W,b.avail_in=ee,U.wrap=N,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,n){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,n){i.exports=function(s,o){var a,l,c,h,u,f,d,p,g,v,y,S,k,_,T,R,D,j,M,G,ie,w,C,m,L;a=s.state,l=s.next_in,m=s.input,c=l+(s.avail_in-5),h=s.next_out,L=s.output,u=h-(o-s.avail_out),f=h+(s.avail_out-257),d=a.dmax,p=a.wsize,g=a.whave,v=a.wnext,y=a.window,S=a.hold,k=a.bits,_=a.lencode,T=a.distcode,R=(1<<a.lenbits)-1,D=(1<<a.distbits)-1;e:do{k<15&&(S+=m[l++]<<k,k+=8,S+=m[l++]<<k,k+=8),j=_[S&R];t:for(;;){if(S>>>=M=j>>>24,k-=M,(M=j>>>16&255)===0)L[h++]=65535&j;else{if(!(16&M)){if(!(64&M)){j=_[(65535&j)+(S&(1<<M)-1)];continue t}if(32&M){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}G=65535&j,(M&=15)&&(k<M&&(S+=m[l++]<<k,k+=8),G+=S&(1<<M)-1,S>>>=M,k-=M),k<15&&(S+=m[l++]<<k,k+=8,S+=m[l++]<<k,k+=8),j=T[S&D];r:for(;;){if(S>>>=M=j>>>24,k-=M,!(16&(M=j>>>16&255))){if(!(64&M)){j=T[(65535&j)+(S&(1<<M)-1)];continue r}s.msg="invalid distance code",a.mode=30;break e}if(ie=65535&j,k<(M&=15)&&(S+=m[l++]<<k,(k+=8)<M&&(S+=m[l++]<<k,k+=8)),d<(ie+=S&(1<<M)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(S>>>=M,k-=M,(M=h-u)<ie){if(g<(M=ie-M)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(C=y,(w=0)===v){if(w+=p-M,M<G){for(G-=M;L[h++]=y[w++],--M;);w=h-ie,C=L}}else if(v<M){if(w+=p+v-M,(M-=v)<G){for(G-=M;L[h++]=y[w++],--M;);if(w=0,v<G){for(G-=M=v;L[h++]=y[w++],--M;);w=h-ie,C=L}}}else if(w+=v-M,M<G){for(G-=M;L[h++]=y[w++],--M;);w=h-ie,C=L}for(;2<G;)L[h++]=C[w++],L[h++]=C[w++],L[h++]=C[w++],G-=3;G&&(L[h++]=C[w++],1<G&&(L[h++]=C[w++]))}else{for(w=h-ie;L[h++]=L[w++],L[h++]=L[w++],L[h++]=L[w++],2<(G-=3););G&&(L[h++]=L[w++],1<G&&(L[h++]=L[w++]))}break}}break}}while(l<c&&h<f);l-=G=k>>3,S&=(1<<(k-=G<<3))-1,s.next_in=l,s.next_out=h,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=h<f?f-h+257:257-(h-f),a.hold=S,a.bits=k}},{}],49:[function(t,i,n){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),h=1,u=2,f=0,d=-2,p=1,g=852,v=592;function y(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(w){var C;return w&&w.state?(C=w.state,w.total_in=w.total_out=C.total=0,w.msg="",C.wrap&&(w.adler=1&C.wrap),C.mode=p,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new s.Buf32(g),C.distcode=C.distdyn=new s.Buf32(v),C.sane=1,C.back=-1,f):d}function _(w){var C;return w&&w.state?((C=w.state).wsize=0,C.whave=0,C.wnext=0,k(w)):d}function T(w,C){var m,L;return w&&w.state?(L=w.state,C<0?(m=0,C=-C):(m=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?d:(L.window!==null&&L.wbits!==C&&(L.window=null),L.wrap=m,L.wbits=C,_(w))):d}function R(w,C){var m,L;return w?(L=new S,(w.state=L).window=null,(m=T(w,C))!==f&&(w.state=null),m):d}var D,j,M=!0;function G(w){if(M){var C;for(D=new s.Buf32(512),j=new s.Buf32(32),C=0;C<144;)w.lens[C++]=8;for(;C<256;)w.lens[C++]=9;for(;C<280;)w.lens[C++]=7;for(;C<288;)w.lens[C++]=8;for(c(h,w.lens,0,288,D,0,w.work,{bits:9}),C=0;C<32;)w.lens[C++]=5;c(u,w.lens,0,32,j,0,w.work,{bits:5}),M=!1}w.lencode=D,w.lenbits=9,w.distcode=j,w.distbits=5}function ie(w,C,m,L){var Y,X=w.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),L>=X.wsize?(s.arraySet(X.window,C,m-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(L<(Y=X.wsize-X.wnext)&&(Y=L),s.arraySet(X.window,C,m-L,Y,X.wnext),(L-=Y)?(s.arraySet(X.window,C,m-L,L,0),X.wnext=L,X.whave=X.wsize):(X.wnext+=Y,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=Y))),0}n.inflateReset=_,n.inflateReset2=T,n.inflateResetKeep=k,n.inflateInit=function(w){return R(w,15)},n.inflateInit2=R,n.inflate=function(w,C){var m,L,Y,X,re,H,te,F,B,ue,ae,oe,Re,we,be,ge,Ie,We,kt,mt,b,q,U,E,P=0,N=new s.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return d;(m=w.state).mode===12&&(m.mode=13),re=w.next_out,Y=w.output,te=w.avail_out,X=w.next_in,L=w.input,H=w.avail_in,F=m.hold,B=m.bits,ue=H,ae=te,q=f;e:for(;;)switch(m.mode){case p:if(m.wrap===0){m.mode=13;break}for(;B<16;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if(2&m.wrap&&F===35615){N[m.check=0]=255&F,N[1]=F>>>8&255,m.check=a(m.check,N,2,0),B=F=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&F)<<8)+(F>>8))%31){w.msg="incorrect header check",m.mode=30;break}if((15&F)!=8){w.msg="unknown compression method",m.mode=30;break}if(B-=4,b=8+(15&(F>>>=4)),m.wbits===0)m.wbits=b;else if(b>m.wbits){w.msg="invalid window size",m.mode=30;break}m.dmax=1<<b,w.adler=m.check=1,m.mode=512&F?10:12,B=F=0;break;case 2:for(;B<16;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if(m.flags=F,(255&m.flags)!=8){w.msg="unknown compression method",m.mode=30;break}if(57344&m.flags){w.msg="unknown header flags set",m.mode=30;break}m.head&&(m.head.text=F>>8&1),512&m.flags&&(N[0]=255&F,N[1]=F>>>8&255,m.check=a(m.check,N,2,0)),B=F=0,m.mode=3;case 3:for(;B<32;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}m.head&&(m.head.time=F),512&m.flags&&(N[0]=255&F,N[1]=F>>>8&255,N[2]=F>>>16&255,N[3]=F>>>24&255,m.check=a(m.check,N,4,0)),B=F=0,m.mode=4;case 4:for(;B<16;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}m.head&&(m.head.xflags=255&F,m.head.os=F>>8),512&m.flags&&(N[0]=255&F,N[1]=F>>>8&255,m.check=a(m.check,N,2,0)),B=F=0,m.mode=5;case 5:if(1024&m.flags){for(;B<16;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}m.length=F,m.head&&(m.head.extra_len=F),512&m.flags&&(N[0]=255&F,N[1]=F>>>8&255,m.check=a(m.check,N,2,0)),B=F=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&(H<(oe=m.length)&&(oe=H),oe&&(m.head&&(b=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),s.arraySet(m.head.extra,L,X,oe,b)),512&m.flags&&(m.check=a(m.check,L,oe,X)),H-=oe,X+=oe,m.length-=oe),m.length))break e;m.length=0,m.mode=7;case 7:if(2048&m.flags){if(H===0)break e;for(oe=0;b=L[X+oe++],m.head&&b&&m.length<65536&&(m.head.name+=String.fromCharCode(b)),b&&oe<H;);if(512&m.flags&&(m.check=a(m.check,L,oe,X)),H-=oe,X+=oe,b)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if(H===0)break e;for(oe=0;b=L[X+oe++],m.head&&b&&m.length<65536&&(m.head.comment+=String.fromCharCode(b)),b&&oe<H;);if(512&m.flags&&(m.check=a(m.check,L,oe,X)),H-=oe,X+=oe,b)break e}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;B<16;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if(F!==(65535&m.check)){w.msg="header crc mismatch",m.mode=30;break}B=F=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),w.adler=m.check=0,m.mode=12;break;case 10:for(;B<32;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}w.adler=m.check=y(F),B=F=0,m.mode=11;case 11:if(m.havedict===0)return w.next_out=re,w.avail_out=te,w.next_in=X,w.avail_in=H,m.hold=F,m.bits=B,2;w.adler=m.check=1,m.mode=12;case 12:if(C===5||C===6)break e;case 13:if(m.last){F>>>=7&B,B-=7&B,m.mode=27;break}for(;B<3;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}switch(m.last=1&F,B-=1,3&(F>>>=1)){case 0:m.mode=14;break;case 1:if(G(m),m.mode=20,C!==6)break;F>>>=2,B-=2;break e;case 2:m.mode=17;break;case 3:w.msg="invalid block type",m.mode=30}F>>>=2,B-=2;break;case 14:for(F>>>=7&B,B-=7&B;B<32;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if((65535&F)!=(F>>>16^65535)){w.msg="invalid stored block lengths",m.mode=30;break}if(m.length=65535&F,B=F=0,m.mode=15,C===6)break e;case 15:m.mode=16;case 16:if(oe=m.length){if(H<oe&&(oe=H),te<oe&&(oe=te),oe===0)break e;s.arraySet(Y,L,X,oe,re),H-=oe,X+=oe,te-=oe,re+=oe,m.length-=oe;break}m.mode=12;break;case 17:for(;B<14;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if(m.nlen=257+(31&F),F>>>=5,B-=5,m.ndist=1+(31&F),F>>>=5,B-=5,m.ncode=4+(15&F),F>>>=4,B-=4,286<m.nlen||30<m.ndist){w.msg="too many length or distance symbols",m.mode=30;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;B<3;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}m.lens[ee[m.have++]]=7&F,F>>>=3,B-=3}for(;m.have<19;)m.lens[ee[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,U={bits:m.lenbits},q=c(0,m.lens,0,19,m.lencode,0,m.work,U),m.lenbits=U.bits,q){w.msg="invalid code lengths set",m.mode=30;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;ge=(P=m.lencode[F&(1<<m.lenbits)-1])>>>16&255,Ie=65535&P,!((be=P>>>24)<=B);){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if(Ie<16)F>>>=be,B-=be,m.lens[m.have++]=Ie;else{if(Ie===16){for(E=be+2;B<E;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if(F>>>=be,B-=be,m.have===0){w.msg="invalid bit length repeat",m.mode=30;break}b=m.lens[m.have-1],oe=3+(3&F),F>>>=2,B-=2}else if(Ie===17){for(E=be+3;B<E;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}B-=be,b=0,oe=3+(7&(F>>>=be)),F>>>=3,B-=3}else{for(E=be+7;B<E;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}B-=be,b=0,oe=11+(127&(F>>>=be)),F>>>=7,B-=7}if(m.have+oe>m.nlen+m.ndist){w.msg="invalid bit length repeat",m.mode=30;break}for(;oe--;)m.lens[m.have++]=b}}if(m.mode===30)break;if(m.lens[256]===0){w.msg="invalid code -- missing end-of-block",m.mode=30;break}if(m.lenbits=9,U={bits:m.lenbits},q=c(h,m.lens,0,m.nlen,m.lencode,0,m.work,U),m.lenbits=U.bits,q){w.msg="invalid literal/lengths set",m.mode=30;break}if(m.distbits=6,m.distcode=m.distdyn,U={bits:m.distbits},q=c(u,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,U),m.distbits=U.bits,q){w.msg="invalid distances set",m.mode=30;break}if(m.mode=20,C===6)break e;case 20:m.mode=21;case 21:if(6<=H&&258<=te){w.next_out=re,w.avail_out=te,w.next_in=X,w.avail_in=H,m.hold=F,m.bits=B,l(w,ae),re=w.next_out,Y=w.output,te=w.avail_out,X=w.next_in,L=w.input,H=w.avail_in,F=m.hold,B=m.bits,m.mode===12&&(m.back=-1);break}for(m.back=0;ge=(P=m.lencode[F&(1<<m.lenbits)-1])>>>16&255,Ie=65535&P,!((be=P>>>24)<=B);){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if(ge&&!(240&ge)){for(We=be,kt=ge,mt=Ie;ge=(P=m.lencode[mt+((F&(1<<We+kt)-1)>>We)])>>>16&255,Ie=65535&P,!(We+(be=P>>>24)<=B);){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}F>>>=We,B-=We,m.back+=We}if(F>>>=be,B-=be,m.back+=be,m.length=Ie,ge===0){m.mode=26;break}if(32&ge){m.back=-1,m.mode=12;break}if(64&ge){w.msg="invalid literal/length code",m.mode=30;break}m.extra=15&ge,m.mode=22;case 22:if(m.extra){for(E=m.extra;B<E;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}m.length+=F&(1<<m.extra)-1,F>>>=m.extra,B-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;ge=(P=m.distcode[F&(1<<m.distbits)-1])>>>16&255,Ie=65535&P,!((be=P>>>24)<=B);){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if(!(240&ge)){for(We=be,kt=ge,mt=Ie;ge=(P=m.distcode[mt+((F&(1<<We+kt)-1)>>We)])>>>16&255,Ie=65535&P,!(We+(be=P>>>24)<=B);){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}F>>>=We,B-=We,m.back+=We}if(F>>>=be,B-=be,m.back+=be,64&ge){w.msg="invalid distance code",m.mode=30;break}m.offset=Ie,m.extra=15&ge,m.mode=24;case 24:if(m.extra){for(E=m.extra;B<E;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}m.offset+=F&(1<<m.extra)-1,F>>>=m.extra,B-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){w.msg="invalid distance too far back",m.mode=30;break}m.mode=25;case 25:if(te===0)break e;if(oe=ae-te,m.offset>oe){if((oe=m.offset-oe)>m.whave&&m.sane){w.msg="invalid distance too far back",m.mode=30;break}Re=oe>m.wnext?(oe-=m.wnext,m.wsize-oe):m.wnext-oe,oe>m.length&&(oe=m.length),we=m.window}else we=Y,Re=re-m.offset,oe=m.length;for(te<oe&&(oe=te),te-=oe,m.length-=oe;Y[re++]=we[Re++],--oe;);m.length===0&&(m.mode=21);break;case 26:if(te===0)break e;Y[re++]=m.length,te--,m.mode=21;break;case 27:if(m.wrap){for(;B<32;){if(H===0)break e;H--,F|=L[X++]<<B,B+=8}if(ae-=te,w.total_out+=ae,m.total+=ae,ae&&(w.adler=m.check=m.flags?a(m.check,Y,ae,re-ae):o(m.check,Y,ae,re-ae)),ae=te,(m.flags?F:y(F))!==m.check){w.msg="incorrect data check",m.mode=30;break}B=F=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;B<32;){if(H===0)break e;H--,F+=L[X++]<<B,B+=8}if(F!==(4294967295&m.total)){w.msg="incorrect length check",m.mode=30;break}B=F=0}m.mode=29;case 29:q=1;break e;case 30:q=-3;break e;case 31:return-4;case 32:default:return d}return w.next_out=re,w.avail_out=te,w.next_in=X,w.avail_in=H,m.hold=F,m.bits=B,(m.wsize||ae!==w.avail_out&&m.mode<30&&(m.mode<27||C!==4))&&ie(w,w.output,w.next_out,ae-w.avail_out)?(m.mode=31,-4):(ue-=w.avail_in,ae-=w.avail_out,w.total_in+=ue,w.total_out+=ae,m.total+=ae,m.wrap&&ae&&(w.adler=m.check=m.flags?a(m.check,Y,ae,w.next_out-ae):o(m.check,Y,ae,w.next_out-ae)),w.data_type=m.bits+(m.last?64:0)+(m.mode===12?128:0)+(m.mode===20||m.mode===15?256:0),(ue==0&&ae===0||C===4)&&q===f&&(q=-5),q)},n.inflateEnd=function(w){if(!w||!w.state)return d;var C=w.state;return C.window&&(C.window=null),w.state=null,f},n.inflateGetHeader=function(w,C){var m;return w&&w.state&&2&(m=w.state).wrap?((m.head=C).done=!1,f):d},n.inflateSetDictionary=function(w,C){var m,L=C.length;return w&&w.state?(m=w.state).wrap!==0&&m.mode!==11?d:m.mode===11&&o(1,C,L,0)!==m.check?-3:ie(w,C,L,L)?(m.mode=31,-4):(m.havedict=1,f):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,n){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(h,u,f,d,p,g,v,y){var S,k,_,T,R,D,j,M,G,ie=y.bits,w=0,C=0,m=0,L=0,Y=0,X=0,re=0,H=0,te=0,F=0,B=null,ue=0,ae=new s.Buf16(16),oe=new s.Buf16(16),Re=null,we=0;for(w=0;w<=15;w++)ae[w]=0;for(C=0;C<d;C++)ae[u[f+C]]++;for(Y=ie,L=15;1<=L&&ae[L]===0;L--);if(L<Y&&(Y=L),L===0)return p[g++]=20971520,p[g++]=20971520,y.bits=1,0;for(m=1;m<L&&ae[m]===0;m++);for(Y<m&&(Y=m),w=H=1;w<=15;w++)if(H<<=1,(H-=ae[w])<0)return-1;if(0<H&&(h===0||L!==1))return-1;for(oe[1]=0,w=1;w<15;w++)oe[w+1]=oe[w]+ae[w];for(C=0;C<d;C++)u[f+C]!==0&&(v[oe[u[f+C]]++]=C);if(D=h===0?(B=Re=v,19):h===1?(B=o,ue-=257,Re=a,we-=257,256):(B=l,Re=c,-1),w=m,R=g,re=C=F=0,_=-1,T=(te=1<<(X=Y))-1,h===1&&852<te||h===2&&592<te)return 1;for(;;){for(j=w-re,G=v[C]<D?(M=0,v[C]):v[C]>D?(M=Re[we+v[C]],B[ue+v[C]]):(M=96,0),S=1<<w-re,m=k=1<<X;p[R+(F>>re)+(k-=S)]=j<<24|M<<16|G|0,k!==0;);for(S=1<<w-1;F&S;)S>>=1;if(S!==0?(F&=S-1,F+=S):F=0,C++,--ae[w]==0){if(w===L)break;w=u[f+v[C]]}if(Y<w&&(F&T)!==_){for(re===0&&(re=Y),R+=m,H=1<<(X=w-re);X+re<L&&!((H-=ae[X+re])<=0);)X++,H<<=1;if(te+=1<<X,h===1&&852<te||h===2&&592<te)return 1;p[_=F&T]=Y<<24|X<<16|R-g|0}}return F!==0&&(p[R+F]=w-re<<24|64<<16|0),y.bits=Y,0}},{"../utils/common":41}],51:[function(t,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,n){var s=t("../utils/common"),o=0,a=1;function l(P){for(var N=P.length;0<=--N;)P[N]=0}var c=0,h=29,u=256,f=u+1+h,d=30,p=19,g=2*f+1,v=15,y=16,S=7,k=256,_=16,T=17,R=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=new Array(2*(f+2));l(ie);var w=new Array(2*d);l(w);var C=new Array(512);l(C);var m=new Array(256);l(m);var L=new Array(h);l(L);var Y,X,re,H=new Array(d);function te(P,N,ee,Z,W){this.static_tree=P,this.extra_bits=N,this.extra_base=ee,this.elems=Z,this.max_length=W,this.has_stree=P&&P.length}function F(P,N){this.dyn_tree=P,this.max_code=0,this.stat_desc=N}function B(P){return P<256?C[P]:C[256+(P>>>7)]}function ue(P,N){P.pending_buf[P.pending++]=255&N,P.pending_buf[P.pending++]=N>>>8&255}function ae(P,N,ee){P.bi_valid>y-ee?(P.bi_buf|=N<<P.bi_valid&65535,ue(P,P.bi_buf),P.bi_buf=N>>y-P.bi_valid,P.bi_valid+=ee-y):(P.bi_buf|=N<<P.bi_valid&65535,P.bi_valid+=ee)}function oe(P,N,ee){ae(P,ee[2*N],ee[2*N+1])}function Re(P,N){for(var ee=0;ee|=1&P,P>>>=1,ee<<=1,0<--N;);return ee>>>1}function we(P,N,ee){var Z,W,se=new Array(v+1),fe=0;for(Z=1;Z<=v;Z++)se[Z]=fe=fe+ee[Z-1]<<1;for(W=0;W<=N;W++){var le=P[2*W+1];le!==0&&(P[2*W]=Re(se[le]++,le))}}function be(P){var N;for(N=0;N<f;N++)P.dyn_ltree[2*N]=0;for(N=0;N<d;N++)P.dyn_dtree[2*N]=0;for(N=0;N<p;N++)P.bl_tree[2*N]=0;P.dyn_ltree[2*k]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function ge(P){8<P.bi_valid?ue(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function Ie(P,N,ee,Z){var W=2*N,se=2*ee;return P[W]<P[se]||P[W]===P[se]&&Z[N]<=Z[ee]}function We(P,N,ee){for(var Z=P.heap[ee],W=ee<<1;W<=P.heap_len&&(W<P.heap_len&&Ie(N,P.heap[W+1],P.heap[W],P.depth)&&W++,!Ie(N,Z,P.heap[W],P.depth));)P.heap[ee]=P.heap[W],ee=W,W<<=1;P.heap[ee]=Z}function kt(P,N,ee){var Z,W,se,fe,le=0;if(P.last_lit!==0)for(;Z=P.pending_buf[P.d_buf+2*le]<<8|P.pending_buf[P.d_buf+2*le+1],W=P.pending_buf[P.l_buf+le],le++,Z===0?oe(P,W,N):(oe(P,(se=m[W])+u+1,N),(fe=D[se])!==0&&ae(P,W-=L[se],fe),oe(P,se=B(--Z),ee),(fe=j[se])!==0&&ae(P,Z-=H[se],fe)),le<P.last_lit;);oe(P,k,N)}function mt(P,N){var ee,Z,W,se=N.dyn_tree,fe=N.stat_desc.static_tree,le=N.stat_desc.has_stree,me=N.stat_desc.elems,Me=-1;for(P.heap_len=0,P.heap_max=g,ee=0;ee<me;ee++)se[2*ee]!==0?(P.heap[++P.heap_len]=Me=ee,P.depth[ee]=0):se[2*ee+1]=0;for(;P.heap_len<2;)se[2*(W=P.heap[++P.heap_len]=Me<2?++Me:0)]=1,P.depth[W]=0,P.opt_len--,le&&(P.static_len-=fe[2*W+1]);for(N.max_code=Me,ee=P.heap_len>>1;1<=ee;ee--)We(P,se,ee);for(W=me;ee=P.heap[1],P.heap[1]=P.heap[P.heap_len--],We(P,se,1),Z=P.heap[1],P.heap[--P.heap_max]=ee,P.heap[--P.heap_max]=Z,se[2*W]=se[2*ee]+se[2*Z],P.depth[W]=(P.depth[ee]>=P.depth[Z]?P.depth[ee]:P.depth[Z])+1,se[2*ee+1]=se[2*Z+1]=W,P.heap[1]=W++,We(P,se,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(ke,It){var Wi,Rt,oi,Ke,xs,Io,yr=It.dyn_tree,yc=It.max_code,Os=It.stat_desc.static_tree,pd=It.stat_desc.has_stree,gd=It.stat_desc.extra_bits,Ro=It.stat_desc.extra_base,ji=It.stat_desc.max_length,Vi=0;for(Ke=0;Ke<=v;Ke++)ke.bl_count[Ke]=0;for(yr[2*ke.heap[ke.heap_max]+1]=0,Wi=ke.heap_max+1;Wi<g;Wi++)ji<(Ke=yr[2*yr[2*(Rt=ke.heap[Wi])+1]+1]+1)&&(Ke=ji,Vi++),yr[2*Rt+1]=Ke,yc<Rt||(ke.bl_count[Ke]++,xs=0,Ro<=Rt&&(xs=gd[Rt-Ro]),Io=yr[2*Rt],ke.opt_len+=Io*(Ke+xs),pd&&(ke.static_len+=Io*(Os[2*Rt+1]+xs)));if(Vi!==0){do{for(Ke=ji-1;ke.bl_count[Ke]===0;)Ke--;ke.bl_count[Ke]--,ke.bl_count[Ke+1]+=2,ke.bl_count[ji]--,Vi-=2}while(0<Vi);for(Ke=ji;Ke!==0;Ke--)for(Rt=ke.bl_count[Ke];Rt!==0;)yc<(oi=ke.heap[--Wi])||(yr[2*oi+1]!==Ke&&(ke.opt_len+=(Ke-yr[2*oi+1])*yr[2*oi],yr[2*oi+1]=Ke),Rt--)}}(P,N),we(se,Me,P.bl_count)}function b(P,N,ee){var Z,W,se=-1,fe=N[1],le=0,me=7,Me=4;for(fe===0&&(me=138,Me=3),N[2*(ee+1)+1]=65535,Z=0;Z<=ee;Z++)W=fe,fe=N[2*(Z+1)+1],++le<me&&W===fe||(le<Me?P.bl_tree[2*W]+=le:W!==0?(W!==se&&P.bl_tree[2*W]++,P.bl_tree[2*_]++):le<=10?P.bl_tree[2*T]++:P.bl_tree[2*R]++,se=W,Me=(le=0)===fe?(me=138,3):W===fe?(me=6,3):(me=7,4))}function q(P,N,ee){var Z,W,se=-1,fe=N[1],le=0,me=7,Me=4;for(fe===0&&(me=138,Me=3),Z=0;Z<=ee;Z++)if(W=fe,fe=N[2*(Z+1)+1],!(++le<me&&W===fe)){if(le<Me)for(;oe(P,W,P.bl_tree),--le!=0;);else W!==0?(W!==se&&(oe(P,W,P.bl_tree),le--),oe(P,_,P.bl_tree),ae(P,le-3,2)):le<=10?(oe(P,T,P.bl_tree),ae(P,le-3,3)):(oe(P,R,P.bl_tree),ae(P,le-11,7));se=W,Me=(le=0)===fe?(me=138,3):W===fe?(me=6,3):(me=7,4)}}l(H);var U=!1;function E(P,N,ee,Z){ae(P,(c<<1)+(Z?1:0),3),function(W,se,fe,le){ge(W),le&&(ue(W,fe),ue(W,~fe)),s.arraySet(W.pending_buf,W.window,se,fe,W.pending),W.pending+=fe}(P,N,ee,!0)}n._tr_init=function(P){U||(function(){var N,ee,Z,W,se,fe=new Array(v+1);for(W=Z=0;W<h-1;W++)for(L[W]=Z,N=0;N<1<<D[W];N++)m[Z++]=W;for(m[Z-1]=W,W=se=0;W<16;W++)for(H[W]=se,N=0;N<1<<j[W];N++)C[se++]=W;for(se>>=7;W<d;W++)for(H[W]=se<<7,N=0;N<1<<j[W]-7;N++)C[256+se++]=W;for(ee=0;ee<=v;ee++)fe[ee]=0;for(N=0;N<=143;)ie[2*N+1]=8,N++,fe[8]++;for(;N<=255;)ie[2*N+1]=9,N++,fe[9]++;for(;N<=279;)ie[2*N+1]=7,N++,fe[7]++;for(;N<=287;)ie[2*N+1]=8,N++,fe[8]++;for(we(ie,f+1,fe),N=0;N<d;N++)w[2*N+1]=5,w[2*N]=Re(N,5);Y=new te(ie,D,u+1,f,v),X=new te(w,j,0,d,v),re=new te(new Array(0),M,0,p,S)}(),U=!0),P.l_desc=new F(P.dyn_ltree,Y),P.d_desc=new F(P.dyn_dtree,X),P.bl_desc=new F(P.bl_tree,re),P.bi_buf=0,P.bi_valid=0,be(P)},n._tr_stored_block=E,n._tr_flush_block=function(P,N,ee,Z){var W,se,fe=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(le){var me,Me=4093624447;for(me=0;me<=31;me++,Me>>>=1)if(1&Me&&le.dyn_ltree[2*me]!==0)return o;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return a;for(me=32;me<u;me++)if(le.dyn_ltree[2*me]!==0)return a;return o}(P)),mt(P,P.l_desc),mt(P,P.d_desc),fe=function(le){var me;for(b(le,le.dyn_ltree,le.l_desc.max_code),b(le,le.dyn_dtree,le.d_desc.max_code),mt(le,le.bl_desc),me=p-1;3<=me&&le.bl_tree[2*G[me]+1]===0;me--);return le.opt_len+=3*(me+1)+5+5+4,me}(P),W=P.opt_len+3+7>>>3,(se=P.static_len+3+7>>>3)<=W&&(W=se)):W=se=ee+5,ee+4<=W&&N!==-1?E(P,N,ee,Z):P.strategy===4||se===W?(ae(P,2+(Z?1:0),3),kt(P,ie,w)):(ae(P,4+(Z?1:0),3),function(le,me,Me,ke){var It;for(ae(le,me-257,5),ae(le,Me-1,5),ae(le,ke-4,4),It=0;It<ke;It++)ae(le,le.bl_tree[2*G[It]+1],3);q(le,le.dyn_ltree,me-1),q(le,le.dyn_dtree,Me-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,fe+1),kt(P,P.dyn_ltree,P.dyn_dtree)),be(P),Z&&ge(P)},n._tr_tally=function(P,N,ee){return P.pending_buf[P.d_buf+2*P.last_lit]=N>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&N,P.pending_buf[P.l_buf+P.last_lit]=255&ee,P.last_lit++,N===0?P.dyn_ltree[2*ee]++:(P.matches++,N--,P.dyn_ltree[2*(m[ee]+u+1)]++,P.dyn_dtree[2*B(N)]++),P.last_lit===P.lit_bufsize-1},n._tr_align=function(P){ae(P,2,3),oe(P,k,ie),function(N){N.bi_valid===16?(ue(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(t,i,n){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,n){(function(s){(function(o,a){if(!o.setImmediate){var l,c,h,u,f=1,d={},p=!1,g=o.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(o);v=v&&v.setTimeout?v:o,l={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){S(_)})}:function(){if(o.postMessage&&!o.importScripts){var _=!0,T=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=T,_}}()?(u="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(_){o.postMessage(u+_,"*")}):o.MessageChannel?((h=new MessageChannel).port1.onmessage=function(_){S(_.data)},function(_){h.port2.postMessage(_)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(_){var T=g.createElement("script");T.onreadystatechange=function(){S(_),T.onreadystatechange=null,c.removeChild(T),T=null},c.appendChild(T)}):function(_){setTimeout(S,0,_)},v.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var T=new Array(arguments.length-1),R=0;R<T.length;R++)T[R]=arguments[R+1];var D={callback:_,args:T};return d[f]=D,l(f),f++},v.clearImmediate=y}function y(_){delete d[_]}function S(_){if(p)setTimeout(S,0,_);else{var T=d[_];if(T){p=!0;try{(function(R){var D=R.callback,j=R.args;switch(j.length){case 0:D();break;case 1:D(j[0]);break;case 2:D(j[0],j[1]);break;case 3:D(j[0],j[1],j[2]);break;default:D.apply(a,j)}})(T)}finally{y(_),p=!1}}}}function k(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(u)===0&&S(+_.data.slice(u.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(x0);var O0=x0.exports;const LI=$t({__proto__:null,default:Cn(O0)},[O0]);class MI{constructor(){A(this,"zoomValues",[25,50,75,100,150,200,250,300,400]);A(this,"zoomToolbarButton",$("<div id='zoom-toolbar-button'><div class='caret'></div></div>"));A(this,"zoomToolbarValue",$("<div id='zoom-value'></div>"));A(this,"zoomPopupContainer",$("<div id='zoom-popup-container'></div>"));A(this,"eventHub",new zo);for(const t of this.zoomValues){const i=$(`<div class="zoom-value">${this.getPercent(t)}</div>`);i.on("click",()=>{this.eventHub.trigger("changeZoom",{value:t}),this.closePopup()}),this.zoomPopupContainer.append(i)}$("#popupContainer").append(this.zoomPopupContainer),this.zoomToolbarButton.prepend(this.zoomToolbarValue),this.zoomToolbarButton.on("click",()=>this.showPopup());const e=$("<div class='zoom-toolbar-button-container'></div>");e.append(this.zoomToolbarButton),$("#inspectControlFrameHeaderContainer").before(e)}getPercent(e){return`${Math.round(e)}%`}showPopup(){this.zoomToolbarButton.addClass("selected"),this.zoomPopupContainer.addClass("popup"),this.zoomPopupContainer.show(),$("<div class='splitterMask'></div>").insertAfter(this.zoomPopupContainer),$("div.splitterMask").on("click",()=>this.closePopup())}closePopup(){this.zoomToolbarButton.removeClass("selected"),this.zoomPopupContainer.hide(),$("div.splitterMask").off("click",()=>this.closePopup()),$("div.splitterMask").remove()}setZoom(e){this.zoomToolbarValue.text(this.getPercent(e))}subscribe(e){this.eventHub.subscribe(e)}hide(){this.zoomToolbarButton.hide()}show(){this.zoomToolbarButton.show()}}class BI{constructor(e,t){A(this,"id");A(this,"src");A(this,"viewerPageClass","handoff-viewer-page");A(this,"screenImageClass","handoff-screen-image");A(this,"page",$(`
<div class="${this.viewerPageClass}">
  <img class='${this.screenImageClass}' />
</div>
`));A(this,"pageImage",this.page.find(`.${this.screenImageClass}`));A(this,"visible",!1);const i={id:Pc(),src:"",visible:!1,...e};this.id=i.id,this.src=i.src,this.Visible=i.visible,this.setAttrs(),t&&this.mount(t)}get Visible(){return this.visible}set Visible(e){this.visible=e,e?this.page.css("visibility","").show():this.page.css("visibility","hidden").hide()}mount(e){this.page.appendTo(e)}remove(){this.page.remove()}show(){this.Visible=!0}hide(){this.Visible=!1}addClass(e){this.page.addClass(e)}removeClass(e){this.page.removeClass(e)}update(e){this.id=e.id,this.src=e.src,this.Visible=e.visible,this.setAttrs()}setAttrs(){this.page.attr("artboardId",this.id),this.pageImage.attr("src",this.src)}}class NI{constructor(e,t){A(this,"pages",{});A(this,"pagesWrapperId","handoff-pages-wrapper");A(this,"pagesWrapper",$(`<div id="${this.pagesWrapperId}">`));A(this,"handlers");A(this,"handlersAttached",!1);this.state=e,this.handlers={onClick:i=>this.inspect(i),onHover:Is(i=>this.inspectHover(i),1e3/60,{leading:!1}),onMouseLeave:Is(()=>this.state.trigger(J.InspectClearHover),1e3/60,{leading:!1})},this.subscribeToEvents(),t&&this.mount(t)}get Element(){return this.pagesWrapper}mount(e){return this.pagesWrapper.appendTo(e)}get totalPages(){return Object.keys(this.pages).length}add({id:e,src:t,name:i}){let n;const s=this.state.CurrentPage?this.state.CurrentPage===e:this.totalPages<1,o={id:e,src:t,name:i,visible:s};if(e&&(n=this.pages[e]),n)n.update(o);else{const a=new BI(o,this.pagesWrapper);this.pages[a.id]=a}}remove(e){const t=this.pages[e];t&&(t.remove(),delete this.pages[e])}setCurrent(e){const t=this.pages[e];t&&(this.hideAllPages(),t.show())}setWidth(e){this.pagesWrapper.css("width",`${e}px`)}hideAllPages(){for(const e in this.pages)if(Object.prototype.hasOwnProperty.call(this.pages,e)){const t=this.pages[e];t&&t.hide()}}attachInspectHandlers(){if(this.handlersAttached)return;const{onClick:e,onHover:t,onMouseLeave:i}=this.handlers;this.pagesWrapper.on("click",e),this.pagesWrapper.on("mousemove",t),this.pagesWrapper.on("mouseleave",i),this.handlersAttached=!0}detachInspectHandlers(){const{onClick:e,onHover:t,onMouseLeave:i}=this.handlers;this.pagesWrapper.off("click",e),this.pagesWrapper.off("mousemove",t),this.pagesWrapper.off("mouseleave",i),this.handlersAttached=!1}inspect(e){this.state.trigger(J.InspectGet,{type:"click",location:C0(e),originalRect:{width:e.currentTarget.offsetWidth,height:e.currentTarget.offsetHeight},clientRect:e.currentTarget.getBoundingClientRect(),iterateLayers:!0})}inspectHover(e){this.state.trigger(J.InspectHoverGet,{type:"hover",location:C0(e),originalRect:{width:e.currentTarget.offsetWidth,height:e.currentTarget.offsetHeight},clientRect:e.currentTarget.getBoundingClientRect(),iterateLayers:!1})}subscribeToEvents(){this.state.subscribe({[J.InspectorEnabled]:()=>this.attachInspectHandlers(),[J.InspectorDisabled]:()=>this.detachInspectHandlers()})}}function C0(r){const e=$(r.currentTarget).offset(),{pageX:t,pageY:i}=r;if(t===void 0||i===void 0)return{x:0,y:0};const n={x:t,y:i};if(e){const{left:s,top:o}=e;n.x-=s,n.y-=o}return n}class FI{constructor(e,t){A(this,"mainPanel",$("#mainPanel"));A(this,"viewerContainerId","handoff-viewer-container");A(this,"screenContainerId","handoff-screen-container");A(this,"pagesWrapperId","handoff-pages-wrapper");A(this,"viewer",$(`
<div id="${this.viewerContainerId}">
  <div id="${this.screenContainerId}"></div>
</div>`).hide());A(this,"zoomValues",[25,50,75,100,150,200,250,300,400]);A(this,"viewerContainer",this.viewer);A(this,"screenContainer",this.viewer.find(`#${this.screenContainerId}`));A(this,"container");A(this,"zoomButton");A(this,"pages");A(this,"guides");A(this,"deltaWheelFactor");A(this,"zoom",100);A(this,"gestureStartZoom",0);A(this,"isDragModeEnabled",!1);A(this,"screenContainerLeft",0);A(this,"screenContainerTop",0);A(this,"pagePosition",{x:0,y:0});A(this,"isInspect",!1);A(this,"isCloud",!!window.$axure.player.isCloud);this.state=e,this.subscribeToEvents(),this.pages=new NI(this.state,this.screenContainer),this.guides=new y0(e,"relative"),this.guides.mount(this.pages.Element),this.deltaWheelFactor=this.getDeltaWheelFactor(),this.setZoom(100),t&&this.mount(t)}mount(e){return this.attachEvents(),this.container=e,this.viewer.appendTo(e)}addPage(e){this.pages.add(e)}removePage(e){this.pages.remove(e)}setCurrentPage(e){this.pages.setCurrent(e),this.resetPagePosition(),this.viewer.find(`#${this.screenContainerId}`).find(`[artboardid="${e}"]`).find("img").one("load",()=>{this.resetPagePosition()})}setZoom(e){var t;this.screenContainer.attr("data-scale",e/100),this.reportScaleChanged(e/100),this.zoom=e,(t=this.zoomButton)==null||t.setZoom(e),this.resize()}toggleDragMode(e){this.isDragModeEnabled!==e&&(this.viewer.toggleClass("handoff-dragging",e),e?this.viewer.on("mousedown.drag",t=>this.startDrag(t)):(this.isDragModeEnabled&&this.stopDrag(),this.viewer.off("mousedown.drag")),this.isDragModeEnabled=e)}setScale(e,t,i){}hide(){this.viewer.hide()}show(){this.viewer.show()}getContainer(){const e=this.container&&this.container[0];return e&&e.ownerDocument&&e.ownerDocument.head||document.head}roundValueByArrayOfSteps(e,t,i=!1){let n=0;for(let s=0;s<t.length;s++)if(t[s]<e){const o=t[s+1];if(o){if(o<e)continue;if(o===e){n=s+1;break}else if(i){n=s;break}else n=s+1}else{n=s;break}}else if(s===0)break;return t[n]}roundZoomValue(e){let t=Math.round(e);return t<this.zoomValues[0]?[t]=this.zoomValues:t>this.zoomValues[this.zoomValues.length-1]&&(t=this.zoomValues[this.zoomValues.length-1]),t}zoomIn(e){const t=this.getNextStepOfZoom(1);this.zoomPage(t,e)}zoomOut(e){const t=this.getNextStepOfZoom(-1);this.zoomPage(t,e)}getNextStepOfZoom(e){const t=this.roundValueByArrayOfSteps(this.zoom,this.zoomValues,e<0);let i=e;this.zoom!==t&&(i+=i>0?-1:1);const s=(this.zoomValues.findIndex(a=>a===t)||0)+i;let o=this.zoom;return this.zoomValues[s]&&(o=this.zoomValues[s]),o}zoomPage(e,t){const i=this.zoom,n=e,s={height:this.viewerContainer.height()||0,width:this.viewerContainer.width()||0},o=this.getPageSize();let a=0,l=0;if(s.width<=o.width*n/i||s.height<=o.height*n/i){const h=t?t.x:s.width/2,u=t?t.y:s.height/2,f=this.getPagePosition();let d=h-s.width/2-f.x,p=u-s.height/2-f.y;(Math.abs(d)>o.width/2||Math.abs(p)>o.height/2)&&(d=-f.x,p=-f.y);const g=d*n/i,v=p*n/i;a=f.x-(g-d),l=f.y-(v-p)}this.setZoom(n);const c=this.normalizePagePosition({x:a,y:l});this.setPagePosition(c)}resize(){const e=this.width();this.screenContainer.css("width",`${e}px`),this.pages.setWidth(e);const t=this.getPageSize();this.screenContainer.attr({"data-width":t.width,"data-height":t.height}),this.reportSizeChanged({width:t.width,height:t.height})}width(){const{width:e}=this.state.Size;return this.zoom/100*e}height(){const{height:e}=this.state.Size;return this.zoom/100*e}attachEvents(){this.attachKeyboardEvents(),this.zoomable(),this.scrollable(),window.addEventListener("gesturestart",e=>e.preventDefault()),window.addEventListener("gesturechange",e=>e.preventDefault()),window.addEventListener("gestureend",e=>e.preventDefault())}attachKeyboardEvents(){const{contentWindow:e}=this.mainPanel.find("iframe")[0];if(!e||!e.document)return!1;const t=$(e.document);t.on("keyup",i=>{switch(i.which){case 188:this.state.trigger(J.OpenPreviousPage);break;case 190:this.state.trigger(J.OpenNextPage);break;case 27:this.state.trigger(J.ExitCommentMode);break;case 67:this.state.trigger(J.ToogleCommentMode);break}}),t.on("keydown",i=>this.onKeyDown(i)).on("keyup",i=>this.onKeyUp(i))}onKeyDown(e){const{which:t}=e;if(t===32&&this.toggleDragMode(!0),this.isInspect&&(e.ctrlKey||e.metaKey))switch(t){case 107:case 187:e.preventDefault(),this.zoomIn();break;case 109:case 189:e.preventDefault(),this.zoomOut();break;case 48:case 96:e.preventDefault(),this.zoomPage(100);break}}onKeyUp(e){const{which:t}=e;t===32&&this.toggleDragMode(!1)}startDrag(e){if(e.preventDefault(),e.pageX===void 0||e.pageY===void 0)return;let t=e.pageX,i=e.pageY;const n=({pageX:s,pageY:o})=>{if(s===void 0||o===void 0)return;const a=s-t,l=o-i;let c=this.getPagePosition();c.x+=a,c.y+=l,c=this.normalizePagePosition(c),this.setPagePosition({x:c.x,y:c.y}),t=s,i=o};this.viewer.toggleClass("handoff-dragging__start",!0),this.viewer.on("mouseup.drag",()=>this.stopDrag()),this.viewer.on("mouseout.drag mousemove.drag",s=>n(s))}stopDrag(){this.viewer.toggleClass("handoff-dragging__start",!1),this.viewer.off("mouseup.drag"),this.viewer.off("mouseout.drag mousemove.drag")}zoomable(){this.viewerContainer.on("wheel",t=>{if(t.ctrlKey||t.metaKey){t.preventDefault();const i=t.originalEvent;if(i){const{deltaY:n}=i,s=this.deltaWheelFactor,o=25,a=this.roundZoomValue(this.zoom+-n*o*s),l={x:i.x,y:i.y};this.zoomPage(a,l)}}});const{contentWindow:e}=this.mainPanel.find("iframe")[0];e&&(e.addEventListener("gesturestart",t=>{t.preventDefault(),this.gestureStartZoom=this.zoom}),e.addEventListener("gesturechange",t=>{t.preventDefault();const i=this.roundZoomValue(this.gestureStartZoom*t.scale),n={x:t.pageX,y:t.pageY};this.zoomPage(i,n)}),e.addEventListener("gestureend",t=>{t.preventDefault()}))}scrollable(){this.viewerContainer.on("wheel",e=>{if(!e.ctrlKey){e.preventDefault();const t=e.originalEvent;if(t){const n=this.deltaWheelFactor;let s=t.deltaY?-t.deltaY*n*50:0,o=t.deltaX?-t.deltaX*n*50:0;if(t.shiftKey){const h=o;o=s,s=h}const a=o/this.zoom*100,l=s/this.zoom*100;let c=this.getPagePosition();c.x+=a,c.y+=l,c=this.normalizePagePosition(c),this.setPagePosition({x:c.x,y:c.y})}}})}getDeltaWheelFactor(){let e=.01;return/(Win)/i.test(navigator.platform)?/(Firefox)/i.test(navigator.userAgent)&&(e*=1.85):e*=8,e}setScreenContainerPosition(e,t){this.screenContainer.css({left:e,top:t}),this.screenContainerLeft=e,this.screenContainerTop=t,this.screenContainer.attr({"data-x":e,"data-y":t}),this.reportPositionChanged({x:e,y:t})}getPageSize(){const e=this.viewer.find(`#${this.pagesWrapperId}`);return{width:e.width()||this.width(),height:e.height()||this.height()}}getPagePosition(){const e={height:this.viewer.height()||0,width:this.viewer.width()||0},t=this.getPageSize(),i=this.screenContainerLeft-e.width/2+t.width/2,n=this.screenContainerTop-e.height/2+t.height/2;return{x:i,y:n}}setPagePosition(e){this.pagePosition=e;const t={height:this.viewer.height()||0,width:this.viewer.width()||0},i=this.getPageSize(),n=e.x+t.width/2-i.width/2,s=e.y+t.height/2-i.height/2;this.setScreenContainerPosition(n,s)}resetPagePosition(){let e=0,t=0;const i={height:this.viewerContainer.height()||0,width:this.viewerContainer.width()||0},n=this.getPageSize();n.height>i.height&&(t=n.height/2-i.height/2),n.width>i.width&&(e=n.width/2-i.width/2),this.setPagePosition({x:e,y:t})}normalizePagePosition(e){let i=0,n=0;const s={height:this.viewer.height()||0,width:this.viewer.width()||0},o=this.getPageSize();if(o.width>s.width){let a=e.x+s.width/2-o.width/2;const l=-1*(o.width-(s.width-100));a>100&&a<l||(a>100?a=100:a<l&&(a=l)),i=a-s.width/2+o.width/2}if(o.height>s.height){let a=e.y+s.height/2-o.height/2;const l=-1*(o.height-(s.height-100));a>100&&a<l||(a>100?a=100:a<l&&(a=l)),n=a-s.height/2+o.height/2}return{x:i,y:n}}viewerResized(){const e=this.normalizePagePosition(this.pagePosition);this.setPagePosition(e)}scrollToPosition(e){const t={x:e.x*this.zoom/100,y:e.y*this.zoom/100},i=this.getPageSize(),n={x:i.width/2-t.x,y:i.height/2-t.y},s=this.normalizePagePosition(n);this.setPagePosition(s)}reportScaleChanged(e){this.isInspect&&window.$axure.messageCenter.postMessage("cloud_SetPageScale",{scale:e})}reportPositionChanged(e){this.isInspect&&window.$axure.messageCenter.postMessage("cloud_SetPagePosition",{x:e.x,y:e.y})}reportSizeChanged(e){this.isInspect&&window.$axure.messageCenter.postMessage("cloud_SetPageSize",{width:e.width,height:e.height})}refreshPageProperties(){this.setZoom(this.zoom),this.setScreenContainerPosition(this.screenContainerLeft,this.screenContainerTop)}messageCenterEvent(e){if(e.message==="getScale")this.viewerResized();else if(e.message==="cloud_RefreshPageProperties")this.refreshPageProperties();else if(e.message==="cloud_ScrollToPin"){const t=e.data;t&&t.position&&this.scrollToPosition(t.position)}}inspectorEnabled(){this.isInspect=!0,this.isCloud||(this.zoomButton?this.zoomButton.show():(this.zoomButton=new MI,this.zoomButton.subscribe({changeZoom:e=>{this.zoomPage(e.value)}}))),this.refreshPageProperties()}inspectorDisabled(){this.isInspect=!1,!this.isCloud&&this.zoomButton&&this.zoomButton.hide(),this.refreshPageProperties()}subscribeToEvents(){this.state.subscribe({[J.Resized]:this.resize.bind(this),[J.PageAdded]:this.addPage.bind(this),[J.PageRemoved]:this.removePage.bind(this),[J.PageDidChange]:this.setCurrentPage.bind(this),[J.PlayerMessageCenterEvent]:e=>this.messageCenterEvent(e),[J.InspectorEnabled]:this.inspectorEnabled.bind(this),[J.InspectorDisabled]:this.inspectorDisabled.bind(this)}),this.state.subscribeToBridge({[Ne.keyboardEvent]:e=>{switch(e){case Ur.spaceBarDown:this.toggleDragMode(!0);break;case Ur.spaceBarUp:this.toggleDragMode(!1);break;case Ur.ctrlOrCmdPlus:this.zoomIn();break;case Ur.ctrlOrCmdMinus:this.zoomOut();break;case Ur.ctrlOrCmdZero:this.zoomPage(100);break}}})}}function zI(r){return Sn(r)?"My Expo Project":r.trim()}function HI(r,e){switch(r.Setting.Interaction.Type){case nt.Click:return{onClick:{description:"OnClick",cases:[e]}};case nt.DoubleClick:return{onDoubleClick:{description:"OnDoubleClick",cases:[e]}};case nt.SwipeRight:return{onSwipeRight:{description:"OnSwipeRight",cases:[e]}};case nt.SwipeLeft:return{onSwipeLeft:{description:"OnSwipeLeft",cases:[e]}};case nt.SwipeUp:return{onSwipeUp:{description:"OnSwipeUp",cases:[e]}};case nt.SwipeDown:return{onSwipeDown:{description:"OnSwipeDown",cases:[e]}};default:return null}}function WI(r){switch(r.Type){case Be.PreviousHistoryScreen:case Be.PreviousScreen:case Be.NextScreen:case Be.SetPanelState:return"setPanelState";case Be.PointOnScreen:return"pointOnScreen";case Be.ExternalUrl:return"externalUrl";default:return"none"}}function ef(r,e=!0){switch(r.Easing){case Le.Fade:return"fade";case Le.PushLeft:return e?"slideLeft":"push left";case Le.PushRight:return e?"slideRight":"push right";case Le.SlideLeft:return e?"slideLeft":"slide left";case Le.SlideRight:return e?"slideRight":"slide right";case Le.SlideUp:return e?"slideUp":"slide up";case Le.SlideDown:return e?"slideDown":"slide down";case Le.FlipLeft:return e?"flipLeft":"flip left";case Le.FlipRight:return e?"flipRight":"flip right";case Le.FlipUp:return e?"flipUp":"flip up";case Le.FlipDown:return e?"flipDown":"flip down";case Le.None:default:return"none"}}function jI(r){switch(r.Animation){case Gr.Swing:return"swing";case Gr.Linear:return"linear";case Gr.EaseInCubic:return"easeInCubic";case Gr.EaseOutCubic:return"easeOutCubic";case Gr.EaseInOutCubic:return"easeInOutCubic";case Gr.Bounce:return"bounce";case Gr.Elastic:return"elastic";case Gr.None:default:return"none"}}function VI(r){const e=r.Setting,t=`${ef(e.Interaction.Animation.Out,!1)} out ${e.Interaction.Animation.Out.Duration} ms`,i=`${ef(e.Interaction.Animation.In,!1)} out ${e.Interaction.Animation.Out.Duration} ms`;return`${t} ${i}`}function k0(r){return{easing:ef(r),animation:jI(r),duration:r.Duration}}function UI(r,e,t){if(t.Type===Be.SetPanelState)return t.Setting.TargetArtboardId;switch(t.Type){case Be.PreviousScreen:{const i=Object.values(r).filter(n=>n.NextArtboardId===e.Id);return i.length===0?e.Id:i[0].Id}case Be.NextScreen:return e.NextArtboardId===null||e.NextArtboardId===kc?e.Id:e.NextArtboardId;default:return kc}}function XI(r,e){const t=e+1;return{id:Ht(r.Id),stateNumber:t,label:`State ${t}`,type:"Axure:PanelDiagram",objects:[],style:{},adaptiveStyles:{}}}function GI(r,e,t){return{id:`${Ht(r.Id)}_body`,label:`State ${e+1}: Body DP (Scrollable)`,friendlyType:"Dynamic Panel",parentDynamicPanel:t,panelIndex:e,type:"dynamicPanel",styleType:"dynamicPanel",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},scrollbars:"verticalAsNeeded",fitToContent:!1,propagate:!1,isExpo:!0,headerHeight:r.HasHeader?r.HeaderHeight:0,footerHeight:r.HasFooter?r.FooterHeight:0,diagrams:[]}}function QI(r,e){return{id:`${Ht(r.Id)}_body_pd`,label:`Scroll Panel Diagram for: State ${e+1}`,type:"Axure:PanelDiagram",objects:[]}}function YI(r,e,t){return{id:`${Ht(r.Id)}_header`,label:`State ${e+1}: Header DP`,friendlyType:"Dynamic Panel",parentDynamicPanel:t,panelIndex:e,type:"dynamicPanel",styleType:"dynamicPanel",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},scrollbars:"None",fitToContent:!1,propagate:!1,isExpo:!0,diagrams:[]}}function qI(r,e){return{id:`${Ht(r.Id)}_header_pd`,label:`Header Panel Diagram for: State ${e+1}`,type:"Axure:PanelDiagram",objects:[]}}function KI(r,e,t){return{id:`${Ht(r.Id)}_footer`,label:`State ${e+1}: Footer DP`,friendlyType:"Dynamic Panel",parentDynamicPanel:t,panelIndex:e,type:"dynamicPanel",styleType:"dynamicPanel",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},scrollbars:"None",fitToContent:!1,propagate:!1,isExpo:!0,diagrams:[]}}function ZI(r,e){return{id:`${Ht(r.Id)}_footer_pd`,label:`Footer Panel Diagram for: State ${e+1}`,type:"Axure:PanelDiagram",objects:[]}}function tf(r,e,t=""){return{id:Ht(r.Id)+t,label:"",friendlyType:"Image",parentDynamicPanel:e,panelIndex:0,type:"imageBox",styleType:"imageBox",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},images:{"normal~":""}}}function A0(r,e,t,i,n,s,o,a,l=!1){const c=UI(r,e,t);return{id:Ht(l?`${t.Id}_${e.Id}`:t.Id),label:"",friendlyType:"Hot Spot",parentDynamicPanel:i,panelIndex:0,type:"imageMapRegion",styleType:"imageMapRegion",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},interactionMap:JI(e,t,n,s,c===kc?0:o[c],c,a),tabbable:!0}}function JI(r,e,t,i,n,s,o){let a={};switch(e.Type){case Be.ExternalUrl:a=e2(e,r.Id);break;case Be.PointOnScreen:a=t2(e);break;case Be.PreviousHistoryScreen:case Be.SetPanelState:case Be.NextScreen:case Be.PreviousScreen:default:a=r2(e,n,t,r.Id,s,o);break}return HI(e,{description:`Case ${i}`,conditionString:"",isNewIfGroup:!1,caseColorHex:"13DCD8",actions:[a]})}function e2(r,e){const t=r.Setting,i=`${t.Url} in Parent Frame`;return{action:"linkFrame",description:`Open ${i}`,displayName:"Open Link in Frame",actionInfoDescriptions:{[i]:{[i]:`Open ${i}`}},linkType:"parentFrame",target:{targetType:"webUrl",urlLiteral:{exprType:"stringLiteral",value:t.Url,stos:[]},includeVariables:!1,currArtboardId:e}}}function t2(r){const e=r.Setting,t=e.Location,i=`{x: ${t.X}, y: ${t.Y}} ${e.IsSmoothScroll}`;return{action:"scrollToPosition",description:`Scroll to position ${i}`,displayName:"Scroll to position on screen",actionInfoDescriptions:{[i]:{"":`Scroll to position ${i} on screen`}},linkType:"",target:{position:{x:t.X,y:t.Y},isSmoothScroll:e.IsSmoothScroll},includeVariables:!1}}function P0({Easing:r,Duration:e}){return r===Le.None?0:e}function r2(r,e,t,i,n,s){s.push(n);const{In:o,Out:a}=r.Setting.Interaction.Animation;o.Duration=P0(o),a.Duration=P0(a);const l=VI(r);let c=`Setting artboardId: ${i} to ${n} `;switch(r.Type){case Be.SetPanelState:c=[c,n," (State ",e,")"].join("");break;case Be.PreviousScreen:c+="previous screen";break;case Be.NextScreen:c+="next screen";break;case Be.PreviousHistoryScreen:c="Setting screen to previous screen in history";break}let h="diagram";switch(r.Type){case Be.PreviousScreen:h="previous";break;case Be.NextScreen:h="next";break;case Be.PreviousHistoryScreen:h="previous-history";break}const u={action:WI(r),description:`${c} ${l}`,actionInfoDescriptions:{[c]:{[l]:`${c} ${l}`}},panelsToStates:[{panelPath:[t],stateInfo:{setStateType:h,stateNumber:e,originAbId:i,targetAbId:n,stateValue:{exprType:"stringLiteral",value:"1",stos:[]},loop:!1,showWhenSet:!1,options:{animateIn:k0(r.Setting.Interaction.Animation.In),compress:!1}}}]},f=r.Setting.Interaction.Animation.Out.Easing;return(f===Le.PushLeft||f===Le.PushRight)&&(u.panelsToStates[0].stateInfo.options.animateOut=k0(r.Setting.Interaction.Animation.Out)),u}function i2(r,e,t,i,n,s,o,a){function l(p,g){o[p]={scriptId:`u${g}`}}const c={};let h=0;for(const p of i)c[p]=++h;const u={packageId:YS(),type:"Axure:Page",name:"__ExpoDummyRootPage__",notes:{},style:{baseStyle:"627587b6038d43cca051c114ac41ad32",pageAlignment:"near",fill:{fillType:"solid",color:4294967295},image:null,imageHorizontalAlignment:"near",imageVerticalAlignment:"near",imageRepeat:"auto",favicon:null,sketchFactor:"0",colorStyle:"appliedColor",fontName:"Applied Font",borderWidth:"0"},adaptiveStyles:{},interactionMap:{},diagram:{objects:[]}},f={id:Ht(r),label:"Root Panel",friendlyType:"Dynamic Panel",type:"dynamicPanel",styleType:"dynamicPanel",visible:!0,style:{},adaptiveStyles:{},imageOverrides:{},scrollbars:"None",fitToContent:!1,propagate:!1,isExpo:!0,diagrams:[]};let d=0;l(f.id,d++),h=0;for(const p in t)if(Object.prototype.hasOwnProperty.call(t,p)){const g=t[p],v=n[g.AssetId],y=XI(g,h),S=GI(g,h,f.id),k=QI(g,h),_=tf(v,S.id),T=YI(g,h,f.id),R=qI(g,h),D=tf(v,T.id,"_headerImg"),j=KI(g,h,f.id),M=ZI(g,h),G=tf(v,j.id,"_footerImg");l(S.id,d++),l(_.id,d++),g.HasHeader&&(l(T.id,d++),l(D.id,d++)),g.HasFooter&&(l(j.id,d++),l(G.id,d++)),k.objects.push(_),a[_.id]={children:[],isProcessed:!1},g.HasHeader&&R.objects.push(D),g.HasFooter&&M.objects.push(G);let ie=0;for(const w in g.ActionPool.Actions)if(Object.prototype.hasOwnProperty.call(g.ActionPool.Actions,w)){const C=g.ActionPool.Actions[w],m=A0(t,g,C,S.id,f.id,ie++,c,a[_.id].children);l(m.id,d++),k.objects.push(m)}for(const w in g.MasterIds)if(Object.prototype.hasOwnProperty.call(g.MasterIds,w)){const C=s[g.MasterIds[w]];for(const m in C.Actions)if(Object.prototype.hasOwnProperty.call(C.Actions,m)){const L=C.Actions[m],Y=A0(t,g,L,S.id,f.id,ie++,c,a[_.id].children,!0);l(Y.id,d++),k.objects.push(Y)}}S.diagrams.push(k),g.HasHeader&&T.diagrams.push(R),g.HasFooter&&j.diagrams.push(M),y.objects.push(S),g.HasHeader&&y.objects.push(T),g.HasFooter&&y.objects.push(j),f.diagrams.push(y),++h}return u.diagram.objects.push(f),u}function _0(r,e,t,i,n,s,o,a,l){const c={url:`${zI(e).toLowerCase().replace(/ /g,"_")}.html`,generationDate:new Date,orientation:t.Settings.Orientation,isCanvasEnabled:!1,defaultAdaptiveView:{name:"Base",size:{width:t.Settings.Dimensions.Width,height:t.Settings.Dimensions.Height}},adaptiveViews:[],isAdaptiveEnabled:!1,sketchKeys:{"":"s0"},variables:["OnLoadVariable"],page:i2(r,e,i,n,s,o,a,l),masters:{},objectPaths:{},imgLoadTree:{},isExpo:!0,isExpoWeb:t.Device===ui.Web};return c.objectPaths=a,c.imgLoadTree=l,c}function n2(){return{id:"627587b6038d43cca051c114ac41ad32",fontName:"Ariel",fontWeight:"400",fontStyle:"normal",fontStretch:"5",foreGroundFill:{fillType:"solid",color:4281545523,opacity:1},fontSize:"13px",underline:!1,horizontalAlignment:"center",lineSpacing:"normal",location:{x:0,y:0},size:{height:0,width:0},visible:!0,limbo:!1,baseStyle:"627587b6038d43cca051c114ac41ad32",fill:{fillType:"solid",color:4294967295},borderFill:{fillType:"solid",color:4286151033},borderWidth:"1",linePattern:"solid",opacity:"1",cornerRadius:"0",verticalAlignment:"middle",paddingLeft:"2",paddingTop:"2",paddingRight:"2",paddingBottom:"2",stateStyles:{},rotation:"0",textRotation:"0",outerShadow:{on:!1,offsetX:5,offsetY:5,blurRadius:5,color:{r:0,g:0,b:0,a:.349019607843137}},innerShadow:{on:!1,offsetX:0,offsetY:5,blurRadius:5,color:{r:0,g:0,b:0,a:.349019607843137}},textShadow:{on:!1,offsetX:1,offsetY:1,blurRadius:5,color:{r:0,g:0,b:0,a:.647058823529412}}}}function s2(r,e,t=!0,i=!0){return{showPageNotes:!1,showPageNoteNames:!1,showAnnotations:!1,showAnnotationsSidebar:!1,showConsole:!1,linkStyle:"displayMultipleTargetsOnly",linkFlowsToPages:!0,linkFlowsToPagesNewWindow:!1,hideAddress:!1,preventScroll:!1,useLabels:!1,enabledViewIds:["a"],loadFeedbackPlugin:t,prototypeId:r,isAxshare:!0,isExpo:!0,isMobile:e.Device!==ui.Web,loadSitemap:i,useViews:!0,logoImagePath:"resources/images/axure_logo.png"}}function o2(r){const e=Sn(r)?"My Expo Project":r.trim();return{rootNodes:[{pageName:e,type:"Wireframe",url:`${e.toLowerCase().replace(/ /g,"_")}.html`}]}}function a2(){return{onloadvariable:""}}function l2(r){const e=r!=null?r.Settings.Dimensions:{Width:300,Height:600};return{name:"Base",size:{width:e.Width,height:e.Height},condition:"<="}}function c2(){return[{id:"a",name:"Portrait Phone",size:{height:0,width:320},condition:"<="}]}function h2(){return{defaultStyle:n2(),customStyles:{},duplicateStyles:{}}}function E0(r,e,t,i=!0,n=!0){return{configuration:s2(r,t,i,n),sitemap:o2(e),globalVariables:a2(),defaultAdaptiveView:l2(t),adaptiveViews:c2(),stylesheet:h2(),isLoaded:!1}}class u2{constructor(){A(this,"shortcutKey");A(this,"project");A(this,"idMap");A(this,"isLoaded");A(this,"enableLazyLoading");A(this,"generations");A(this,"docObj");A(this,"dataObj");A(this,"objPaths");A(this,"imgProcessedList");A(this,"imgLoadTree");A(this,"stateHistory");this.shortcutKey="",this.project=void 0,this.idMap={},this.isLoaded=!1,this.enableLazyLoading=!0,this.generations=2,this.docObj=null,this.dataObj=null,this.objPaths=null,this.imgProcessedList=[],this.imgLoadTree=null,this.stateHistory=new Op}setPlayerState(e,t){if(e==null||!this.objPaths)return;const i=this.objPaths[Ht(e.AssetId)];if(!i)return;const n=$(t[0].contentDocument),s=`${i.scriptId}_img`;this.processImgSeed(s,n);const o=t.contents().find(".panel_state[artboardid]"),a=o.filter(":visible"),l=o.filter(`[artboardid="${e.Id}"]`);a.css("visibility","hidden").hide(),l.css("visibility","").show(),window.$axure.messageCenter.postMessage("handleExpoStateChange")}pushHistory(e){this.stateHistory.push(e)}popHistory(){if(!this.project)return null;const e=this.stateHistory.pop();return Sn(e)?null:e}processImgSeed(e,t){this.processImgSeeds([e],t,this.generations)}processImgSeeds(e,t,i){if(!this.imgProcessedList||!this.imgLoadTree||!this.enableLazyLoading)return;const{imgLoadTree:n}=this,{imgProcessedList:s}=this;$.each(e,(a,l)=>{if(!n||!n[l]||n[l].isProcessed)return;const c=t.find(`#${l}`),h=c.attr("_src");h!==void 0&&!Sn(h)&&(c[0].setAttribute("src",h),c.removeAttr("_src"),s.push(l))});let o=i!==void 0?i:this.generations;o--!==0&&$.each(e,(a,l)=>{n&&n&&n[l]&&(this.processImgSeeds(n[l].children,t,o),n[l].isProcessed=!0)})}generatePrototypeAssets(){if(!this.project)return!1;const e={},t={};this.docObj=E0(this.shortcutKey,this.project.name,this.project.platform),this.dataObj=_0(this.project.id,this.project.name,this.project.platform,this.project.artboards,this.project.artboardsOrder,this.project.assets,this.project.masters,e,t),this.objPaths=e,this.imgLoadTree=t,window.$axure&&window.$axure.loadDocument&&(window.$axure.expo||(window.$axure.expo={isExpoPreviewPinsDisabled:hx}),window.$axure.expo.platform=this.project.platform,window.$axure.loadDocument(this.docObj))}previewPrototype(e){if(!this.project)return!1;const t=this.objPaths==null?{}:this.objPaths,i=this.imgLoadTree==null?{}:this.imgLoadTree,n=window.document.getElementById("mainFrame");if(!n)return!1;const s=this.docObj==null?E0(this.shortcutKey,this.project.name,this.project.platform):this.docObj,o=this.dataObj==null?_0(this.project.id,this.project.name,this.project.platform,this.project.artboards,this.project.artboardsOrder,this.project.assets,this.project.masters,t,i):this.dataObj,a="";n&&n.contentDocument&&(n.contentDocument.open(),n.contentDocument.write(""),n.contentDocument.close()),this.processProject(s,o,a,e),this.prepImgTree(i,t,this.project.artboards);const l=this.imgLoadTree,{contentWindow:c}=n;if(l!==null&&Object.keys(l).length&&c){const h=c.document.getElementById("base");this.processImgSeed(Object.keys(l)[0],$(h))}}prepImgTree(e,t,i){const n={};$.each(Object.keys(e),(s,o)=>{const a=`${t[o].scriptId}_img`;n[a]={children:[],isProcessed:!1},$.each(e[o].children,(l,c)=>{!Sn(c)&&i[c]&&n[a].children.push(`${t[Ht(i[c].AssetId)].scriptId}_img`)})}),this.imgLoadTree=n,this.imgProcessedList=[]}processProject(e,t,i,n){const s=$("#mainFrame"),o="resources/scripts/",a="resources/css/",l=["jquery-3.2.1.min.js","axure/jquery.nicescroll.min.js","axure/axQuery.js","axure/axQuery.std.js","axure/utils.temp.js","axutils.js","messagecenter.js","axure/visibility.js","axure/repeater.js","axure/adaptive.js","axure/events.js","axure/recording.js","axure/action.js","axure/expr.js","axure/geometry.js","axure/flyout.js","axure/model.js","axure/sto.js","axure/variables.js","axure/doc.js","axure/drag.js","axure/move.js","axure/style.js","axure/tree.js","axure/init.temp.js","axure/legacy.js","axure/viewer.js","axure/math.js"],c=["axure_rp_page.css"];if(s){const{contentDocument:p}=s[0];p!=null&&(p.open(),p.write(i))}else $("#mainFrame").append(i);const h=(s||$("#mainFrame")).contents().find("head");$.each(l,(p,g)=>{lO(o+g,h[0])}),$.each(c,(p,g)=>{ea(a+g,h[0])});const u=[];if(s){const{contentDocument:p}=s[0];p!=null&&$(p.body).find("#base").find("div, img").each((g,v)=>{u.push(v.id)})}else $("#mainFrame").find("#base").find("div, img").each((p,g)=>{u.push(g.id)});const f=this,d=s?s[0].contentWindow:window;(function p(){if(d!=null&&d.$axure&&d.$axure.loadDoc&&d.$axure.loadDocument&&d.$axure.loadCurrentPage&&d.$axure.initializeObject&&d.$axure.initializeObjectEvents){if(s){const g=s[0].contentDocument;g!==null&&g.close()}d.$axure.loadDoc(e),d.$axure.loadDocument(e),d.$axure.loadCurrentPage(t),d.$axure.initializeObjectEvents(u,null,!0,!0),n!=null&&n(),f.isLoaded=!0}else setTimeout(p,1e3)})()}}/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */var Gt=Object.freeze({}),Oe=Array.isArray;function ve(r){return r==null}function Q(r){return r!=null}function Ye(r){return r===!0}function f2(r){return r===!1}function ho(r){return typeof r=="string"||typeof r=="number"||typeof r=="symbol"||typeof r=="boolean"}function Ge(r){return typeof r=="function"}function Ot(r){return r!==null&&typeof r=="object"}var Al=Object.prototype.toString;function d2(r){return Al.call(r).slice(8,-1)}function Nt(r){return Al.call(r)==="[object Object]"}function p2(r){return Al.call(r)==="[object RegExp]"}function T0(r){var e=parseFloat(String(r));return e>=0&&Math.floor(e)===e&&isFinite(r)}function rf(r){return Q(r)&&typeof r.then=="function"&&typeof r.catch=="function"}function g2(r){return r==null?"":Array.isArray(r)||Nt(r)&&r.toString===Al?JSON.stringify(r,null,2):String(r)}function uo(r){var e=parseFloat(r);return isNaN(e)?r:e}function ur(r,e){for(var t=Object.create(null),i=r.split(","),n=0;n<i.length;n++)t[i[n]]=!0;return e?function(s){return t[s.toLowerCase()]}:function(s){return t[s]}}ur("slot,component",!0);var m2=ur("key,ref,slot,slot-scope,is");function Ii(r,e){var t=r.length;if(t){if(e===r[t-1]){r.length=t-1;return}var i=r.indexOf(e);if(i>-1)return r.splice(i,1)}}var y2=Object.prototype.hasOwnProperty;function Tt(r,e){return y2.call(r,e)}function sn(r){var e=Object.create(null);return function(i){var n=e[i];return n||(e[i]=r(i))}}var v2=/-(\w)/g,on=sn(function(r){return r.replace(v2,function(e,t){return t?t.toUpperCase():""})}),b2=sn(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}),w2=/\B([A-Z])/g,fo=sn(function(r){return r.replace(w2,"-$1").toLowerCase()});function S2(r,e){function t(i){var n=arguments.length;return n?n>1?r.apply(e,arguments):r.call(e,i):r.call(e)}return t._length=r.length,t}function x2(r,e){return r.bind(e)}var I0=Function.prototype.bind?x2:S2;function nf(r,e){e=e||0;for(var t=r.length-e,i=new Array(t);t--;)i[t]=r[t+e];return i}function He(r,e){for(var t in e)r[t]=e[t];return r}function R0(r){for(var e={},t=0;t<r.length;t++)r[t]&&He(e,r[t]);return e}function ut(r,e,t){}var Pl=function(r,e,t){return!1},D0=function(r){return r};function an(r,e){if(r===e)return!0;var t=Ot(r),i=Ot(e);if(t&&i)try{var n=Array.isArray(r),s=Array.isArray(e);if(n&&s)return r.length===e.length&&r.every(function(l,c){return an(l,e[c])});if(r instanceof Date&&e instanceof Date)return r.getTime()===e.getTime();if(!n&&!s){var o=Object.keys(r),a=Object.keys(e);return o.length===a.length&&o.every(function(l){return an(r[l],e[l])})}else return!1}catch{return!1}else return!t&&!i?String(r)===String(e):!1}function $0(r,e){for(var t=0;t<r.length;t++)if(an(r[t],e))return t;return-1}function _l(r){var e=!1;return function(){e||(e=!0,r.apply(this,arguments))}}function O2(r,e){return r===e?r===0&&1/r!==1/e:r===r||e===e}var L0="data-server-rendered",El=["component","directive","filter"],M0=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],tr={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Pl,isReservedAttr:Pl,isUnknownElement:Pl,getTagNamespace:ut,parsePlatformTagName:D0,mustUseProp:Pl,async:!0,_lifecycleHooks:M0},C2=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function B0(r){var e=(r+"").charCodeAt(0);return e===36||e===95}function Ri(r,e,t,i){Object.defineProperty(r,e,{value:t,enumerable:!!i,writable:!0,configurable:!0})}var k2=new RegExp("[^".concat(C2.source,".$_\\d]"));function A2(r){if(!k2.test(r)){var e=r.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}var P2="__proto__"in{},Qt=typeof window<"u",rr=Qt&&window.navigator.userAgent.toLowerCase(),os=rr&&/msie|trident/.test(rr),as=rr&&rr.indexOf("msie 9.0")>0,N0=rr&&rr.indexOf("edge/")>0;rr&&rr.indexOf("android")>0;var _2=rr&&/iphone|ipad|ipod|ios/.test(rr),F0=rr&&rr.match(/firefox\/(\d+)/),sf={}.watch,z0=!1;if(Qt)try{var H0={};Object.defineProperty(H0,"passive",{get:function(){z0=!0}}),window.addEventListener("test-passive",null,H0)}catch{}var Tl,po=function(){return Tl===void 0&&(!Qt&&typeof global<"u"?Tl=global.process&&global.process.env.VUE_ENV==="server":Tl=!1),Tl},Il=Qt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ls(r){return typeof r=="function"&&/native code/.test(r.toString())}var go=typeof Symbol<"u"&&ls(Symbol)&&typeof Reflect<"u"&&ls(Reflect.ownKeys),mo;typeof Set<"u"&&ls(Set)?mo=Set:mo=function(){function r(){this.set=Object.create(null)}return r.prototype.has=function(e){return this.set[e]===!0},r.prototype.add=function(e){this.set[e]=!0},r.prototype.clear=function(){this.set=Object.create(null)},r}();var yo=null;function Di(r){r===void 0&&(r=null),r||yo&&yo._scope.off(),yo=r,r&&r._scope.on()}var Yt=function(){function r(e,t,i,n,s,o,a,l){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=s,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=l,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(r.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),r}(),ln=function(r){r===void 0&&(r="");var e=new Yt;return e.text=r,e.isComment=!0,e};function cs(r){return new Yt(void 0,void 0,void 0,String(r))}function of(r){var e=new Yt(r.tag,r.data,r.children&&r.children.slice(),r.text,r.elm,r.context,r.componentOptions,r.asyncFactory);return e.ns=r.ns,e.isStatic=r.isStatic,e.key=r.key,e.isComment=r.isComment,e.fnContext=r.fnContext,e.fnOptions=r.fnOptions,e.fnScopeId=r.fnScopeId,e.asyncMeta=r.asyncMeta,e.isCloned=!0,e}var E2=0,Rl=[],T2=function(){for(var r=0;r<Rl.length;r++){var e=Rl[r];e.subs=e.subs.filter(function(t){return t}),e._pending=!1}Rl.length=0},$i=function(){function r(){this._pending=!1,this.id=E2++,this.subs=[]}return r.prototype.addSub=function(e){this.subs.push(e)},r.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,Rl.push(this))},r.prototype.depend=function(e){r.target&&r.target.addDep(this)},r.prototype.notify=function(e){for(var t=this.subs.filter(function(o){return o}),i=0,n=t.length;i<n;i++){var s=t[i];s.update()}},r}();$i.target=null;var Dl=[];function hs(r){Dl.push(r),$i.target=r}function us(){Dl.pop(),$i.target=Dl[Dl.length-1]}var W0=Array.prototype,$l=Object.create(W0),I2=["push","pop","shift","unshift","splice","sort","reverse"];I2.forEach(function(r){var e=W0[r];Ri($l,r,function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var s=e.apply(this,i),o=this.__ob__,a;switch(r){case"push":case"unshift":a=i;break;case"splice":a=i.slice(2);break}return a&&o.observeArray(a),o.dep.notify(),s})});var j0=Object.getOwnPropertyNames($l),V0={},af=!0;function Li(r){af=r}var R2={notify:ut,depend:ut,addSub:ut,removeSub:ut},U0=function(){function r(e,t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!1),this.value=e,this.shallow=t,this.mock=i,this.dep=i?R2:new $i,this.vmCount=0,Ri(e,"__ob__",this),Oe(e)){if(!i)if(P2)e.__proto__=$l;else for(var n=0,s=j0.length;n<s;n++){var o=j0[n];Ri(e,o,$l[o])}t||this.observeArray(e)}else for(var a=Object.keys(e),n=0;n<a.length;n++){var o=a[n];cn(e,o,V0,void 0,t,i)}}return r.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Jr(e[t],!1,this.mock)},r}();function Jr(r,e,t){if(r&&Tt(r,"__ob__")&&r.__ob__ instanceof U0)return r.__ob__;if(af&&(t||!po())&&(Oe(r)||Nt(r))&&Object.isExtensible(r)&&!r.__v_skip&&!Fr(r)&&!(r instanceof Yt))return new U0(r,e,t)}function cn(r,e,t,i,n,s){var o=new $i,a=Object.getOwnPropertyDescriptor(r,e);if(!(a&&a.configurable===!1)){var l=a&&a.get,c=a&&a.set;(!l||c)&&(t===V0||arguments.length===2)&&(t=r[e]);var h=!n&&Jr(t,!1,s);return Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:function(){var f=l?l.call(r):t;return $i.target&&(o.depend(),h&&(h.dep.depend(),Oe(f)&&G0(f))),Fr(f)&&!n?f.value:f},set:function(f){var d=l?l.call(r):t;if(O2(d,f)){if(c)c.call(r,f);else{if(l)return;if(!n&&Fr(d)&&!Fr(f)){d.value=f;return}else t=f}h=!n&&Jr(f,!1,s),o.notify()}}}),o}}function lf(r,e,t){if(!cf(r)){var i=r.__ob__;return Oe(r)&&T0(e)?(r.length=Math.max(r.length,e),r.splice(e,1,t),i&&!i.shallow&&i.mock&&Jr(t,!1,!0),t):e in r&&!(e in Object.prototype)?(r[e]=t,t):r._isVue||i&&i.vmCount?t:i?(cn(i.value,e,t,void 0,i.shallow,i.mock),i.dep.notify(),t):(r[e]=t,t)}}function X0(r,e){if(Oe(r)&&T0(e)){r.splice(e,1);return}var t=r.__ob__;r._isVue||t&&t.vmCount||cf(r)||Tt(r,e)&&(delete r[e],t&&t.dep.notify())}function G0(r){for(var e=void 0,t=0,i=r.length;t<i;t++)e=r[t],e&&e.__ob__&&e.__ob__.dep.depend(),Oe(e)&&G0(e)}function Q0(r){return D2(r,!0),Ri(r,"__v_isShallow",!0),r}function D2(r,e){cf(r)||Jr(r,e,po())}function cf(r){return!!(r&&r.__v_isReadonly)}function Fr(r){return!!(r&&r.__v_isRef===!0)}function hf(r,e,t){Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:function(){var i=e[t];if(Fr(i))return i.value;var n=i&&i.__ob__;return n&&n.dep.depend(),i},set:function(i){var n=e[t];Fr(n)&&!Fr(i)?n.value=i:e[t]=i}})}var qt,$2=function(){function r(e){e===void 0&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=qt,!e&&qt&&(this.index=(qt.scopes||(qt.scopes=[])).push(this)-1)}return r.prototype.run=function(e){if(this.active){var t=qt;try{return qt=this,e()}finally{qt=t}}},r.prototype.on=function(){qt=this},r.prototype.off=function(){qt=this.parent},r.prototype.stop=function(e){if(this.active){var t=void 0,i=void 0;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].teardown();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this.active=!1}},r}();function L2(r,e){e===void 0&&(e=qt),e&&e.active&&e.effects.push(r)}function M2(r){var e=r._provided,t=r.$parent&&r.$parent._provided;return t===e?r._provided=Object.create(t):e}var Y0=sn(function(r){var e=r.charAt(0)==="&";r=e?r.slice(1):r;var t=r.charAt(0)==="~";r=t?r.slice(1):r;var i=r.charAt(0)==="!";return r=i?r.slice(1):r,{name:r,once:t,capture:i,passive:e}});function uf(r,e){function t(){var i=t.fns;if(Oe(i))for(var n=i.slice(),s=0;s<n.length;s++)Bi(n[s],null,arguments,e,"v-on handler");else return Bi(i,null,arguments,e,"v-on handler")}return t.fns=r,t}function q0(r,e,t,i,n,s){var o,a,l,c;for(o in r)a=r[o],l=e[o],c=Y0(o),ve(a)||(ve(l)?(ve(a.fns)&&(a=r[o]=uf(a,s)),Ye(c.once)&&(a=r[o]=n(c.name,a,c.capture)),t(c.name,a,c.capture,c.passive,c.params)):a!==l&&(l.fns=a,r[o]=l));for(o in e)ve(r[o])&&(c=Y0(o),i(c.name,e[o],c.capture))}function Mi(r,e,t){r instanceof Yt&&(r=r.data.hook||(r.data.hook={}));var i,n=r[e];function s(){t.apply(this,arguments),Ii(i.fns,s)}ve(n)?i=uf([s]):Q(n.fns)&&Ye(n.merged)?(i=n,i.fns.push(s)):i=uf([n,s]),i.merged=!0,r[e]=i}function B2(r,e,t){var i=e.options.props;if(!ve(i)){var n={},s=r.attrs,o=r.props;if(Q(s)||Q(o))for(var a in i){var l=fo(a);K0(n,o,a,l,!0)||K0(n,s,a,l,!1)}return n}}function K0(r,e,t,i,n){if(Q(e)){if(Tt(e,t))return r[t]=e[t],n||delete e[t],!0;if(Tt(e,i))return r[t]=e[i],n||delete e[i],!0}return!1}function N2(r){for(var e=0;e<r.length;e++)if(Oe(r[e]))return Array.prototype.concat.apply([],r);return r}function ff(r){return ho(r)?[cs(r)]:Oe(r)?Z0(r):void 0}function vo(r){return Q(r)&&Q(r.text)&&f2(r.isComment)}function Z0(r,e){var t=[],i,n,s,o;for(i=0;i<r.length;i++)n=r[i],!(ve(n)||typeof n=="boolean")&&(s=t.length-1,o=t[s],Oe(n)?n.length>0&&(n=Z0(n,"".concat(e||"","_").concat(i)),vo(n[0])&&vo(o)&&(t[s]=cs(o.text+n[0].text),n.shift()),t.push.apply(t,n)):ho(n)?vo(o)?t[s]=cs(o.text+n):n!==""&&t.push(cs(n)):vo(n)&&vo(o)?t[s]=cs(o.text+n.text):(Ye(r._isVList)&&Q(n.tag)&&ve(n.key)&&Q(e)&&(n.key="__vlist".concat(e,"_").concat(i,"__")),t.push(n)));return t}function F2(r,e){var t=null,i,n,s,o;if(Oe(r)||typeof r=="string")for(t=new Array(r.length),i=0,n=r.length;i<n;i++)t[i]=e(r[i],i);else if(typeof r=="number")for(t=new Array(r),i=0;i<r;i++)t[i]=e(i+1,i);else if(Ot(r))if(go&&r[Symbol.iterator]){t=[];for(var a=r[Symbol.iterator](),l=a.next();!l.done;)t.push(e(l.value,t.length)),l=a.next()}else for(s=Object.keys(r),t=new Array(s.length),i=0,n=s.length;i<n;i++)o=s[i],t[i]=e(r[o],o,i);return Q(t)||(t=[]),t._isVList=!0,t}function z2(r,e,t,i){var n=this.$scopedSlots[r],s;n?(t=t||{},i&&(t=He(He({},i),t)),s=n(t)||(Ge(e)?e():e)):s=this.$slots[r]||(Ge(e)?e():e);var o=t&&t.slot;return o?this.$createElement("template",{slot:o},s):s}function H2(r){return jl(this.$options,"filters",r)||D0}function J0(r,e){return Oe(r)?r.indexOf(e)===-1:r!==e}function W2(r,e,t,i,n){var s=tr.keyCodes[e]||t;return n&&i&&!tr.keyCodes[e]?J0(n,i):s?J0(s,r):i?fo(i)!==e:r===void 0}function j2(r,e,t,i,n){if(t&&Ot(t)){Oe(t)&&(t=R0(t));var s=void 0,o=function(l){if(l==="class"||l==="style"||m2(l))s=r;else{var c=r.attrs&&r.attrs.type;s=i||tr.mustUseProp(e,c,l)?r.domProps||(r.domProps={}):r.attrs||(r.attrs={})}var h=on(l),u=fo(l);if(!(h in s)&&!(u in s)&&(s[l]=t[l],n)){var f=r.on||(r.on={});f["update:".concat(l)]=function(d){t[l]=d}}};for(var a in t)o(a)}return r}function V2(r,e){var t=this._staticTrees||(this._staticTrees=[]),i=t[r];return i&&!e||(i=t[r]=this.$options.staticRenderFns[r].call(this._renderProxy,this._c,this),eb(i,"__static__".concat(r),!1)),i}function U2(r,e,t){return eb(r,"__once__".concat(e).concat(t?"_".concat(t):""),!0),r}function eb(r,e,t){if(Oe(r))for(var i=0;i<r.length;i++)r[i]&&typeof r[i]!="string"&&tb(r[i],"".concat(e,"_").concat(i),t);else tb(r,e,t)}function tb(r,e,t){r.isStatic=!0,r.key=e,r.isOnce=t}function X2(r,e){if(e&&Nt(e)){var t=r.on=r.on?He({},r.on):{};for(var i in e){var n=t[i],s=e[i];t[i]=n?[].concat(n,s):s}}return r}function rb(r,e,t,i){e=e||{$stable:!t};for(var n=0;n<r.length;n++){var s=r[n];Oe(s)?rb(s,e,t):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return i&&(e.$key=i),e}function G2(r,e){for(var t=0;t<e.length;t+=2){var i=e[t];typeof i=="string"&&i&&(r[e[t]]=e[t+1])}return r}function Q2(r,e){return typeof r=="string"?e+r:r}function ib(r){r._o=U2,r._n=uo,r._s=g2,r._l=F2,r._t=z2,r._q=an,r._i=$0,r._m=V2,r._f=H2,r._k=W2,r._b=j2,r._v=cs,r._e=ln,r._u=rb,r._g=X2,r._d=G2,r._p=Q2}function df(r,e){if(!r||!r.length)return{};for(var t={},i=0,n=r.length;i<n;i++){var s=r[i],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,(s.context===e||s.fnContext===e)&&o&&o.slot!=null){var a=o.slot,l=t[a]||(t[a]=[]);s.tag==="template"?l.push.apply(l,s.children||[]):l.push(s)}else(t.default||(t.default=[])).push(s)}for(var c in t)t[c].every(Y2)&&delete t[c];return t}function Y2(r){return r.isComment&&!r.asyncFactory||r.text===" "}function bo(r){return r.isComment&&r.asyncFactory}function wo(r,e,t,i){var n,s=Object.keys(t).length>0,o=e?!!e.$stable:!s,a=e&&e.$key;if(!e)n={};else{if(e._normalized)return e._normalized;if(o&&i&&i!==Gt&&a===i.$key&&!s&&!i.$hasNormal)return i;n={};for(var l in e)e[l]&&l[0]!=="$"&&(n[l]=q2(r,t,l,e[l]))}for(var c in t)c in n||(n[c]=K2(t,c));return e&&Object.isExtensible(e)&&(e._normalized=n),Ri(n,"$stable",o),Ri(n,"$key",a),Ri(n,"$hasNormal",s),n}function q2(r,e,t,i){var n=function(){var s=yo;Di(r);var o=arguments.length?i.apply(null,arguments):i({});o=o&&typeof o=="object"&&!Oe(o)?[o]:ff(o);var a=o&&o[0];return Di(s),o&&(!a||o.length===1&&a.isComment&&!bo(a))?void 0:o};return i.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}function K2(r,e){return function(){return r[e]}}function Z2(r){var e=r.$options,t=e.setup;if(t){var i=r._setupContext=J2(r);Di(r),hs();var n=Bi(t,null,[r._props||Q0({}),i],r,"setup");if(us(),Di(),Ge(n))e.render=n;else if(Ot(n))if(r._setupState=n,n.__sfc){var o=r._setupProxy={};for(var s in n)s!=="__sfc"&&hf(o,n,s)}else for(var s in n)B0(s)||hf(r,n,s)}}function J2(r){return{get attrs(){if(!r._attrsProxy){var e=r._attrsProxy={};Ri(e,"_v_attr_proxy",!0),Ll(e,r.$attrs,Gt,r,"$attrs")}return r._attrsProxy},get listeners(){if(!r._listenersProxy){var e=r._listenersProxy={};Ll(e,r.$listeners,Gt,r,"$listeners")}return r._listenersProxy},get slots(){return tR(r)},emit:I0(r.$emit,r),expose:function(e){e&&Object.keys(e).forEach(function(t){return hf(r,e,t)})}}}function Ll(r,e,t,i,n){var s=!1;for(var o in e)o in r?e[o]!==t[o]&&(s=!0):(s=!0,eR(r,o,i,n));for(var o in r)o in e||(s=!0,delete r[o]);return s}function eR(r,e,t,i){Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:function(){return t[i][e]}})}function tR(r){return r._slotsProxy||nb(r._slotsProxy={},r.$scopedSlots),r._slotsProxy}function nb(r,e){for(var t in e)r[t]=e[t];for(var t in r)t in e||delete r[t]}function rR(r){r._vnode=null,r._staticTrees=null;var e=r.$options,t=r.$vnode=e._parentVnode,i=t&&t.context;r.$slots=df(e._renderChildren,i),r.$scopedSlots=t?wo(r.$parent,t.data.scopedSlots,r.$slots):Gt,r._c=function(s,o,a,l){return Ml(r,s,o,a,l,!1)},r.$createElement=function(s,o,a,l){return Ml(r,s,o,a,l,!0)};var n=t&&t.data;cn(r,"$attrs",n&&n.attrs||Gt,null,!0),cn(r,"$listeners",e._parentListeners||Gt,null,!0)}var pf=null;function iR(r){ib(r.prototype),r.prototype.$nextTick=function(e){return bf(e,this)},r.prototype._render=function(){var e=this,t=e.$options,i=t.render,n=t._parentVnode;n&&e._isMounted&&(e.$scopedSlots=wo(e.$parent,n.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&nb(e._slotsProxy,e.$scopedSlots)),e.$vnode=n;var s;try{Di(e),pf=e,s=i.call(e._renderProxy,e.$createElement)}catch(o){hn(o,e,"render"),s=e._vnode}finally{pf=null,Di()}return Oe(s)&&s.length===1&&(s=s[0]),s instanceof Yt||(s=ln()),s.parent=n,s}}function gf(r,e){return(r.__esModule||go&&r[Symbol.toStringTag]==="Module")&&(r=r.default),Ot(r)?e.extend(r):r}function nR(r,e,t,i,n){var s=ln();return s.asyncFactory=r,s.asyncMeta={data:e,context:t,children:i,tag:n},s}function sR(r,e){if(Ye(r.error)&&Q(r.errorComp))return r.errorComp;if(Q(r.resolved))return r.resolved;var t=pf;if(t&&Q(r.owners)&&r.owners.indexOf(t)===-1&&r.owners.push(t),Ye(r.loading)&&Q(r.loadingComp))return r.loadingComp;if(t&&!Q(r.owners)){var i=r.owners=[t],n=!0,s=null,o=null;t.$on("hook:destroyed",function(){return Ii(i,t)});var a=function(u){for(var f=0,d=i.length;f<d;f++)i[f].$forceUpdate();u&&(i.length=0,s!==null&&(clearTimeout(s),s=null),o!==null&&(clearTimeout(o),o=null))},l=_l(function(u){r.resolved=gf(u,e),n?i.length=0:a(!0)}),c=_l(function(u){Q(r.errorComp)&&(r.error=!0,a(!0))}),h=r(l,c);return Ot(h)&&(rf(h)?ve(r.resolved)&&h.then(l,c):rf(h.component)&&(h.component.then(l,c),Q(h.error)&&(r.errorComp=gf(h.error,e)),Q(h.loading)&&(r.loadingComp=gf(h.loading,e),h.delay===0?r.loading=!0:s=setTimeout(function(){s=null,ve(r.resolved)&&ve(r.error)&&(r.loading=!0,a(!1))},h.delay||200)),Q(h.timeout)&&(o=setTimeout(function(){o=null,ve(r.resolved)&&c(null)},h.timeout)))),n=!1,r.loading?r.loadingComp:r.resolved}}function sb(r){if(Oe(r))for(var e=0;e<r.length;e++){var t=r[e];if(Q(t)&&(Q(t.componentOptions)||bo(t)))return t}}var oR=1,ob=2;function Ml(r,e,t,i,n,s){return(Oe(t)||ho(t))&&(n=i,i=t,t=void 0),Ye(s)&&(n=ob),aR(r,e,t,i,n)}function aR(r,e,t,i,n){if(Q(t)&&Q(t.__ob__)||(Q(t)&&Q(t.is)&&(e=t.is),!e))return ln();Oe(i)&&Ge(i[0])&&(t=t||{},t.scopedSlots={default:i[0]},i.length=0),n===ob?i=ff(i):n===oR&&(i=N2(i));var s,o;if(typeof e=="string"){var a=void 0;o=r.$vnode&&r.$vnode.ns||tr.getTagNamespace(e),tr.isReservedTag(e)?s=new Yt(tr.parsePlatformTagName(e),t,i,void 0,void 0,r):(!t||!t.pre)&&Q(a=jl(r.$options,"components",e))?s=Sb(a,t,r,i,e):s=new Yt(e,t,i,void 0,void 0,r)}else s=Sb(e,t,r,i);return Oe(s)?s:Q(s)?(Q(o)&&ab(s,o),Q(t)&&lR(t),s):ln()}function ab(r,e,t){if(r.ns=e,r.tag==="foreignObject"&&(e=void 0,t=!0),Q(r.children))for(var i=0,n=r.children.length;i<n;i++){var s=r.children[i];Q(s.tag)&&(ve(s.ns)||Ye(t)&&s.tag!=="svg")&&ab(s,e,t)}}function lR(r){Ot(r.style)&&Fl(r.style),Ot(r.class)&&Fl(r.class)}function hn(r,e,t){hs();try{if(e)for(var i=e;i=i.$parent;){var n=i.$options.errorCaptured;if(n)for(var s=0;s<n.length;s++)try{var o=n[s].call(i,r,e,t)===!1;if(o)return}catch(a){lb(a,i,"errorCaptured hook")}}lb(r,e,t)}finally{us()}}function Bi(r,e,t,i,n){var s;try{s=t?r.apply(e,t):r.call(e),s&&!s._isVue&&rf(s)&&!s._handled&&(s.catch(function(o){return hn(o,i,n+" (Promise/async)")}),s._handled=!0)}catch(o){hn(o,i,n)}return s}function lb(r,e,t){if(tr.errorHandler)try{return tr.errorHandler.call(null,r,e,t)}catch(i){i!==r&&cb(i)}cb(r)}function cb(r,e,t){if(Qt&&typeof console<"u")console.error(r);else throw r}var mf=!1,yf=[],vf=!1;function Bl(){vf=!1;var r=yf.slice(0);yf.length=0;for(var e=0;e<r.length;e++)r[e]()}var So;if(typeof Promise<"u"&&ls(Promise)){var cR=Promise.resolve();So=function(){cR.then(Bl),_2&&setTimeout(ut)},mf=!0}else if(!os&&typeof MutationObserver<"u"&&(ls(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var Nl=1,hR=new MutationObserver(Bl),hb=document.createTextNode(String(Nl));hR.observe(hb,{characterData:!0}),So=function(){Nl=(Nl+1)%2,hb.data=String(Nl)},mf=!0}else typeof setImmediate<"u"&&ls(setImmediate)?So=function(){setImmediate(Bl)}:So=function(){setTimeout(Bl,0)};function bf(r,e){var t;if(yf.push(function(){if(r)try{r.call(e)}catch(i){hn(i,e,"nextTick")}else t&&t(e)}),vf||(vf=!0,So()),!r&&typeof Promise<"u")return new Promise(function(i){t=i})}var uR="2.7.14",ub=new mo;function Fl(r){return zl(r,ub),ub.clear(),r}function zl(r,e){var t,i,n=Oe(r);if(!(!n&&!Ot(r)||r.__v_skip||Object.isFrozen(r)||r instanceof Yt)){if(r.__ob__){var s=r.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(n)for(t=r.length;t--;)zl(r[t],e);else if(Fr(r))zl(r.value,e);else for(i=Object.keys(r),t=i.length;t--;)zl(r[i[t]],e)}}var fR=0,wf=function(){function r(e,t,i,n,s){L2(this,qt&&!qt._vm?qt:e?e._scope:void 0),(this.vm=e)&&s&&(e._watcher=this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++fR,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new mo,this.newDepIds=new mo,this.expression="",Ge(t)?this.getter=t:(this.getter=A2(t),this.getter||(this.getter=ut)),this.value=this.lazy?void 0:this.get()}return r.prototype.get=function(){hs(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(i){if(this.user)hn(i,t,'getter for watcher "'.concat(this.expression,'"'));else throw i}finally{this.deep&&Fl(e),us(),this.cleanupDeps()}return e},r.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},r.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},r.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():_R(this)},r.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||Ot(e)||this.deep){var t=this.value;if(this.value=e,this.user){var i='callback for watcher "'.concat(this.expression,'"');Bi(this.cb,this.vm,[e,t],this.vm,i)}else this.cb.call(this.vm,e,t)}}},r.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},r.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},r.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&Ii(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},r}();function dR(r){r._events=Object.create(null),r._hasHookEvent=!1;var e=r.$options._parentListeners;e&&fb(r,e)}var xo;function pR(r,e){xo.$on(r,e)}function gR(r,e){xo.$off(r,e)}function mR(r,e){var t=xo;return function i(){var n=e.apply(null,arguments);n!==null&&t.$off(r,i)}}function fb(r,e,t){xo=r,q0(e,t||{},pR,gR,mR,r),xo=void 0}function yR(r){var e=/^hook:/;r.prototype.$on=function(t,i){var n=this;if(Oe(t))for(var s=0,o=t.length;s<o;s++)n.$on(t[s],i);else(n._events[t]||(n._events[t]=[])).push(i),e.test(t)&&(n._hasHookEvent=!0);return n},r.prototype.$once=function(t,i){var n=this;function s(){n.$off(t,s),i.apply(n,arguments)}return s.fn=i,n.$on(t,s),n},r.prototype.$off=function(t,i){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Oe(t)){for(var s=0,o=t.length;s<o;s++)n.$off(t[s],i);return n}var a=n._events[t];if(!a)return n;if(!i)return n._events[t]=null,n;for(var l,c=a.length;c--;)if(l=a[c],l===i||l.fn===i){a.splice(c,1);break}return n},r.prototype.$emit=function(t){var i=this,n=i._events[t];if(n){n=n.length>1?nf(n):n;for(var s=nf(arguments,1),o='event handler for "'.concat(t,'"'),a=0,l=n.length;a<l;a++)Bi(n[a],i,s,i,o)}return i}}var un=null;function db(r){var e=un;return un=r,function(){un=e}}function vR(r){var e=r.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(r)}r.$parent=t,r.$root=t?t.$root:r,r.$children=[],r.$refs={},r._provided=t?t._provided:Object.create(null),r._watcher=null,r._inactive=null,r._directInactive=!1,r._isMounted=!1,r._isDestroyed=!1,r._isBeingDestroyed=!1}function bR(r){r.prototype._update=function(e,t){var i=this,n=i.$el,s=i._vnode,o=db(i);i._vnode=e,s?i.$el=i.__patch__(s,e):i.$el=i.__patch__(i.$el,e,t,!1),o(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i);for(var a=i;a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode;)a.$parent.$el=a.$el,a=a.$parent},r.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},r.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){fr(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;t&&!t._isBeingDestroyed&&!e.$options.abstract&&Ii(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),fr(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function wR(r,e,t){r.$el=e,r.$options.render||(r.$options.render=ln),fr(r,"beforeMount");var i;i=function(){r._update(r._render(),t)};var n={before:function(){r._isMounted&&!r._isDestroyed&&fr(r,"beforeUpdate")}};new wf(r,i,ut,n,!0),t=!1;var s=r._preWatchers;if(s)for(var o=0;o<s.length;o++)s[o].run();return r.$vnode==null&&(r._isMounted=!0,fr(r,"mounted")),r}function SR(r,e,t,i,n){var s=i.data.scopedSlots,o=r.$scopedSlots,a=!!(s&&!s.$stable||o!==Gt&&!o.$stable||s&&r.$scopedSlots.$key!==s.$key||!s&&r.$scopedSlots.$key),l=!!(n||r.$options._renderChildren||a),c=r.$vnode;r.$options._parentVnode=i,r.$vnode=i,r._vnode&&(r._vnode.parent=i),r.$options._renderChildren=n;var h=i.data.attrs||Gt;r._attrsProxy&&Ll(r._attrsProxy,h,c.data&&c.data.attrs||Gt,r,"$attrs")&&(l=!0),r.$attrs=h,t=t||Gt;var u=r.$options._parentListeners;if(r._listenersProxy&&Ll(r._listenersProxy,t,u||Gt,r,"$listeners"),r.$listeners=r.$options._parentListeners=t,fb(r,t,u),e&&r.$options.props){Li(!1);for(var f=r._props,d=r.$options._propKeys||[],p=0;p<d.length;p++){var g=d[p],v=r.$options.props;f[g]=Ef(g,v,e,r)}Li(!0),r.$options.propsData=e}l&&(r.$slots=df(n,i.context),r.$forceUpdate())}function pb(r){for(;r&&(r=r.$parent);)if(r._inactive)return!0;return!1}function Sf(r,e){if(e){if(r._directInactive=!1,pb(r))return}else if(r._directInactive)return;if(r._inactive||r._inactive===null){r._inactive=!1;for(var t=0;t<r.$children.length;t++)Sf(r.$children[t]);fr(r,"activated")}}function gb(r,e){if(!(e&&(r._directInactive=!0,pb(r)))&&!r._inactive){r._inactive=!0;for(var t=0;t<r.$children.length;t++)gb(r.$children[t]);fr(r,"deactivated")}}function fr(r,e,t,i){i===void 0&&(i=!0),hs();var n=yo;i&&Di(r);var s=r.$options[e],o="".concat(e," hook");if(s)for(var a=0,l=s.length;a<l;a++)Bi(s[a],r,t||null,r,o);r._hasHookEvent&&r.$emit("hook:"+e),i&&Di(n),us()}var ei=[],xf=[],Hl={},Of=!1,Cf=!1,fs=0;function xR(){fs=ei.length=xf.length=0,Hl={},Of=Cf=!1}var mb=0,kf=Date.now;if(Qt&&!os){var Af=window.performance;Af&&typeof Af.now=="function"&&kf()>document.createEvent("Event").timeStamp&&(kf=function(){return Af.now()})}var OR=function(r,e){if(r.post){if(!e.post)return 1}else if(e.post)return-1;return r.id-e.id};function CR(){mb=kf(),Cf=!0;var r,e;for(ei.sort(OR),fs=0;fs<ei.length;fs++)r=ei[fs],r.before&&r.before(),e=r.id,Hl[e]=null,r.run();var t=xf.slice(),i=ei.slice();xR(),PR(t),kR(i),T2(),Il&&tr.devtools&&Il.emit("flush")}function kR(r){for(var e=r.length;e--;){var t=r[e],i=t.vm;i&&i._watcher===t&&i._isMounted&&!i._isDestroyed&&fr(i,"updated")}}function AR(r){r._inactive=!1,xf.push(r)}function PR(r){for(var e=0;e<r.length;e++)r[e]._inactive=!0,Sf(r[e],!0)}function _R(r){var e=r.id;if(Hl[e]==null&&!(r===$i.target&&r.noRecurse)){if(Hl[e]=!0,!Cf)ei.push(r);else{for(var t=ei.length-1;t>fs&&ei[t].id>r.id;)t--;ei.splice(t+1,0,r)}Of||(Of=!0,bf(CR))}}function ER(r){var e=r.$options.provide;if(e){var t=Ge(e)?e.call(r):e;if(!Ot(t))return;for(var i=M2(r),n=go?Reflect.ownKeys(t):Object.keys(t),s=0;s<n.length;s++){var o=n[s];Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(t,o))}}}function TR(r){var e=yb(r.$options.inject,r);e&&(Li(!1),Object.keys(e).forEach(function(t){cn(r,t,e[t])}),Li(!0))}function yb(r,e){if(r){for(var t=Object.create(null),i=go?Reflect.ownKeys(r):Object.keys(r),n=0;n<i.length;n++){var s=i[n];if(s!=="__ob__"){var o=r[s].from;if(o in e._provided)t[s]=e._provided[o];else if("default"in r[s]){var a=r[s].default;t[s]=Ge(a)?a.call(e):a}}}return t}}function Pf(r,e,t,i,n){var s=this,o=n.options,a;Tt(i,"_uid")?(a=Object.create(i),a._original=i):(a=i,i=i._original);var l=Ye(o._compiled),c=!l;this.data=r,this.props=e,this.children=t,this.parent=i,this.listeners=r.on||Gt,this.injections=yb(o.inject,i),this.slots=function(){return s.$slots||wo(i,r.scopedSlots,s.$slots=df(t,i)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return wo(i,r.scopedSlots,this.slots())}}),l&&(this.$options=o,this.$slots=this.slots(),this.$scopedSlots=wo(i,r.scopedSlots,this.$slots)),o._scopeId?this._c=function(h,u,f,d){var p=Ml(a,h,u,f,d,c);return p&&!Oe(p)&&(p.fnScopeId=o._scopeId,p.fnContext=i),p}:this._c=function(h,u,f,d){return Ml(a,h,u,f,d,c)}}ib(Pf.prototype);function IR(r,e,t,i,n){var s=r.options,o={},a=s.props;if(Q(a))for(var l in a)o[l]=Ef(l,a,e||Gt);else Q(t.attrs)&&bb(o,t.attrs),Q(t.props)&&bb(o,t.props);var c=new Pf(t,o,n,i,r),h=s.render.call(null,c._c,c);if(h instanceof Yt)return vb(h,t,c.parent,s);if(Oe(h)){for(var u=ff(h)||[],f=new Array(u.length),d=0;d<u.length;d++)f[d]=vb(u[d],t,c.parent,s);return f}}function vb(r,e,t,i,n){var s=of(r);return s.fnContext=t,s.fnOptions=i,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function bb(r,e){for(var t in e)r[on(t)]=e[t]}function Wl(r){return r.name||r.__name||r._componentTag}var _f={init:function(r,e){if(r.componentInstance&&!r.componentInstance._isDestroyed&&r.data.keepAlive){var t=r;_f.prepatch(t,t)}else{var i=r.componentInstance=RR(r,un);i.$mount(e?r.elm:void 0,e)}},prepatch:function(r,e){var t=e.componentOptions,i=e.componentInstance=r.componentInstance;SR(i,t.propsData,t.listeners,e,t.children)},insert:function(r){var e=r.context,t=r.componentInstance;t._isMounted||(t._isMounted=!0,fr(t,"mounted")),r.data.keepAlive&&(e._isMounted?AR(t):Sf(t,!0))},destroy:function(r){var e=r.componentInstance;e._isDestroyed||(r.data.keepAlive?gb(e,!0):e.$destroy())}},wb=Object.keys(_f);function Sb(r,e,t,i,n){if(!ve(r)){var s=t.$options._base;if(Ot(r)&&(r=s.extend(r)),typeof r=="function"){var o;if(ve(r.cid)&&(o=r,r=sR(o,s),r===void 0))return nR(o,e,t,i,n);e=e||{},Df(r),Q(e.model)&&LR(r.options,e);var a=B2(e,r);if(Ye(r.options.functional))return IR(r,a,e,t,i);var l=e.on;if(e.on=e.nativeOn,Ye(r.options.abstract)){var c=e.slot;e={},c&&(e.slot=c)}DR(e);var h=Wl(r.options)||n,u=new Yt("vue-component-".concat(r.cid).concat(h?"-".concat(h):""),e,void 0,void 0,void 0,t,{Ctor:r,propsData:a,listeners:l,tag:n,children:i},o);return u}}}function RR(r,e){var t={_isComponent:!0,_parentVnode:r,parent:e},i=r.data.inlineTemplate;return Q(i)&&(t.render=i.render,t.staticRenderFns=i.staticRenderFns),new r.componentOptions.Ctor(t)}function DR(r){for(var e=r.hook||(r.hook={}),t=0;t<wb.length;t++){var i=wb[t],n=e[i],s=_f[i];n!==s&&!(n&&n._merged)&&(e[i]=n?$R(s,n):s)}}function $R(r,e){var t=function(i,n){r(i,n),e(i,n)};return t._merged=!0,t}function LR(r,e){var t=r.model&&r.model.prop||"value",i=r.model&&r.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var n=e.on||(e.on={}),s=n[i],o=e.model.callback;Q(s)?(Oe(s)?s.indexOf(o)===-1:s!==o)&&(n[i]=[o].concat(s)):n[i]=o}var xb=ut,zr=tr.optionMergeStrategies;function Oo(r,e,t){if(t===void 0&&(t=!0),!e)return r;for(var i,n,s,o=go?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)i=o[a],i!=="__ob__"&&(n=r[i],s=e[i],!t||!Tt(r,i)?lf(r,i,s):n!==s&&Nt(n)&&Nt(s)&&Oo(n,s));return r}function Ob(r,e,t){return t?function(){var n=Ge(e)?e.call(t,t):e,s=Ge(r)?r.call(t,t):r;return n?Oo(n,s):s}:e?r?function(){return Oo(Ge(e)?e.call(this,this):e,Ge(r)?r.call(this,this):r)}:e:r}zr.data=function(r,e,t){return t?Ob(r,e,t):e&&typeof e!="function"?r:Ob(r,e)};function MR(r,e){var t=e?r?r.concat(e):Oe(e)?e:[e]:r;return t&&BR(t)}function BR(r){for(var e=[],t=0;t<r.length;t++)e.indexOf(r[t])===-1&&e.push(r[t]);return e}M0.forEach(function(r){zr[r]=MR});function NR(r,e,t,i){var n=Object.create(r||null);return e?He(n,e):n}El.forEach(function(r){zr[r+"s"]=NR}),zr.watch=function(r,e,t,i){if(r===sf&&(r=void 0),e===sf&&(e=void 0),!e)return Object.create(r||null);if(!r)return e;var n={};He(n,r);for(var s in e){var o=n[s],a=e[s];o&&!Oe(o)&&(o=[o]),n[s]=o?o.concat(a):Oe(a)?a:[a]}return n},zr.props=zr.methods=zr.inject=zr.computed=function(r,e,t,i){if(!r)return e;var n=Object.create(null);return He(n,r),e&&He(n,e),n},zr.provide=function(r,e){return r?function(){var t=Object.create(null);return Oo(t,Ge(r)?r.call(this):r),e&&Oo(t,Ge(e)?e.call(this):e,!1),t}:e};var FR=function(r,e){return e===void 0?r:e};function zR(r,e){var t=r.props;if(t){var i={},n,s,o;if(Oe(t))for(n=t.length;n--;)s=t[n],typeof s=="string"&&(o=on(s),i[o]={type:null});else if(Nt(t))for(var a in t)s=t[a],o=on(a),i[o]=Nt(s)?s:{type:s};r.props=i}}function HR(r,e){var t=r.inject;if(t){var i=r.inject={};if(Oe(t))for(var n=0;n<t.length;n++)i[t[n]]={from:t[n]};else if(Nt(t))for(var s in t){var o=t[s];i[s]=Nt(o)?He({from:s},o):{from:o}}}}function WR(r){var e=r.directives;if(e)for(var t in e){var i=e[t];Ge(i)&&(e[t]={bind:i,update:i})}}function sN(r,e,t){Nt(e)||xb('Invalid value for option "'.concat(r,'": expected an Object, ')+"but got ".concat(d2(e),"."))}function fn(r,e,t){if(Ge(e)&&(e=e.options),zR(e),HR(e),WR(e),!e._base&&(e.extends&&(r=fn(r,e.extends,t)),e.mixins))for(var i=0,n=e.mixins.length;i<n;i++)r=fn(r,e.mixins[i],t);var s={},o;for(o in r)a(o);for(o in e)Tt(r,o)||a(o);function a(l){var c=zr[l]||FR;s[l]=c(r[l],e[l],t,l)}return s}function jl(r,e,t,i){if(typeof t=="string"){var n=r[e];if(Tt(n,t))return n[t];var s=on(t);if(Tt(n,s))return n[s];var o=b2(s);if(Tt(n,o))return n[o];var a=n[t]||n[s]||n[o];return a}}function Ef(r,e,t,i){var n=e[r],s=!Tt(t,r),o=t[r],a=kb(Boolean,n.type);if(a>-1){if(s&&!Tt(n,"default"))o=!1;else if(o===""||o===fo(r)){var l=kb(String,n.type);(l<0||a<l)&&(o=!0)}}if(o===void 0){o=jR(i,n,r);var c=af;Li(!0),Jr(o),Li(c)}return o}function jR(r,e,t){if(Tt(e,"default")){var i=e.default;return r&&r.$options.propsData&&r.$options.propsData[t]===void 0&&r._props[t]!==void 0?r._props[t]:Ge(i)&&Tf(e.type)!=="Function"?i.call(r):i}}var VR=/^\s*function (\w+)/;function Tf(r){var e=r&&r.toString().match(VR);return e?e[1]:""}function Cb(r,e){return Tf(r)===Tf(e)}function kb(r,e){if(!Oe(e))return Cb(e,r)?0:-1;for(var t=0,i=e.length;t<i;t++)if(Cb(e[t],r))return t;return-1}var Ni={enumerable:!0,configurable:!0,get:ut,set:ut};function If(r,e,t){Ni.get=function(){return this[e][t]},Ni.set=function(n){this[e][t]=n},Object.defineProperty(r,t,Ni)}function UR(r){var e=r.$options;if(e.props&&XR(r,e.props),Z2(r),e.methods&&KR(r,e.methods),e.data)GR(r);else{var t=Jr(r._data={});t&&t.vmCount++}e.computed&&qR(r,e.computed),e.watch&&e.watch!==sf&&ZR(r,e.watch)}function XR(r,e){var t=r.$options.propsData||{},i=r._props=Q0({}),n=r.$options._propKeys=[],s=!r.$parent;s||Li(!1);var o=function(l){n.push(l);var c=Ef(l,e,t,r);cn(i,l,c),l in r||If(r,"_props",l)};for(var a in e)o(a);Li(!0)}function GR(r){var e=r.$options.data;e=r._data=Ge(e)?QR(e,r):e||{},Nt(e)||(e={});var t=Object.keys(e),i=r.$options.props;r.$options.methods;for(var n=t.length;n--;){var s=t[n];i&&Tt(i,s)||B0(s)||If(r,"_data",s)}var o=Jr(e);o&&o.vmCount++}function QR(r,e){hs();try{return r.call(e,e)}catch(t){return hn(t,e,"data()"),{}}finally{us()}}var YR={lazy:!0};function qR(r,e){var t=r._computedWatchers=Object.create(null),i=po();for(var n in e){var s=e[n],o=Ge(s)?s:s.get;i||(t[n]=new wf(r,o||ut,ut,YR)),n in r||Ab(r,n,s)}}function Ab(r,e,t){var i=!po();Ge(t)?(Ni.get=i?Pb(e):_b(t),Ni.set=ut):(Ni.get=t.get?i&&t.cache!==!1?Pb(e):_b(t.get):ut,Ni.set=t.set||ut),Object.defineProperty(r,e,Ni)}function Pb(r){return function(){var t=this._computedWatchers&&this._computedWatchers[r];if(t)return t.dirty&&t.evaluate(),$i.target&&t.depend(),t.value}}function _b(r){return function(){return r.call(this,this)}}function KR(r,e){r.$options.props;for(var t in e)r[t]=typeof e[t]!="function"?ut:I0(e[t],r)}function ZR(r,e){for(var t in e){var i=e[t];if(Oe(i))for(var n=0;n<i.length;n++)Rf(r,t,i[n]);else Rf(r,t,i)}}function Rf(r,e,t,i){return Nt(t)&&(i=t,t=t.handler),typeof t=="string"&&(t=r[t]),r.$watch(e,t,i)}function JR(r){var e={};e.get=function(){return this._data};var t={};t.get=function(){return this._props},Object.defineProperty(r.prototype,"$data",e),Object.defineProperty(r.prototype,"$props",t),r.prototype.$set=lf,r.prototype.$delete=X0,r.prototype.$watch=function(i,n,s){var o=this;if(Nt(n))return Rf(o,i,n,s);s=s||{},s.user=!0;var a=new wf(o,i,n,s);if(s.immediate){var l='callback for immediate watcher "'.concat(a.expression,'"');hs(),Bi(n,o,[a.value],o,l),us()}return function(){a.teardown()}}}var eD=0;function tD(r){r.prototype._init=function(e){var t=this;t._uid=eD++,t._isVue=!0,t.__v_skip=!0,t._scope=new $2(!0),t._scope._vm=!0,e&&e._isComponent?rD(t,e):t.$options=fn(Df(t.constructor),e||{},t),t._renderProxy=t,t._self=t,vR(t),dR(t),rR(t),fr(t,"beforeCreate",void 0,!1),TR(t),UR(t),ER(t),fr(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function rD(r,e){var t=r.$options=Object.create(r.constructor.options),i=e._parentVnode;t.parent=e.parent,t._parentVnode=i;var n=i.componentOptions;t.propsData=n.propsData,t._parentListeners=n.listeners,t._renderChildren=n.children,t._componentTag=n.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}function Df(r){var e=r.options;if(r.super){var t=Df(r.super),i=r.superOptions;if(t!==i){r.superOptions=t;var n=iD(r);n&&He(r.extendOptions,n),e=r.options=fn(t,r.extendOptions),e.name&&(e.components[e.name]=r)}}return e}function iD(r){var e,t=r.options,i=r.sealedOptions;for(var n in t)t[n]!==i[n]&&(e||(e={}),e[n]=t[n]);return e}function Pe(r){this._init(r)}tD(Pe),JR(Pe),yR(Pe),bR(Pe),iR(Pe);function nD(r){r.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=nf(arguments,1);return i.unshift(this),Ge(e.install)?e.install.apply(e,i):Ge(e)&&e.apply(null,i),t.push(e),this}}function sD(r){r.mixin=function(e){return this.options=fn(this.options,e),this}}function oD(r){r.cid=0;var e=1;r.extend=function(t){t=t||{};var i=this,n=i.cid,s=t._Ctor||(t._Ctor={});if(s[n])return s[n];var o=Wl(t)||Wl(i.options),a=function(c){this._init(c)};return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.cid=e++,a.options=fn(i.options,t),a.super=i,a.options.props&&aD(a),a.options.computed&&lD(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,El.forEach(function(l){a[l]=i[l]}),o&&(a.options.components[o]=a),a.superOptions=i.options,a.extendOptions=t,a.sealedOptions=He({},a.options),s[n]=a,a}}function aD(r){var e=r.options.props;for(var t in e)If(r.prototype,"_props",t)}function lD(r){var e=r.options.computed;for(var t in e)Ab(r.prototype,t,e[t])}function cD(r){El.forEach(function(e){r[e]=function(t,i){return i?(e==="component"&&Nt(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),e==="directive"&&Ge(i)&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}})}function Eb(r){return r&&(Wl(r.Ctor.options)||r.tag)}function Vl(r,e){return Oe(r)?r.indexOf(e)>-1:typeof r=="string"?r.split(",").indexOf(e)>-1:p2(r)?r.test(e):!1}function Tb(r,e){var t=r.cache,i=r.keys,n=r._vnode;for(var s in t){var o=t[s];if(o){var a=o.name;a&&!e(a)&&$f(t,s,i,n)}}}function $f(r,e,t,i){var n=r[e];n&&(!i||n.tag!==i.tag)&&n.componentInstance.$destroy(),r[e]=null,Ii(t,e)}var Ib=[String,RegExp,Array],hD={name:"keep-alive",abstract:!0,props:{include:Ib,exclude:Ib,max:[String,Number]},methods:{cacheVNode:function(){var r=this,e=r.cache,t=r.keys,i=r.vnodeToCache,n=r.keyToCache;if(i){var s=i.tag,o=i.componentInstance,a=i.componentOptions;e[n]={name:Eb(a),tag:s,componentInstance:o},t.push(n),this.max&&t.length>parseInt(this.max)&&$f(e,t[0],t,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var r in this.cache)$f(this.cache,r,this.keys)},mounted:function(){var r=this;this.cacheVNode(),this.$watch("include",function(e){Tb(r,function(t){return Vl(e,t)})}),this.$watch("exclude",function(e){Tb(r,function(t){return!Vl(e,t)})})},updated:function(){this.cacheVNode()},render:function(){var r=this.$slots.default,e=sb(r),t=e&&e.componentOptions;if(t){var i=Eb(t),n=this,s=n.include,o=n.exclude;if(s&&(!i||!Vl(s,i))||o&&i&&Vl(o,i))return e;var a=this,l=a.cache,c=a.keys,h=e.key==null?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;l[h]?(e.componentInstance=l[h].componentInstance,Ii(c,h),c.push(h)):(this.vnodeToCache=e,this.keyToCache=h),e.data.keepAlive=!0}return e||r&&r[0]}},uD={KeepAlive:hD};function fD(r){var e={};e.get=function(){return tr},Object.defineProperty(r,"config",e),r.util={warn:xb,extend:He,mergeOptions:fn,defineReactive:cn},r.set=lf,r.delete=X0,r.nextTick=bf,r.observable=function(t){return Jr(t),t},r.options=Object.create(null),El.forEach(function(t){r.options[t+"s"]=Object.create(null)}),r.options._base=r,He(r.options.components,uD),nD(r),sD(r),oD(r),cD(r)}fD(Pe),Object.defineProperty(Pe.prototype,"$isServer",{get:po}),Object.defineProperty(Pe.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Pe,"FunctionalRenderContext",{value:Pf}),Pe.version=uR;var dD=ur("style,class"),pD=ur("input,textarea,option,select,progress"),gD=function(r,e,t){return t==="value"&&pD(r)&&e!=="button"||t==="selected"&&r==="option"||t==="checked"&&r==="input"||t==="muted"&&r==="video"},Rb=ur("contenteditable,draggable,spellcheck"),mD=ur("events,caret,typing,plaintext-only"),yD=function(r,e){return Ul(e)||e==="false"?"false":r==="contenteditable"&&mD(e)?e:"true"},vD=ur("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Lf="http://www.w3.org/1999/xlink",Mf=function(r){return r.charAt(5)===":"&&r.slice(0,5)==="xlink"},Db=function(r){return Mf(r)?r.slice(6,r.length):""},Ul=function(r){return r==null||r===!1};function bD(r){for(var e=r.data,t=r,i=r;Q(i.componentInstance);)i=i.componentInstance._vnode,i&&i.data&&(e=$b(i.data,e));for(;Q(t=t.parent);)t&&t.data&&(e=$b(e,t.data));return wD(e.staticClass,e.class)}function $b(r,e){return{staticClass:Bf(r.staticClass,e.staticClass),class:Q(r.class)?[r.class,e.class]:e.class}}function wD(r,e){return Q(r)||Q(e)?Bf(r,Nf(e)):""}function Bf(r,e){return r?e?r+" "+e:r:e||""}function Nf(r){return Array.isArray(r)?SD(r):Ot(r)?xD(r):typeof r=="string"?r:""}function SD(r){for(var e="",t,i=0,n=r.length;i<n;i++)Q(t=Nf(r[i]))&&t!==""&&(e&&(e+=" "),e+=t);return e}function xD(r){var e="";for(var t in r)r[t]&&(e&&(e+=" "),e+=t);return e}var OD={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},CD=ur("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ff=ur("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Lb=function(r){return CD(r)||Ff(r)};function kD(r){if(Ff(r))return"svg";if(r==="math")return"math"}var Xl=Object.create(null);function AD(r){if(!Qt)return!0;if(Lb(r))return!1;if(r=r.toLowerCase(),Xl[r]!=null)return Xl[r];var e=document.createElement(r);return r.indexOf("-")>-1?Xl[r]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Xl[r]=/HTMLUnknownElement/.test(e.toString())}var zf=ur("text,number,password,search,email,tel,url");function PD(r){if(typeof r=="string"){var e=document.querySelector(r);return e||document.createElement("div")}else return r}function _D(r,e){var t=document.createElement(r);return r!=="select"||e.data&&e.data.attrs&&e.data.attrs.multiple!==void 0&&t.setAttribute("multiple","multiple"),t}function ED(r,e){return document.createElementNS(OD[r],e)}function TD(r){return document.createTextNode(r)}function ID(r){return document.createComment(r)}function RD(r,e,t){r.insertBefore(e,t)}function DD(r,e){r.removeChild(e)}function $D(r,e){r.appendChild(e)}function LD(r){return r.parentNode}function MD(r){return r.nextSibling}function BD(r){return r.tagName}function ND(r,e){r.textContent=e}function FD(r,e){r.setAttribute(e,"")}var zD=Object.freeze({__proto__:null,createElement:_D,createElementNS:ED,createTextNode:TD,createComment:ID,insertBefore:RD,removeChild:DD,appendChild:$D,parentNode:LD,nextSibling:MD,tagName:BD,setTextContent:ND,setStyleScope:FD}),HD={create:function(r,e){ds(e)},update:function(r,e){r.data.ref!==e.data.ref&&(ds(r,!0),ds(e))},destroy:function(r){ds(r,!0)}};function ds(r,e){var t=r.data.ref;if(Q(t)){var i=r.context,n=r.componentInstance||r.elm,s=e?null:n,o=e?void 0:n;if(Ge(t)){Bi(t,i,[s],i,"template ref function");return}var a=r.data.refInFor,l=typeof t=="string"||typeof t=="number",c=Fr(t),h=i.$refs;if(l||c){if(a){var u=l?h[t]:t.value;e?Oe(u)&&Ii(u,n):Oe(u)?u.includes(n)||u.push(n):l?(h[t]=[n],Mb(i,t,h[t])):t.value=[n]}else if(l){if(e&&h[t]!==n)return;h[t]=o,Mb(i,t,s)}else if(c){if(e&&t.value!==n)return;t.value=s}}}}function Mb(r,e,t){var i=r._setupState;i&&Tt(i,e)&&(Fr(i[e])?i[e].value=t:i[e]=t)}var Fi=new Yt("",{},[]),Co=["create","activate","update","remove","destroy"];function dn(r,e){return r.key===e.key&&r.asyncFactory===e.asyncFactory&&(r.tag===e.tag&&r.isComment===e.isComment&&Q(r.data)===Q(e.data)&&WD(r,e)||Ye(r.isAsyncPlaceholder)&&ve(e.asyncFactory.error))}function WD(r,e){if(r.tag!=="input")return!0;var t,i=Q(t=r.data)&&Q(t=t.attrs)&&t.type,n=Q(t=e.data)&&Q(t=t.attrs)&&t.type;return i===n||zf(i)&&zf(n)}function jD(r,e,t){var i,n,s={};for(i=e;i<=t;++i)n=r[i].key,Q(n)&&(s[n]=i);return s}function VD(r){var e,t,i={},n=r.modules,s=r.nodeOps;for(e=0;e<Co.length;++e)for(i[Co[e]]=[],t=0;t<n.length;++t)Q(n[t][Co[e]])&&i[Co[e]].push(n[t][Co[e]]);function o(w){return new Yt(s.tagName(w).toLowerCase(),{},[],void 0,w)}function a(w,C){function m(){--m.listeners===0&&l(w)}return m.listeners=C,m}function l(w){var C=s.parentNode(w);Q(C)&&s.removeChild(C,w)}function c(w,C,m,L,Y,X,re){if(Q(w.elm)&&Q(X)&&(w=X[re]=of(w)),w.isRootInsert=!Y,!h(w,C,m,L)){var H=w.data,te=w.children,F=w.tag;Q(F)?(w.elm=w.ns?s.createElementNS(w.ns,F):s.createElement(F,w),y(w),p(w,te,C),Q(H)&&v(w,C),d(m,w.elm,L)):Ye(w.isComment)?(w.elm=s.createComment(w.text),d(m,w.elm,L)):(w.elm=s.createTextNode(w.text),d(m,w.elm,L))}}function h(w,C,m,L){var Y=w.data;if(Q(Y)){var X=Q(w.componentInstance)&&Y.keepAlive;if(Q(Y=Y.hook)&&Q(Y=Y.init)&&Y(w,!1),Q(w.componentInstance))return u(w,C),d(m,w.elm,L),Ye(X)&&f(w,C,m,L),!0}}function u(w,C){Q(w.data.pendingInsert)&&(C.push.apply(C,w.data.pendingInsert),w.data.pendingInsert=null),w.elm=w.componentInstance.$el,g(w)?(v(w,C),y(w)):(ds(w),C.push(w))}function f(w,C,m,L){for(var Y,X=w;X.componentInstance;)if(X=X.componentInstance._vnode,Q(Y=X.data)&&Q(Y=Y.transition)){for(Y=0;Y<i.activate.length;++Y)i.activate[Y](Fi,X);C.push(X);break}d(m,w.elm,L)}function d(w,C,m){Q(w)&&(Q(m)?s.parentNode(m)===w&&s.insertBefore(w,C,m):s.appendChild(w,C))}function p(w,C,m){if(Oe(C))for(var L=0;L<C.length;++L)c(C[L],m,w.elm,null,!0,C,L);else ho(w.text)&&s.appendChild(w.elm,s.createTextNode(String(w.text)))}function g(w){for(;w.componentInstance;)w=w.componentInstance._vnode;return Q(w.tag)}function v(w,C){for(var m=0;m<i.create.length;++m)i.create[m](Fi,w);e=w.data.hook,Q(e)&&(Q(e.create)&&e.create(Fi,w),Q(e.insert)&&C.push(w))}function y(w){var C;if(Q(C=w.fnScopeId))s.setStyleScope(w.elm,C);else for(var m=w;m;)Q(C=m.context)&&Q(C=C.$options._scopeId)&&s.setStyleScope(w.elm,C),m=m.parent;Q(C=un)&&C!==w.context&&C!==w.fnContext&&Q(C=C.$options._scopeId)&&s.setStyleScope(w.elm,C)}function S(w,C,m,L,Y,X){for(;L<=Y;++L)c(m[L],X,w,C,!1,m,L)}function k(w){var C,m,L=w.data;if(Q(L))for(Q(C=L.hook)&&Q(C=C.destroy)&&C(w),C=0;C<i.destroy.length;++C)i.destroy[C](w);if(Q(C=w.children))for(m=0;m<w.children.length;++m)k(w.children[m])}function _(w,C,m){for(;C<=m;++C){var L=w[C];Q(L)&&(Q(L.tag)?(T(L),k(L)):l(L.elm))}}function T(w,C){if(Q(C)||Q(w.data)){var m,L=i.remove.length+1;for(Q(C)?C.listeners+=L:C=a(w.elm,L),Q(m=w.componentInstance)&&Q(m=m._vnode)&&Q(m.data)&&T(m,C),m=0;m<i.remove.length;++m)i.remove[m](w,C);Q(m=w.data.hook)&&Q(m=m.remove)?m(w,C):C()}else l(w.elm)}function R(w,C,m,L,Y){for(var X=0,re=0,H=C.length-1,te=C[0],F=C[H],B=m.length-1,ue=m[0],ae=m[B],oe,Re,we,be,ge=!Y;X<=H&&re<=B;)ve(te)?te=C[++X]:ve(F)?F=C[--H]:dn(te,ue)?(j(te,ue,L,m,re),te=C[++X],ue=m[++re]):dn(F,ae)?(j(F,ae,L,m,B),F=C[--H],ae=m[--B]):dn(te,ae)?(j(te,ae,L,m,B),ge&&s.insertBefore(w,te.elm,s.nextSibling(F.elm)),te=C[++X],ae=m[--B]):dn(F,ue)?(j(F,ue,L,m,re),ge&&s.insertBefore(w,F.elm,te.elm),F=C[--H],ue=m[++re]):(ve(oe)&&(oe=jD(C,X,H)),Re=Q(ue.key)?oe[ue.key]:D(ue,C,X,H),ve(Re)?c(ue,L,w,te.elm,!1,m,re):(we=C[Re],dn(we,ue)?(j(we,ue,L,m,re),C[Re]=void 0,ge&&s.insertBefore(w,we.elm,te.elm)):c(ue,L,w,te.elm,!1,m,re)),ue=m[++re]);X>H?(be=ve(m[B+1])?null:m[B+1].elm,S(w,be,m,re,B,L)):re>B&&_(C,X,H)}function D(w,C,m,L){for(var Y=m;Y<L;Y++){var X=C[Y];if(Q(X)&&dn(w,X))return Y}}function j(w,C,m,L,Y,X){if(w!==C){Q(C.elm)&&Q(L)&&(C=L[Y]=of(C));var re=C.elm=w.elm;if(Ye(w.isAsyncPlaceholder)){Q(C.asyncFactory.resolved)?ie(w.elm,C,m):C.isAsyncPlaceholder=!0;return}if(Ye(C.isStatic)&&Ye(w.isStatic)&&C.key===w.key&&(Ye(C.isCloned)||Ye(C.isOnce))){C.componentInstance=w.componentInstance;return}var H,te=C.data;Q(te)&&Q(H=te.hook)&&Q(H=H.prepatch)&&H(w,C);var F=w.children,B=C.children;if(Q(te)&&g(C)){for(H=0;H<i.update.length;++H)i.update[H](w,C);Q(H=te.hook)&&Q(H=H.update)&&H(w,C)}ve(C.text)?Q(F)&&Q(B)?F!==B&&R(re,F,B,m,X):Q(B)?(Q(w.text)&&s.setTextContent(re,""),S(re,null,B,0,B.length-1,m)):Q(F)?_(F,0,F.length-1):Q(w.text)&&s.setTextContent(re,""):w.text!==C.text&&s.setTextContent(re,C.text),Q(te)&&Q(H=te.hook)&&Q(H=H.postpatch)&&H(w,C)}}function M(w,C,m){if(Ye(m)&&Q(w.parent))w.parent.data.pendingInsert=C;else for(var L=0;L<C.length;++L)C[L].data.hook.insert(C[L])}var G=ur("attrs,class,staticClass,staticStyle,key");function ie(w,C,m,L){var Y,X=C.tag,re=C.data,H=C.children;if(L=L||re&&re.pre,C.elm=w,Ye(C.isComment)&&Q(C.asyncFactory))return C.isAsyncPlaceholder=!0,!0;if(Q(re)&&(Q(Y=re.hook)&&Q(Y=Y.init)&&Y(C,!0),Q(Y=C.componentInstance)))return u(C,m),!0;if(Q(X)){if(Q(H))if(!w.hasChildNodes())p(C,H,m);else if(Q(Y=re)&&Q(Y=Y.domProps)&&Q(Y=Y.innerHTML)){if(Y!==w.innerHTML)return!1}else{for(var te=!0,F=w.firstChild,B=0;B<H.length;B++){if(!F||!ie(F,H[B],m,L)){te=!1;break}F=F.nextSibling}if(!te||F)return!1}if(Q(re)){var ue=!1;for(var ae in re)if(!G(ae)){ue=!0,v(C,m);break}!ue&&re.class&&Fl(re.class)}}else w.data!==C.text&&(w.data=C.text);return!0}return function(C,m,L,Y){if(ve(m)){Q(C)&&k(C);return}var X=!1,re=[];if(ve(C))X=!0,c(m,re);else{var H=Q(C.nodeType);if(!H&&dn(C,m))j(C,m,re,null,null,Y);else{if(H){if(C.nodeType===1&&C.hasAttribute(L0)&&(C.removeAttribute(L0),L=!0),Ye(L)&&ie(C,m,re))return M(m,re,!0),C;C=o(C)}var te=C.elm,F=s.parentNode(te);if(c(m,re,te._leaveCb?null:F,s.nextSibling(te)),Q(m.parent))for(var B=m.parent,ue=g(m);B;){for(var ae=0;ae<i.destroy.length;++ae)i.destroy[ae](B);if(B.elm=m.elm,ue){for(var oe=0;oe<i.create.length;++oe)i.create[oe](Fi,B);var Re=B.data.hook.insert;if(Re.merged)for(var we=1;we<Re.fns.length;we++)Re.fns[we]()}else ds(B);B=B.parent}Q(F)?_([C],0,0):Q(C.tag)&&k(C)}}return M(m,re,X),m.elm}}var UD={create:Hf,update:Hf,destroy:function(e){Hf(e,Fi)}};function Hf(r,e){(r.data.directives||e.data.directives)&&XD(r,e)}function XD(r,e){var t=r===Fi,i=e===Fi,n=Bb(r.data.directives,r.context),s=Bb(e.data.directives,e.context),o=[],a=[],l,c,h;for(l in s)c=n[l],h=s[l],c?(h.oldValue=c.value,h.oldArg=c.arg,ko(h,"update",e,r),h.def&&h.def.componentUpdated&&a.push(h)):(ko(h,"bind",e,r),h.def&&h.def.inserted&&o.push(h));if(o.length){var u=function(){for(var f=0;f<o.length;f++)ko(o[f],"inserted",e,r)};t?Mi(e,"insert",u):u()}if(a.length&&Mi(e,"postpatch",function(){for(var f=0;f<a.length;f++)ko(a[f],"componentUpdated",e,r)}),!t)for(l in n)s[l]||ko(n[l],"unbind",r,r,i)}var GD=Object.create(null);function Bb(r,e){var t=Object.create(null);if(!r)return t;var i,n;for(i=0;i<r.length;i++){if(n=r[i],n.modifiers||(n.modifiers=GD),t[QD(n)]=n,e._setupState&&e._setupState.__sfc){var s=n.def||jl(e,"_setupState","v-"+n.name);typeof s=="function"?n.def={bind:s,update:s}:n.def=s}n.def=n.def||jl(e.$options,"directives",n.name)}return t}function QD(r){return r.rawName||"".concat(r.name,".").concat(Object.keys(r.modifiers||{}).join("."))}function ko(r,e,t,i,n){var s=r.def&&r.def[e];if(s)try{s(t.elm,r,t,i,n)}catch(o){hn(o,t.context,"directive ".concat(r.name," ").concat(e," hook"))}}var YD=[HD,UD];function Nb(r,e){var t=e.componentOptions;if(!(Q(t)&&t.Ctor.options.inheritAttrs===!1)&&!(ve(r.data.attrs)&&ve(e.data.attrs))){var i,n,s,o=e.elm,a=r.data.attrs||{},l=e.data.attrs||{};(Q(l.__ob__)||Ye(l._v_attr_proxy))&&(l=e.data.attrs=He({},l));for(i in l)n=l[i],s=a[i],s!==n&&Fb(o,i,n,e.data.pre);(os||N0)&&l.value!==a.value&&Fb(o,"value",l.value);for(i in a)ve(l[i])&&(Mf(i)?o.removeAttributeNS(Lf,Db(i)):Rb(i)||o.removeAttribute(i))}}function Fb(r,e,t,i){i||r.tagName.indexOf("-")>-1?zb(r,e,t):vD(e)?Ul(t)?r.removeAttribute(e):(t=e==="allowfullscreen"&&r.tagName==="EMBED"?"true":e,r.setAttribute(e,t)):Rb(e)?r.setAttribute(e,yD(e,t)):Mf(e)?Ul(t)?r.removeAttributeNS(Lf,Db(e)):r.setAttributeNS(Lf,e,t):zb(r,e,t)}function zb(r,e,t){if(Ul(t))r.removeAttribute(e);else{if(os&&!as&&r.tagName==="TEXTAREA"&&e==="placeholder"&&t!==""&&!r.__ieph){var i=function(n){n.stopImmediatePropagation(),r.removeEventListener("input",i)};r.addEventListener("input",i),r.__ieph=!0}r.setAttribute(e,t)}}var qD={create:Nb,update:Nb};function Hb(r,e){var t=e.elm,i=e.data,n=r.data;if(!(ve(i.staticClass)&&ve(i.class)&&(ve(n)||ve(n.staticClass)&&ve(n.class)))){var s=bD(e),o=t._transitionClasses;Q(o)&&(s=Bf(s,Nf(o))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var KD={create:Hb,update:Hb},Wf="__r",jf="__c";function ZD(r){if(Q(r[Wf])){var e=os?"change":"input";r[e]=[].concat(r[Wf],r[e]||[]),delete r[Wf]}Q(r[jf])&&(r.change=[].concat(r[jf],r.change||[]),delete r[jf])}var Ao;function JD(r,e,t){var i=Ao;return function n(){var s=e.apply(null,arguments);s!==null&&Wb(r,n,t,i)}}var e$=mf&&!(F0&&Number(F0[1])<=53);function t$(r,e,t,i){if(e$){var n=mb,s=e;e=s._wrapper=function(o){if(o.target===o.currentTarget||o.timeStamp>=n||o.timeStamp<=0||o.target.ownerDocument!==document)return s.apply(this,arguments)}}Ao.addEventListener(r,e,z0?{capture:t,passive:i}:t)}function Wb(r,e,t,i){(i||Ao).removeEventListener(r,e._wrapper||e,t)}function Vf(r,e){if(!(ve(r.data.on)&&ve(e.data.on))){var t=e.data.on||{},i=r.data.on||{};Ao=e.elm||r.elm,ZD(t),q0(t,i,t$,Wb,JD,e.context),Ao=void 0}}var r$={create:Vf,update:Vf,destroy:function(r){return Vf(r,Fi)}},Gl;function jb(r,e){if(!(ve(r.data.domProps)&&ve(e.data.domProps))){var t,i,n=e.elm,s=r.data.domProps||{},o=e.data.domProps||{};(Q(o.__ob__)||Ye(o._v_attr_proxy))&&(o=e.data.domProps=He({},o));for(t in s)t in o||(n[t]="");for(t in o){if(i=o[t],t==="textContent"||t==="innerHTML"){if(e.children&&(e.children.length=0),i===s[t])continue;n.childNodes.length===1&&n.removeChild(n.childNodes[0])}if(t==="value"&&n.tagName!=="PROGRESS"){n._value=i;var a=ve(i)?"":String(i);i$(n,a)&&(n.value=a)}else if(t==="innerHTML"&&Ff(n.tagName)&&ve(n.innerHTML)){Gl=Gl||document.createElement("div"),Gl.innerHTML="<svg>".concat(i,"</svg>");for(var l=Gl.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;l.firstChild;)n.appendChild(l.firstChild)}else if(i!==s[t])try{n[t]=i}catch{}}}}function i$(r,e){return!r.composing&&(r.tagName==="OPTION"||n$(r,e)||s$(r,e))}function n$(r,e){var t=!0;try{t=document.activeElement!==r}catch{}return t&&r.value!==e}function s$(r,e){var t=r.value,i=r._vModifiers;if(Q(i)){if(i.number)return uo(t)!==uo(e);if(i.trim)return t.trim()!==e.trim()}return t!==e}var o$={create:jb,update:jb},a$=sn(function(r){var e={},t=/;(?![^(]*\))/g,i=/:(.+)/;return r.split(t).forEach(function(n){if(n){var s=n.split(i);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e});function Uf(r){var e=Vb(r.style);return r.staticStyle?He(r.staticStyle,e):e}function Vb(r){return Array.isArray(r)?R0(r):typeof r=="string"?a$(r):r}function l$(r,e){var t={},i;if(e)for(var n=r;n.componentInstance;)n=n.componentInstance._vnode,n&&n.data&&(i=Uf(n.data))&&He(t,i);(i=Uf(r.data))&&He(t,i);for(var s=r;s=s.parent;)s.data&&(i=Uf(s.data))&&He(t,i);return t}var c$=/^--/,Ub=/\s*!important$/,Xb=function(r,e,t){if(c$.test(e))r.style.setProperty(e,t);else if(Ub.test(t))r.style.setProperty(fo(e),t.replace(Ub,""),"important");else{var i=h$(e);if(Array.isArray(t))for(var n=0,s=t.length;n<s;n++)r.style[i]=t[n];else r.style[i]=t}},Gb=["Webkit","Moz","ms"],Ql,h$=sn(function(r){if(Ql=Ql||document.createElement("div").style,r=on(r),r!=="filter"&&r in Ql)return r;for(var e=r.charAt(0).toUpperCase()+r.slice(1),t=0;t<Gb.length;t++){var i=Gb[t]+e;if(i in Ql)return i}});function Qb(r,e){var t=e.data,i=r.data;if(!(ve(t.staticStyle)&&ve(t.style)&&ve(i.staticStyle)&&ve(i.style))){var n,s,o=e.elm,a=i.staticStyle,l=i.normalizedStyle||i.style||{},c=a||l,h=Vb(e.data.style)||{};e.data.normalizedStyle=Q(h.__ob__)?He({},h):h;var u=l$(e,!0);for(s in c)ve(u[s])&&Xb(o,s,"");for(s in u)n=u[s],n!==c[s]&&Xb(o,s,n??"")}}var u$={create:Qb,update:Qb},Yb=/\s+/;function qb(r,e){if(!(!e||!(e=e.trim())))if(r.classList)e.indexOf(" ")>-1?e.split(Yb).forEach(function(i){return r.classList.add(i)}):r.classList.add(e);else{var t=" ".concat(r.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&r.setAttribute("class",(t+e).trim())}}function Kb(r,e){if(!(!e||!(e=e.trim())))if(r.classList)e.indexOf(" ")>-1?e.split(Yb).forEach(function(n){return r.classList.remove(n)}):r.classList.remove(e),r.classList.length||r.removeAttribute("class");else{for(var t=" ".concat(r.getAttribute("class")||""," "),i=" "+e+" ";t.indexOf(i)>=0;)t=t.replace(i," ");t=t.trim(),t?r.setAttribute("class",t):r.removeAttribute("class")}}function Zb(r){if(r){if(typeof r=="object"){var e={};return r.css!==!1&&He(e,Jb(r.name||"v")),He(e,r),e}else if(typeof r=="string")return Jb(r)}}var Jb=sn(function(r){return{enterClass:"".concat(r,"-enter"),enterToClass:"".concat(r,"-enter-to"),enterActiveClass:"".concat(r,"-enter-active"),leaveClass:"".concat(r,"-leave"),leaveToClass:"".concat(r,"-leave-to"),leaveActiveClass:"".concat(r,"-leave-active")}}),ew=Qt&&!as,ps="transition",Xf="animation",Yl="transition",ql="transitionend",Gf="animation",tw="animationend";ew&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(Yl="WebkitTransition",ql="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(Gf="WebkitAnimation",tw="webkitAnimationEnd"));var rw=Qt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(r){return r()};function iw(r){rw(function(){rw(r)})}function pn(r,e){var t=r._transitionClasses||(r._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),qb(r,e))}function ti(r,e){r._transitionClasses&&Ii(r._transitionClasses,e),Kb(r,e)}function nw(r,e,t){var i=sw(r,e),n=i.type,s=i.timeout,o=i.propCount;if(!n)return t();var a=n===ps?ql:tw,l=0,c=function(){r.removeEventListener(a,h),t()},h=function(u){u.target===r&&++l>=o&&c()};setTimeout(function(){l<o&&c()},s+1),r.addEventListener(a,h)}var f$=/\b(transform|all)(,|$)/;function sw(r,e){var t=window.getComputedStyle(r),i=(t[Yl+"Delay"]||"").split(", "),n=(t[Yl+"Duration"]||"").split(", "),s=ow(i,n),o=(t[Gf+"Delay"]||"").split(", "),a=(t[Gf+"Duration"]||"").split(", "),l=ow(o,a),c,h=0,u=0;e===ps?s>0&&(c=ps,h=s,u=n.length):e===Xf?l>0&&(c=Xf,h=l,u=a.length):(h=Math.max(s,l),c=h>0?s>l?ps:Xf:null,u=c?c===ps?n.length:a.length:0);var f=c===ps&&f$.test(t[Yl+"Property"]);return{type:c,timeout:h,propCount:u,hasTransform:f}}function ow(r,e){for(;r.length<e.length;)r=r.concat(r);return Math.max.apply(null,e.map(function(t,i){return aw(t)+aw(r[i])}))}function aw(r){return Number(r.slice(0,-1).replace(",","."))*1e3}function Qf(r,e){var t=r.elm;Q(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var i=Zb(r.data.transition);if(!ve(i)&&!(Q(t._enterCb)||t.nodeType!==1)){for(var n=i.css,s=i.type,o=i.enterClass,a=i.enterToClass,l=i.enterActiveClass,c=i.appearClass,h=i.appearToClass,u=i.appearActiveClass,f=i.beforeEnter,d=i.enter,p=i.afterEnter,g=i.enterCancelled,v=i.beforeAppear,y=i.appear,S=i.afterAppear,k=i.appearCancelled,_=i.duration,T=un,R=un.$vnode;R&&R.parent;)T=R.context,R=R.parent;var D=!T._isMounted||!r.isRootInsert;if(!(D&&!y&&y!=="")){var j=D&&c?c:o,M=D&&u?u:l,G=D&&h?h:a,ie=D&&v||f,w=D&&Ge(y)?y:d,C=D&&S||p,m=D&&k||g,L=uo(Ot(_)?_.enter:_),Y=n!==!1&&!as,X=Yf(w),re=t._enterCb=_l(function(){Y&&(ti(t,G),ti(t,M)),re.cancelled?(Y&&ti(t,j),m&&m(t)):C&&C(t),t._enterCb=null});r.data.show||Mi(r,"insert",function(){var H=t.parentNode,te=H&&H._pending&&H._pending[r.key];te&&te.tag===r.tag&&te.elm._leaveCb&&te.elm._leaveCb(),w&&w(t,re)}),ie&&ie(t),Y&&(pn(t,j),pn(t,M),iw(function(){ti(t,j),re.cancelled||(pn(t,G),X||(cw(L)?setTimeout(re,L):nw(t,s,re)))})),r.data.show&&(e&&e(),w&&w(t,re)),!Y&&!X&&re()}}}function lw(r,e){var t=r.elm;Q(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var i=Zb(r.data.transition);if(ve(i)||t.nodeType!==1)return e();if(Q(t._leaveCb))return;var n=i.css,s=i.type,o=i.leaveClass,a=i.leaveToClass,l=i.leaveActiveClass,c=i.beforeLeave,h=i.leave,u=i.afterLeave,f=i.leaveCancelled,d=i.delayLeave,p=i.duration,g=n!==!1&&!as,v=Yf(h),y=uo(Ot(p)?p.leave:p),S=t._leaveCb=_l(function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[r.key]=null),g&&(ti(t,a),ti(t,l)),S.cancelled?(g&&ti(t,o),f&&f(t)):(e(),u&&u(t)),t._leaveCb=null});d?d(k):k();function k(){S.cancelled||(!r.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[r.key]=r),c&&c(t),g&&(pn(t,o),pn(t,l),iw(function(){ti(t,o),S.cancelled||(pn(t,a),v||(cw(y)?setTimeout(S,y):nw(t,s,S)))})),h&&h(t,S),!g&&!v&&S())}}function cw(r){return typeof r=="number"&&!isNaN(r)}function Yf(r){if(ve(r))return!1;var e=r.fns;return Q(e)?Yf(Array.isArray(e)?e[0]:e):(r._length||r.length)>1}function hw(r,e){e.data.show!==!0&&Qf(e)}var d$=Qt?{create:hw,activate:hw,remove:function(r,e){r.data.show!==!0?lw(r,e):e()}}:{},p$=[qD,KD,r$,o$,u$,d$],g$=p$.concat(YD),m$=VD({nodeOps:zD,modules:g$});as&&document.addEventListener("selectionchange",function(){var r=document.activeElement;r&&r.vmodel&&qf(r,"input")});var uw={inserted:function(r,e,t,i){t.tag==="select"?(i.elm&&!i.elm._vOptions?Mi(t,"postpatch",function(){uw.componentUpdated(r,e,t)}):fw(r,e,t.context),r._vOptions=[].map.call(r.options,Kl)):(t.tag==="textarea"||zf(r.type))&&(r._vModifiers=e.modifiers,e.modifiers.lazy||(r.addEventListener("compositionstart",y$),r.addEventListener("compositionend",gw),r.addEventListener("change",gw),as&&(r.vmodel=!0)))},componentUpdated:function(r,e,t){if(t.tag==="select"){fw(r,e,t.context);var i=r._vOptions,n=r._vOptions=[].map.call(r.options,Kl);if(n.some(function(o,a){return!an(o,i[a])})){var s=r.multiple?e.value.some(function(o){return pw(o,n)}):e.value!==e.oldValue&&pw(e.value,n);s&&qf(r,"change")}}}};function fw(r,e,t){dw(r,e),(os||N0)&&setTimeout(function(){dw(r,e)},0)}function dw(r,e,t){var i=e.value,n=r.multiple;if(!(n&&!Array.isArray(i))){for(var s,o,a=0,l=r.options.length;a<l;a++)if(o=r.options[a],n)s=$0(i,Kl(o))>-1,o.selected!==s&&(o.selected=s);else if(an(Kl(o),i)){r.selectedIndex!==a&&(r.selectedIndex=a);return}n||(r.selectedIndex=-1)}}function pw(r,e){return e.every(function(t){return!an(t,r)})}function Kl(r){return"_value"in r?r._value:r.value}function y$(r){r.target.composing=!0}function gw(r){r.target.composing&&(r.target.composing=!1,qf(r.target,"input"))}function qf(r,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),r.dispatchEvent(t)}function Kf(r){return r.componentInstance&&(!r.data||!r.data.transition)?Kf(r.componentInstance._vnode):r}var v$={bind:function(r,e,t){var i=e.value;t=Kf(t);var n=t.data&&t.data.transition,s=r.__vOriginalDisplay=r.style.display==="none"?"":r.style.display;i&&n?(t.data.show=!0,Qf(t,function(){r.style.display=s})):r.style.display=i?s:"none"},update:function(r,e,t){var i=e.value,n=e.oldValue;if(!i!=!n){t=Kf(t);var s=t.data&&t.data.transition;s?(t.data.show=!0,i?Qf(t,function(){r.style.display=r.__vOriginalDisplay}):lw(t,function(){r.style.display="none"})):r.style.display=i?r.__vOriginalDisplay:"none"}},unbind:function(r,e,t,i,n){n||(r.style.display=r.__vOriginalDisplay)}},b$={model:uw,show:v$},mw={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Zf(r){var e=r&&r.componentOptions;return e&&e.Ctor.options.abstract?Zf(sb(e.children)):r}function yw(r){var e={},t=r.$options;for(var i in t.propsData)e[i]=r[i];var n=t._parentListeners;for(var i in n)e[on(i)]=n[i];return e}function vw(r,e){if(/\d-keep-alive$/.test(e.tag))return r("keep-alive",{props:e.componentOptions.propsData})}function w$(r){for(;r=r.parent;)if(r.data.transition)return!0}function S$(r,e){return e.key===r.key&&e.tag===r.tag}var x$=function(r){return r.tag||bo(r)},O$=function(r){return r.name==="show"},C$={name:"transition",props:mw,abstract:!0,render:function(r){var e=this,t=this.$slots.default;if(t&&(t=t.filter(x$),!!t.length)){var i=this.mode,n=t[0];if(w$(this.$vnode))return n;var s=Zf(n);if(!s)return n;if(this._leaving)return vw(r,n);var o="__transition-".concat(this._uid,"-");s.key=s.key==null?s.isComment?o+"comment":o+s.tag:ho(s.key)?String(s.key).indexOf(o)===0?s.key:o+s.key:s.key;var a=(s.data||(s.data={})).transition=yw(this),l=this._vnode,c=Zf(l);if(s.data.directives&&s.data.directives.some(O$)&&(s.data.show=!0),c&&c.data&&!S$(s,c)&&!bo(c)&&!(c.componentInstance&&c.componentInstance._vnode.isComment)){var h=c.data.transition=He({},a);if(i==="out-in")return this._leaving=!0,Mi(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),vw(r,n);if(i==="in-out"){if(bo(s))return l;var u,f=function(){u()};Mi(a,"afterEnter",f),Mi(a,"enterCancelled",f),Mi(h,"delayLeave",function(d){u=d})}}return n}}},bw=He({tag:String,moveClass:String},mw);delete bw.mode;var k$={props:bw,beforeMount:function(){var r=this,e=this._update;this._update=function(t,i){var n=db(r);r.__patch__(r._vnode,r.kept,!1,!0),r._vnode=r.kept,n(),e.call(r,t,i)}},render:function(r){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),i=this.prevChildren=this.children,n=this.$slots.default||[],s=this.children=[],o=yw(this),a=0;a<n.length;a++){var l=n[a];l.tag&&l.key!=null&&String(l.key).indexOf("__vlist")!==0&&(s.push(l),t[l.key]=l,(l.data||(l.data={})).transition=o)}if(i){for(var c=[],h=[],a=0;a<i.length;a++){var l=i[a];l.data.transition=o,l.data.pos=l.elm.getBoundingClientRect(),t[l.key]?c.push(l):h.push(l)}this.kept=r(e,null,c),this.removed=h}return r(e,null,s)},updated:function(){var r=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";!r.length||!this.hasMove(r[0].elm,e)||(r.forEach(A$),r.forEach(P$),r.forEach(_$),this._reflow=document.body.offsetHeight,r.forEach(function(t){if(t.data.moved){var i=t.elm,n=i.style;pn(i,e),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(ql,i._moveCb=function s(o){o&&o.target!==i||(!o||/transform$/.test(o.propertyName))&&(i.removeEventListener(ql,s),i._moveCb=null,ti(i,e))})}}))},methods:{hasMove:function(r,e){if(!ew)return!1;if(this._hasMove)return this._hasMove;var t=r.cloneNode();r._transitionClasses&&r._transitionClasses.forEach(function(n){Kb(t,n)}),qb(t,e),t.style.display="none",this.$el.appendChild(t);var i=sw(t);return this.$el.removeChild(t),this._hasMove=i.hasTransform}}};function A$(r){r.elm._moveCb&&r.elm._moveCb(),r.elm._enterCb&&r.elm._enterCb()}function P$(r){r.data.newPos=r.elm.getBoundingClientRect()}function _$(r){var e=r.data.pos,t=r.data.newPos,i=e.left-t.left,n=e.top-t.top;if(i||n){r.data.moved=!0;var s=r.elm.style;s.transform=s.WebkitTransform="translate(".concat(i,"px,").concat(n,"px)"),s.transitionDuration="0s"}}var E$={Transition:C$,TransitionGroup:k$};Pe.config.mustUseProp=gD,Pe.config.isReservedTag=Lb,Pe.config.isReservedAttr=dD,Pe.config.getTagNamespace=kD,Pe.config.isUnknownElement=AD,He(Pe.options.directives,b$),He(Pe.options.components,E$),Pe.prototype.__patch__=Qt?m$:ut,Pe.prototype.$mount=function(r,e){return r=r&&Qt?PD(r):void 0,wR(this,r,e)},Qt&&setTimeout(function(){tr.devtools&&Il&&Il.emit("init",Pe)},0);var Zl=(r=>(r.Navigate="[Expo Player] Navigate",r.NavigateForced="[Expo Player] Navigate Forced",r.ArtboardLoadBundle="[Expo Player] Artboard Load Bundle",r))(Zl||{});class T${constructor(e,t){A(this,"type","[Expo Player] Navigate");this.action=e,this.setting=t}}class Jf{constructor(e){A(this,"type","[Expo Player] Navigate Forced");this.target=e}}class ww{constructor(e){A(this,"type","[Expo Player] Artboard Load Bundle");this.artboardId=e}}const I$=(r,e)=>{let t;return typeof CustomEvent=="function"?t=new CustomEvent(r,{detail:e}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(r,!0,!0,e)),t};function ed(r,e,t){if(r.componentInstance)r.componentInstance.$emit(e,t);else{const i=I$(e,t);r.elm&&r.elm.dispatchEvent(i)}}const Jl="_vue_doubleTap_handler",R$=(r,e,t)=>{const i=r,n=+(e.arg||375),o=!!e.modifiers.triple?3:2;(()=>{let l=0,c=0;i[Jl]={touchstart(h){const u=new Date().getTime();u-l<n?++c===o&&ed(t,"dbltap",h):c=1,l=u}},i.addEventListener("touchstart",i[Jl].touchstart)})()},D$=r=>{if($$(r)){const e=r;e.removeEventListener("touchstart",e[Jl].touchstart)}};function $$(r){return r[Jl]!==void 0}const Sw={bind:R$,unbind:D$},td=Symbol("_vue_shortkey_handler"),L$="ignoreInput";function gn(r,e){return r.modifiers?Object.keys(r.modifiers).some(t=>t===e):!1}function xw(r){const e=r.arg;return e||"keydown"}function M$(r){if(r.modifiers){const e=Object.keys(r.modifiers)[0];if(e){const t=parseInt(e,10);return Number.isInteger(t)?t:e}}}const B$=["input","textarea"];function Ow(r){const e=r.value;let t=null,i=window.document;return typeof e=="function"?t=e:typeof e=="object"&&(t=e.handler,e.targetDocument&&(i=e.targetDocument)),{callback:t,targetDocument:i}}function Cw(r,e,t){const{callback:i,targetDocument:n}=Ow(e),s=t.context,o=r;if(e.arg){const a=M$(e);if(!a)return;const l=gn(e,L$),c=gn(e,"ctrl"),h=gn(e,"ctrlOrCmd"),u=gn(e,"shift"),f=gn(e,"alt"),d=gn(e,"stop"),p=gn(e,"prevent"),g=y=>{if(i){if(l&&y.target&&y.target instanceof HTMLElement){const{nodeName:S}=y.target;if(B$.some(k=>Mo(k,S)))return}if(typeof a=="string"&&tx(y,a)||y.keyCode===a){if(c&&!y.ctrlKey||h&&!(y.ctrlKey||y.metaKey)||u&&!y.shiftKey||f&&!y.altKey)return;d&&y.stopPropagation(),p&&y.preventDefault(),i.call(s,y)}}};o[td]=g;const v=xw(e);n.addEventListener(v,g)}}function kw(r,e){const{targetDocument:t}=Ow(e),i=r,n=i[td];if(n){const s=xw(e);t.removeEventListener(s,n),delete i[td]}}const N$={bind:Cw,update(r,e,t){e.value!==e.oldValue&&(kw(r,e),Cw(r,e,t))},unbind:kw},ec=Symbol("_vue_watchElementProp_handler");function F$(r){r.value}function z$(r){r.arg}function H$(r){F$(r),z$(r)}function W$(r,e){H$(e);const t=r,i={handler(){window.requestAnimationFrame(()=>{rd(t,e)})},previousValue:0};t[ec]=i;const{handler:n}=i;t.addEventListener("transitionend",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0})}function j$(r){const e=r,t=e[ec];if(t){const{handler:i}=t;e.removeEventListener("transitionend",i),window.removeEventListener("resize",i),delete e[ec]}}function rd(r,e){let t;const i=e.arg;if(!i)return;const n=r[i],s=r[ec];s&&(t=s.previousValue,s.previousValue=n),t!==n&&e.value(n)}const V$={bind:W$,inserted(r,e){rd(r,e)},componentUpdated(r,e){rd(r,e)},unbind:j$};var dr=(r=>(r.SetOptions="[Expo Player] Set Options",r.SetProject="[Expo Player] Set Project",r.SetCurrentArtboard="[Expo Player] Set Current Artboard",r.SetCurrentArtboardAction="[Expo Player] Set Current Artboard Action",r.SetArtboardBundle="[Expo Player] Set Artboard Bundle",r.ToggleHotspots="[Expo Player] Toggle Hotspots",r.SetViewportScale="[Expo Player] Set Viewport Scale",r.HidePlayer="[Expo Player] Hide Player",r.ShowPlayer="[Expo Player] Show Player",r))(dr||{});class U${constructor(){A(this,"type","[Expo Player] Hide Player")}}class X${constructor(){A(this,"type","[Expo Player] Show Player")}}class G${constructor(e){A(this,"type","[Expo Player] Set Project");this.project=e}}class Q${constructor(e){A(this,"type","[Expo Player] Set Options");this.options=e}}class Aw{constructor(e,t){A(this,"type","[Expo Player] Set Current Artboard");this.artboard=e,this.options=t}}class Pw{constructor(e){A(this,"type","[Expo Player] Set Current Artboard Action");this.action=e}}class Y${constructor(e,t){A(this,"type","[Expo Player] Set Artboard Bundle");this.artboardId=e,this.bundle=t}}class q${constructor(e){A(this,"type","[Expo Player] Toggle Hotspots");this.hotspotsVisible=e}}class K${constructor(e){A(this,"type","[Expo Player] Set Viewport Scale");this.scale=e}}function Ct(r,e){let t,i;return r!==void 0&&(typeof r=="function"?(t=r,i=e):!Array.isArray(r)&&r.type!==void 0?(t=r.type,i=e):i=r),{type:t,...i}}const Z$=Pe.extend({props:{bundle:Ct({required:!0}),project:Ct({required:!0})},computed:{projectWidth(){return this.$store.getters.projectDimensions.width},projectHeight(){return this.$store.getters.projectDimensions.height},scaleToFitWidth(){const{fitArtboardToProjectWidth:r}=this.$store.state;return r},scaleX(){return this.scaleToFitWidth?this.projectWidth/this.bundle.artboardAsset.Dimensions.Width:1},headerEndY(){return this.bundle.artboard.HeaderHeight*this.scaleX},footerStartY(){return(this.bundle.artboardAsset.Dimensions.Height-this.bundle.artboard.FooterHeight)*this.scaleX},masterActions(){const r={},e=this.bundle.artboard.MasterIds,t=sx(this.project.masters,e,n=>n.Actions);return Object.values(t).reduce((n,s)=>(Object.values(s).forEach(o=>{n[o.Id]=o}),n),r)},allActions(){return{...this.masterActions,...this.bundle.artboard.ActionPool.Actions}},headerActions(){if(!this.bundle.artboard.HasHeader)return{};const r={};return Object.keys(this.allActions).forEach(e=>{const t=this.allActions[e],{Start:i,End:n}=t.Hotspot;if(i.Y<=this.headerEndY)if(n.Y<=this.headerEndY)r[e]=t;else{const s=Bo(t);s.Hotspot.End.Y=this.headerEndY,s.Hotspot.Dimensions.Height=s.Hotspot.End.Y-s.Hotspot.Start.Y,r[e]=s}}),r},footerActions(){if(!this.bundle.artboard.HasFooter)return{};const r={};return Object.keys(this.allActions).forEach(e=>{const t=this.allActions[e],{Start:i,End:n}=t.Hotspot;if(n.Y>=this.footerStartY)if(i.Y>=this.footerStartY)r[e]=t;else{const s=Bo(t);s.Hotspot.Start.Y=this.footerStartY,s.Hotspot.Dimensions.Height=s.Hotspot.End.Y-s.Hotspot.Start.Y,r[e]=s}}),r},bodyActions(){const r={...this.allActions},e=Object.keys(r);for(let t=0;t<e.length;t++){const i=e[t];let n;if(this.bundle.artboard.HasHeader){const s=r[i],{Start:o,End:a}=s.Hotspot;if(o.Y<=this.headerEndY)if(a.Y<=this.headerEndY){delete r[i];continue}else n=Bo(s),n.Hotspot.Start.Y=this.headerEndY,n.Hotspot.Dimensions.Height=n.Hotspot.End.Y-n.Hotspot.Start.Y,r[i]=n}if(this.bundle.artboard.HasFooter){const s=r[i],{Start:o,End:a}=s.Hotspot;if(a.Y>=this.footerStartY)if(o.Y>=this.footerStartY){delete r[i];continue}else n=n||Bo(s),n.Hotspot.End.Y=this.footerStartY,n.Hotspot.Dimensions.Height=n.Hotspot.End.Y-n.Hotspot.Start.Y,r[i]=n}}return r}}});function pr(r,e,t,i,n,s,o,a){var l=typeof r=="function"?r.options:r;e&&(l.render=e,l.staticRenderFns=t,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId="data-v-"+s);var c;if(o?(c=function(f){f=f||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!f&&typeof __VUE_SSR_CONTEXT__<"u"&&(f=__VUE_SSR_CONTEXT__),n&&n.call(this,f),f&&f._registeredComponents&&f._registeredComponents.add(o)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var h=l.render;l.render=function(d,p){return c.call(p),h(d,p)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:r,options:l}}var J$=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[e._t("default",null,{headerActions:e.headerActions,bodyActions:e.bodyActions,footerActions:e.footerActions})],2)},eL=[],tL=pr(Z$,J$,eL,!1,null,null,null,null);const rL=tL.exports,ri="_vue_dragScroll_handler",_w=["mousedown","touchstart"],Ew=["mousemove","touchmove"],Tw=["mouseup","touchend"];function iL(r){const e=r.value;let t=window.document;return typeof e=="object"&&e.targetDocument&&(t=e.targetDocument),{targetDocument:t}}function nL(r){return r.defaultView?r.defaultView:window}const sL=(r,e,t)=>{const i=r,n=iL(e);(()=>{let o,a,l,c,h=!1;const u=nL(n.targetDocument),f=u.MouseEvent,d=u.HTMLElement;i[ri]={resolvedWindow:u,mousedown(p){const g=p;g.cancelable&&g.preventDefault();const v=g instanceof f?g:g.touches[0];o=v.clientX,a=v.clientY,l=!0,g.type==="touchstart"&&(h=!0)},mouseup(p){const g=p;!g.target||!(g.target instanceof HTMLElement||g.target instanceof d)||(g.type==="touchend"&&h===!0&&(c||(g.target.click(),h=!1)),l=!1,c=!1)},mousemove(p){const g=p;let v,y;const S=g instanceof f?g:g.touches[0];if(l){v=-o+(o=S.clientX),y=-a+(a=S.clientY);const{x:k,y:_}=lL(i),T=v/k,R=y/_;i.scrollLeft-=T,i.scrollTop-=R,c=T!==0&&i.scrollLeft!==0||R!==0&&i.scrollTop!==0,c&&ed(t,"dragscrollmove",{deltaX:-v,deltaY:-y,scrollLeft:i.scrollLeft,scrollTop:i.scrollTop})}}},xn(i,_w,i[ri].mousedown),xn(u,Tw,i[ri].mouseup),xn(u,Ew,i[ri].mousemove)})()},oL=r=>{if(aL(r)){const e=r,t=r[ri].resolvedWindow;Xi(e,_w,e[ri].mousedown),Xi(t,Tw,e[ri].mouseup),Xi(t,Ew,e[ri].mousemove)}};function aL(r){return r[ri]!==void 0}function lL(r){const e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,i=e.height/r.offsetHeight||1;return{x:t,y:i}}const cL={bind:sL,unbind:oL};function Iw(r){return!!r.TargetArtboardId}function hL(r){return!!r.Url}const ii="_vue_clickTouch_handler",Rw=["mousedown","touchstart"],id=["mousemove","touchmove"],Dw=["mouseup","touchend"],uL=(r,e,t)=>{const i=r;(()=>{let s=!1,o=!1,a=[0,0];i[ii]={mousedown(l){if(s=fL(l)&&l.target===i,!s)return;o=!1;const c=nd(l)?l.touches[0]:l;a=[c.pageX,c.pageY],xn(i,id,i[ii].mousemove)},mousemove(l){const[c,h]=a,u=nd(l)?l.touches[0]:l;(u.pageX!==c||u.pageY!==h)&&(o=!0)},mouseup(l){s&&(o||ed(t,"click-touch",l),s=!1,o=!1,a=[0,0],Xi(i,id,i[ii].mousemove))}},xn(i,Rw,i[ii].mousedown),xn(i,Dw,i[ii].mouseup)})()},fL=r=>nd(r)?!0:r.button===0,dL=r=>{if(pL(r)){const e=r;Xi(e,Rw,e[ii].mousedown),Xi(e,Dw,e[ii].mouseup),Xi(e,id,e[ii].mousemove)}};function pL(r){return r[ii]!==void 0}function nd(r){const e=r.touches;return e!==void 0&&e[0]!==void 0}const $w={bind:uL,unbind:dL};var Lw={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(r){(function(e,t,i,n){var s=["","webkit","Moz","MS","ms","o"],o=t.createElement("div"),a="function",l=Math.round,c=Math.abs,h=Date.now;function u(x,O,I){return setTimeout(k(x,I),O)}function f(x,O,I){return Array.isArray(x)?(d(x,I[O],I),!0):!1}function d(x,O,I){var V;if(x)if(x.forEach)x.forEach(O,I);else if(x.length!==n)for(V=0;V<x.length;)O.call(I,x[V],V,x),V++;else for(V in x)x.hasOwnProperty(V)&&O.call(I,x[V],V,x)}function p(x,O,I){var V="DEPRECATED METHOD: "+O+`
`+I+` AT 
`;return function(){var ne=new Error("get-stack-trace"),de=ne&&ne.stack?ne.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ae=e.console&&(e.console.warn||e.console.log);return Ae&&Ae.call(e.console,V,de),x.apply(this,arguments)}}var g;typeof Object.assign!="function"?g=function(O){if(O===n||O===null)throw new TypeError("Cannot convert undefined or null to object");for(var I=Object(O),V=1;V<arguments.length;V++){var ne=arguments[V];if(ne!==n&&ne!==null)for(var de in ne)ne.hasOwnProperty(de)&&(I[de]=ne[de])}return I}:g=Object.assign;var v=p(function(O,I,V){for(var ne=Object.keys(I),de=0;de<ne.length;)(!V||V&&O[ne[de]]===n)&&(O[ne[de]]=I[ne[de]]),de++;return O},"extend","Use `assign`."),y=p(function(O,I){return v(O,I,!0)},"merge","Use `assign`.");function S(x,O,I){var V=O.prototype,ne;ne=x.prototype=Object.create(V),ne.constructor=x,ne._super=V,I&&g(ne,I)}function k(x,O){return function(){return x.apply(O,arguments)}}function _(x,O){return typeof x==a?x.apply(O&&O[0]||n,O):x}function T(x,O){return x===n?O:x}function R(x,O,I){d(G(O),function(V){x.addEventListener(V,I,!1)})}function D(x,O,I){d(G(O),function(V){x.removeEventListener(V,I,!1)})}function j(x,O){for(;x;){if(x==O)return!0;x=x.parentNode}return!1}function M(x,O){return x.indexOf(O)>-1}function G(x){return x.trim().split(/\s+/g)}function ie(x,O,I){if(x.indexOf&&!I)return x.indexOf(O);for(var V=0;V<x.length;){if(I&&x[V][I]==O||!I&&x[V]===O)return V;V++}return-1}function w(x){return Array.prototype.slice.call(x,0)}function C(x,O,I){for(var V=[],ne=[],de=0;de<x.length;){var Ae=O?x[de][O]:x[de];ie(ne,Ae)<0&&V.push(x[de]),ne[de]=Ae,de++}return I&&(O?V=V.sort(function(yt,Dt){return yt[O]>Dt[O]}):V=V.sort()),V}function m(x,O){for(var I,V,ne=O[0].toUpperCase()+O.slice(1),de=0;de<s.length;){if(I=s[de],V=I?I+ne:O,V in x)return V;de++}return n}var L=1;function Y(){return L++}function X(x){var O=x.ownerDocument||x;return O.defaultView||O.parentWindow||e}var re=/mobile|tablet|ip(ad|hone|od)|android/i,H="ontouchstart"in e,te=m(e,"PointerEvent")!==n,F=H&&re.test(navigator.userAgent),B="touch",ue="pen",ae="mouse",oe="kinect",Re=25,we=1,be=2,ge=4,Ie=8,We=1,kt=2,mt=4,b=8,q=16,U=kt|mt,E=b|q,P=U|E,N=["x","y"],ee=["clientX","clientY"];function Z(x,O){var I=this;this.manager=x,this.callback=O,this.element=x.element,this.target=x.options.inputTarget,this.domHandler=function(V){_(x.options.enable,[x])&&I.handler(V)},this.init()}Z.prototype={handler:function(){},init:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(X(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&D(this.element,this.evEl,this.domHandler),this.evTarget&&D(this.target,this.evTarget,this.domHandler),this.evWin&&D(X(this.element),this.evWin,this.domHandler)}};function W(x){var O,I=x.options.inputClass;return I?O=I:te?O=Vi:F?O=vc:H?O=md:O=Os,new O(x,se)}function se(x,O,I){var V=I.pointers.length,ne=I.changedPointers.length,de=O&we&&V-ne===0,Ae=O&(ge|Ie)&&V-ne===0;I.isFirst=!!de,I.isFinal=!!Ae,de&&(x.session={}),I.eventType=O,fe(x,I),x.emit("hammer.input",I),x.recognize(I),x.session.prevInput=I}function fe(x,O){var I=x.session,V=O.pointers,ne=V.length;I.firstInput||(I.firstInput=Me(O)),ne>1&&!I.firstMultiple?I.firstMultiple=Me(O):ne===1&&(I.firstMultiple=!1);var de=I.firstInput,Ae=I.firstMultiple,ft=Ae?Ae.center:de.center,yt=O.center=ke(V);O.timeStamp=h(),O.deltaTime=O.timeStamp-de.timeStamp,O.angle=oi(ft,yt),O.distance=Rt(ft,yt),le(I,O),O.offsetDirection=Wi(O.deltaX,O.deltaY);var Dt=It(O.deltaTime,O.deltaX,O.deltaY);O.overallVelocityX=Dt.x,O.overallVelocityY=Dt.y,O.overallVelocity=c(Dt.x)>c(Dt.y)?Dt.x:Dt.y,O.scale=Ae?xs(Ae.pointers,V):1,O.rotation=Ae?Ke(Ae.pointers,V):0,O.maxPointers=I.prevInput?O.pointers.length>I.prevInput.maxPointers?O.pointers.length:I.prevInput.maxPointers:O.pointers.length,me(I,O);var jr=x.element;j(O.srcEvent.target,jr)&&(jr=O.srcEvent.target),O.target=jr}function le(x,O){var I=O.center,V=x.offsetDelta||{},ne=x.prevDelta||{},de=x.prevInput||{};(O.eventType===we||de.eventType===ge)&&(ne=x.prevDelta={x:de.deltaX||0,y:de.deltaY||0},V=x.offsetDelta={x:I.x,y:I.y}),O.deltaX=ne.x+(I.x-V.x),O.deltaY=ne.y+(I.y-V.y)}function me(x,O){var I=x.lastInterval||O,V=O.timeStamp-I.timeStamp,ne,de,Ae,ft;if(O.eventType!=Ie&&(V>Re||I.velocity===n)){var yt=O.deltaX-I.deltaX,Dt=O.deltaY-I.deltaY,jr=It(V,yt,Dt);de=jr.x,Ae=jr.y,ne=c(jr.x)>c(jr.y)?jr.x:jr.y,ft=Wi(yt,Dt),x.lastInterval=O}else ne=I.velocity,de=I.velocityX,Ae=I.velocityY,ft=I.direction;O.velocity=ne,O.velocityX=de,O.velocityY=Ae,O.direction=ft}function Me(x){for(var O=[],I=0;I<x.pointers.length;)O[I]={clientX:l(x.pointers[I].clientX),clientY:l(x.pointers[I].clientY)},I++;return{timeStamp:h(),pointers:O,center:ke(O),deltaX:x.deltaX,deltaY:x.deltaY}}function ke(x){var O=x.length;if(O===1)return{x:l(x[0].clientX),y:l(x[0].clientY)};for(var I=0,V=0,ne=0;ne<O;)I+=x[ne].clientX,V+=x[ne].clientY,ne++;return{x:l(I/O),y:l(V/O)}}function It(x,O,I){return{x:O/x||0,y:I/x||0}}function Wi(x,O){return x===O?We:c(x)>=c(O)?x<0?kt:mt:O<0?b:q}function Rt(x,O,I){I||(I=N);var V=O[I[0]]-x[I[0]],ne=O[I[1]]-x[I[1]];return Math.sqrt(V*V+ne*ne)}function oi(x,O,I){I||(I=N);var V=O[I[0]]-x[I[0]],ne=O[I[1]]-x[I[1]];return Math.atan2(ne,V)*180/Math.PI}function Ke(x,O){return oi(O[1],O[0],ee)+oi(x[1],x[0],ee)}function xs(x,O){return Rt(O[0],O[1],ee)/Rt(x[0],x[1],ee)}var Io={mousedown:we,mousemove:be,mouseup:ge},yr="mousedown",yc="mousemove mouseup";function Os(){this.evEl=yr,this.evWin=yc,this.pressed=!1,Z.apply(this,arguments)}S(Os,Z,{handler:function(O){var I=Io[O.type];I&we&&O.button===0&&(this.pressed=!0),I&be&&O.which!==1&&(I=ge),this.pressed&&(I&ge&&(this.pressed=!1),this.callback(this.manager,I,{pointers:[O],changedPointers:[O],pointerType:ae,srcEvent:O}))}});var pd={pointerdown:we,pointermove:be,pointerup:ge,pointercancel:Ie,pointerout:Ie},gd={2:B,3:ue,4:ae,5:oe},Ro="pointerdown",ji="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Ro="MSPointerDown",ji="MSPointerMove MSPointerUp MSPointerCancel");function Vi(){this.evEl=Ro,this.evWin=ji,Z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}S(Vi,Z,{handler:function(O){var I=this.store,V=!1,ne=O.type.toLowerCase().replace("ms",""),de=pd[ne],Ae=gd[O.pointerType]||O.pointerType,ft=Ae==B,yt=ie(I,O.pointerId,"pointerId");de&we&&(O.button===0||ft)?yt<0&&(I.push(O),yt=I.length-1):de&(ge|Ie)&&(V=!0),!(yt<0)&&(I[yt]=O,this.callback(this.manager,de,{pointers:I,changedPointers:[O],pointerType:Ae,srcEvent:O}),V&&I.splice(yt,1))}});var $B={touchstart:we,touchmove:be,touchend:ge,touchcancel:Ie},LB="touchstart",MB="touchstart touchmove touchend touchcancel";function gS(){this.evTarget=LB,this.evWin=MB,this.started=!1,Z.apply(this,arguments)}S(gS,Z,{handler:function(O){var I=$B[O.type];if(I===we&&(this.started=!0),!!this.started){var V=BB.call(this,O,I);I&(ge|Ie)&&V[0].length-V[1].length===0&&(this.started=!1),this.callback(this.manager,I,{pointers:V[0],changedPointers:V[1],pointerType:B,srcEvent:O})}}});function BB(x,O){var I=w(x.touches),V=w(x.changedTouches);return O&(ge|Ie)&&(I=C(I.concat(V),"identifier",!0)),[I,V]}var NB={touchstart:we,touchmove:be,touchend:ge,touchcancel:Ie},FB="touchstart touchmove touchend touchcancel";function vc(){this.evTarget=FB,this.targetIds={},Z.apply(this,arguments)}S(vc,Z,{handler:function(O){var I=NB[O.type],V=zB.call(this,O,I);V&&this.callback(this.manager,I,{pointers:V[0],changedPointers:V[1],pointerType:B,srcEvent:O})}});function zB(x,O){var I=w(x.touches),V=this.targetIds;if(O&(we|be)&&I.length===1)return V[I[0].identifier]=!0,[I,I];var ne,de,Ae=w(x.changedTouches),ft=[],yt=this.target;if(de=I.filter(function(Dt){return j(Dt.target,yt)}),O===we)for(ne=0;ne<de.length;)V[de[ne].identifier]=!0,ne++;for(ne=0;ne<Ae.length;)V[Ae[ne].identifier]&&ft.push(Ae[ne]),O&(ge|Ie)&&delete V[Ae[ne].identifier],ne++;if(ft.length)return[C(de.concat(ft),"identifier",!0),ft]}var HB=2500,mS=25;function md(){Z.apply(this,arguments);var x=k(this.handler,this);this.touch=new vc(this.manager,x),this.mouse=new Os(this.manager,x),this.primaryTouch=null,this.lastTouches=[]}S(md,Z,{handler:function(O,I,V){var ne=V.pointerType==B,de=V.pointerType==ae;if(!(de&&V.sourceCapabilities&&V.sourceCapabilities.firesTouchEvents)){if(ne)WB.call(this,I,V);else if(de&&jB.call(this,V))return;this.callback(O,I,V)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function WB(x,O){x&we?(this.primaryTouch=O.changedPointers[0].identifier,yS.call(this,O)):x&(ge|Ie)&&yS.call(this,O)}function yS(x){var O=x.changedPointers[0];if(O.identifier===this.primaryTouch){var I={x:O.clientX,y:O.clientY};this.lastTouches.push(I);var V=this.lastTouches,ne=function(){var de=V.indexOf(I);de>-1&&V.splice(de,1)};setTimeout(ne,HB)}}function jB(x){for(var O=x.srcEvent.clientX,I=x.srcEvent.clientY,V=0;V<this.lastTouches.length;V++){var ne=this.lastTouches[V],de=Math.abs(O-ne.x),Ae=Math.abs(I-ne.y);if(de<=mS&&Ae<=mS)return!0}return!1}var vS=m(o.style,"touchAction"),bS=vS!==n,wS="compute",SS="auto",yd="manipulation",bn="none",Do="pan-x",$o="pan-y",bc=UB();function vd(x,O){this.manager=x,this.set(O)}vd.prototype={set:function(x){x==wS&&(x=this.compute()),bS&&this.manager.element.style&&bc[x]&&(this.manager.element.style[vS]=x),this.actions=x.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var x=[];return d(this.manager.recognizers,function(O){_(O.options.enable,[O])&&(x=x.concat(O.getTouchAction()))}),VB(x.join(" "))},preventDefaults:function(x){var O=x.srcEvent,I=x.offsetDirection;if(this.manager.session.prevented){O.preventDefault();return}var V=this.actions,ne=M(V,bn)&&!bc[bn],de=M(V,$o)&&!bc[$o],Ae=M(V,Do)&&!bc[Do];if(ne){var ft=x.pointers.length===1,yt=x.distance<2,Dt=x.deltaTime<250;if(ft&&yt&&Dt)return}if(!(Ae&&de)&&(ne||de&&I&U||Ae&&I&E))return this.preventSrc(O)},preventSrc:function(x){this.manager.session.prevented=!0,x.preventDefault()}};function VB(x){if(M(x,bn))return bn;var O=M(x,Do),I=M(x,$o);return O&&I?bn:O||I?O?Do:$o:M(x,yd)?yd:SS}function UB(){if(!bS)return!1;var x={},O=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(I){x[I]=O?e.CSS.supports("touch-action",I):!0}),x}var wc=1,ir=2,Cs=4,Ui=8,ai=Ui,Lo=16,Wr=32;function li(x){this.options=g({},this.defaults,x||{}),this.id=Y(),this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=wc,this.simultaneous={},this.requireFail=[]}li.prototype={defaults:{},set:function(x){return g(this.options,x),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(x){if(f(x,"recognizeWith",this))return this;var O=this.simultaneous;return x=Sc(x,this),O[x.id]||(O[x.id]=x,x.recognizeWith(this)),this},dropRecognizeWith:function(x){return f(x,"dropRecognizeWith",this)?this:(x=Sc(x,this),delete this.simultaneous[x.id],this)},requireFailure:function(x){if(f(x,"requireFailure",this))return this;var O=this.requireFail;return x=Sc(x,this),ie(O,x)===-1&&(O.push(x),x.requireFailure(this)),this},dropRequireFailure:function(x){if(f(x,"dropRequireFailure",this))return this;x=Sc(x,this);var O=ie(this.requireFail,x);return O>-1&&this.requireFail.splice(O,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(x){return!!this.simultaneous[x.id]},emit:function(x){var O=this,I=this.state;function V(ne){O.manager.emit(ne,x)}I<Ui&&V(O.options.event+xS(I)),V(O.options.event),x.additionalEvent&&V(x.additionalEvent),I>=Ui&&V(O.options.event+xS(I))},tryEmit:function(x){if(this.canEmit())return this.emit(x);this.state=Wr},canEmit:function(){for(var x=0;x<this.requireFail.length;){if(!(this.requireFail[x].state&(Wr|wc)))return!1;x++}return!0},recognize:function(x){var O=g({},x);if(!_(this.options.enable,[this,O])){this.reset(),this.state=Wr;return}this.state&(ai|Lo|Wr)&&(this.state=wc),this.state=this.process(O),this.state&(ir|Cs|Ui|Lo)&&this.tryEmit(O)},process:function(x){},getTouchAction:function(){},reset:function(){}};function xS(x){return x&Lo?"cancel":x&Ui?"end":x&Cs?"move":x&ir?"start":""}function OS(x){return x==q?"down":x==b?"up":x==kt?"left":x==mt?"right":""}function Sc(x,O){var I=O.manager;return I?I.get(x):x}function vr(){li.apply(this,arguments)}S(vr,li,{defaults:{pointers:1},attrTest:function(x){var O=this.options.pointers;return O===0||x.pointers.length===O},process:function(x){var O=this.state,I=x.eventType,V=O&(ir|Cs),ne=this.attrTest(x);return V&&(I&Ie||!ne)?O|Lo:V||ne?I&ge?O|Ui:O&ir?O|Cs:ir:Wr}});function xc(){vr.apply(this,arguments),this.pX=null,this.pY=null}S(xc,vr,{defaults:{event:"pan",threshold:10,pointers:1,direction:P},getTouchAction:function(){var x=this.options.direction,O=[];return x&U&&O.push($o),x&E&&O.push(Do),O},directionTest:function(x){var O=this.options,I=!0,V=x.distance,ne=x.direction,de=x.deltaX,Ae=x.deltaY;return ne&O.direction||(O.direction&U?(ne=de===0?We:de<0?kt:mt,I=de!=this.pX,V=Math.abs(x.deltaX)):(ne=Ae===0?We:Ae<0?b:q,I=Ae!=this.pY,V=Math.abs(x.deltaY))),x.direction=ne,I&&V>O.threshold&&ne&O.direction},attrTest:function(x){return vr.prototype.attrTest.call(this,x)&&(this.state&ir||!(this.state&ir)&&this.directionTest(x))},emit:function(x){this.pX=x.deltaX,this.pY=x.deltaY;var O=OS(x.direction);O&&(x.additionalEvent=this.options.event+O),this._super.emit.call(this,x)}});function bd(){vr.apply(this,arguments)}S(bd,vr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bn]},attrTest:function(x){return this._super.attrTest.call(this,x)&&(Math.abs(x.scale-1)>this.options.threshold||this.state&ir)},emit:function(x){if(x.scale!==1){var O=x.scale<1?"in":"out";x.additionalEvent=this.options.event+O}this._super.emit.call(this,x)}});function wd(){li.apply(this,arguments),this._timer=null,this._input=null}S(wd,li,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[SS]},process:function(x){var O=this.options,I=x.pointers.length===O.pointers,V=x.distance<O.threshold,ne=x.deltaTime>O.time;if(this._input=x,!V||!I||x.eventType&(ge|Ie)&&!ne)this.reset();else if(x.eventType&we)this.reset(),this._timer=u(function(){this.state=ai,this.tryEmit()},O.time,this);else if(x.eventType&ge)return ai;return Wr},reset:function(){clearTimeout(this._timer)},emit:function(x){this.state===ai&&(x&&x.eventType&ge?this.manager.emit(this.options.event+"up",x):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}});function Sd(){vr.apply(this,arguments)}S(Sd,vr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bn]},attrTest:function(x){return this._super.attrTest.call(this,x)&&(Math.abs(x.rotation)>this.options.threshold||this.state&ir)}});function xd(){vr.apply(this,arguments)}S(xd,vr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:U|E,pointers:1},getTouchAction:function(){return xc.prototype.getTouchAction.call(this)},attrTest:function(x){var O=this.options.direction,I;return O&(U|E)?I=x.overallVelocity:O&U?I=x.overallVelocityX:O&E&&(I=x.overallVelocityY),this._super.attrTest.call(this,x)&&O&x.offsetDirection&&x.distance>this.options.threshold&&x.maxPointers==this.options.pointers&&c(I)>this.options.velocity&&x.eventType&ge},emit:function(x){var O=OS(x.offsetDirection);O&&this.manager.emit(this.options.event+O,x),this.manager.emit(this.options.event,x)}});function Oc(){li.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}S(Oc,li,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[yd]},process:function(x){var O=this.options,I=x.pointers.length===O.pointers,V=x.distance<O.threshold,ne=x.deltaTime<O.time;if(this.reset(),x.eventType&we&&this.count===0)return this.failTimeout();if(V&&ne&&I){if(x.eventType!=ge)return this.failTimeout();var de=this.pTime?x.timeStamp-this.pTime<O.interval:!0,Ae=!this.pCenter||Rt(this.pCenter,x.center)<O.posThreshold;this.pTime=x.timeStamp,this.pCenter=x.center,!Ae||!de?this.count=1:this.count+=1,this._input=x;var ft=this.count%O.taps;if(ft===0)return this.hasRequireFailures()?(this._timer=u(function(){this.state=ai,this.tryEmit()},O.interval,this),ir):ai}return Wr},failTimeout:function(){return this._timer=u(function(){this.state=Wr},this.options.interval,this),Wr},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ai&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ci(x,O){return O=O||{},O.recognizers=T(O.recognizers,ci.defaults.preset),new Od(x,O)}ci.VERSION="2.0.7",ci.defaults={domEvents:!1,touchAction:wS,enable:!0,inputTarget:null,inputClass:null,preset:[[Sd,{enable:!1}],[bd,{enable:!1},["rotate"]],[xd,{direction:U}],[xc,{direction:U},["swipe"]],[Oc],[Oc,{event:"doubletap",taps:2},["tap"]],[wd]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var XB=1,CS=2;function Od(x,O){this.options=g({},ci.defaults,O||{}),this.options.inputTarget=this.options.inputTarget||x,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=x,this.input=W(this),this.touchAction=new vd(this,this.options.touchAction),kS(this,!0),d(this.options.recognizers,function(I){var V=this.add(new I[0](I[1]));I[2]&&V.recognizeWith(I[2]),I[3]&&V.requireFailure(I[3])},this)}Od.prototype={set:function(x){return g(this.options,x),x.touchAction&&this.touchAction.update(),x.inputTarget&&(this.input.destroy(),this.input.target=x.inputTarget,this.input.init()),this},stop:function(x){this.session.stopped=x?CS:XB},recognize:function(x){var O=this.session;if(!O.stopped){this.touchAction.preventDefaults(x);var I,V=this.recognizers,ne=O.curRecognizer;(!ne||ne&&ne.state&ai)&&(ne=O.curRecognizer=null);for(var de=0;de<V.length;)I=V[de],O.stopped!==CS&&(!ne||I==ne||I.canRecognizeWith(ne))?I.recognize(x):I.reset(),!ne&&I.state&(ir|Cs|Ui)&&(ne=O.curRecognizer=I),de++}},get:function(x){if(x instanceof li)return x;for(var O=this.recognizers,I=0;I<O.length;I++)if(O[I].options.event==x)return O[I];return null},add:function(x){if(f(x,"add",this))return this;var O=this.get(x.options.event);return O&&this.remove(O),this.recognizers.push(x),x.manager=this,this.touchAction.update(),x},remove:function(x){if(f(x,"remove",this))return this;if(x=this.get(x),x){var O=this.recognizers,I=ie(O,x);I!==-1&&(O.splice(I,1),this.touchAction.update())}return this},on:function(x,O){if(x!==n&&O!==n){var I=this.handlers;return d(G(x),function(V){I[V]=I[V]||[],I[V].push(O)}),this}},off:function(x,O){if(x!==n){var I=this.handlers;return d(G(x),function(V){O?I[V]&&I[V].splice(ie(I[V],O),1):delete I[V]}),this}},emit:function(x,O){this.options.domEvents&&GB(x,O);var I=this.handlers[x]&&this.handlers[x].slice();if(!(!I||!I.length)){O.type=x,O.preventDefault=function(){O.srcEvent.preventDefault()};for(var V=0;V<I.length;)I[V](O),V++}},destroy:function(){this.element&&kS(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function kS(x,O){var I=x.element;if(I.style){var V;d(x.options.cssProps,function(ne,de){V=m(I.style,de),O?(x.oldCssProps[V]=I.style[V],I.style[V]=ne):I.style[V]=x.oldCssProps[V]||""}),O||(x.oldCssProps={})}}function GB(x,O){var I=t.createEvent("Event");I.initEvent(x,!0,!0),I.gesture=O,O.target.dispatchEvent(I)}g(ci,{INPUT_START:we,INPUT_MOVE:be,INPUT_END:ge,INPUT_CANCEL:Ie,STATE_POSSIBLE:wc,STATE_BEGAN:ir,STATE_CHANGED:Cs,STATE_ENDED:Ui,STATE_RECOGNIZED:ai,STATE_CANCELLED:Lo,STATE_FAILED:Wr,DIRECTION_NONE:We,DIRECTION_LEFT:kt,DIRECTION_RIGHT:mt,DIRECTION_UP:b,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:U,DIRECTION_VERTICAL:E,DIRECTION_ALL:P,Manager:Od,Input:Z,TouchAction:vd,TouchInput:vc,MouseInput:Os,PointerEventInput:Vi,TouchMouseInput:md,SingleTouchInput:gS,Recognizer:li,AttrRecognizer:vr,Tap:Oc,Pan:xc,Swipe:xd,Pinch:bd,Rotate:Sd,Press:wd,on:R,off:D,each:d,merge:y,extend:v,assign:g,inherit:S,bindFn:k,prefixed:m});var QB=typeof e<"u"?e:typeof self<"u"?self:{};QB.Hammer=ci,typeof n=="function"&&n.amd?n(function(){return ci}):r.exports?r.exports=ci:e[i]=ci})(window,document,"Hammer")})(Lw);var gL=Lw.exports;const tc=Cn(gL),mL="__hammerConfig",yL=["tap","pan","pinch","press","rotate","swipe"],rc=["panstart","panend","panmove","pancancel","pinchstart","pinchmove","pinchend","pinchcancel","pinchin","pinchout","pressup","rotatestart","rotatemove","rotateend","rotatecancel"],vL=["up","down","left","right","horizontal","vertical","all"],bL=(r,e)=>{const t=r;t.hammer||(t.hammer=new tc.Manager(t));const i=t.hammer,n=e.arg;if(!n){console.warn("[vue-hammer] event type argument is required.");return}t.__hammerConfig=t.__hammerConfig||{},t.__hammerConfig[n]={};const s=e.modifiers;t.__hammerConfig[n].direction=t.__hammerConfig[n].direction||[],Object.keys(s).length&&Object.keys(s).filter(u=>e.modifiers[u]).forEach(u=>{const f=t.__hammerConfig[n].direction;f.indexOf(u)===-1&&f.push(String(u))});const o=yL.find(u=>u===n),a=rc.find(u=>u===n);if(!o&&!a){console.warn(`[vue-hammer] invalid event type: ${n}`);return}if(a&&t.__hammerConfig[a].direction.length!==0&&console.warn(`[vue-hammer] ${a} should not have directions`),!o)return;if((o==="tap"||o==="pinch"||o==="press"||o==="rotate")&&t.__hammerConfig[o].direction.length!==0)throw Error(`[vue-hammer] ${o} should not have directions`);let l=i.get(o);l||(l=new tc[xL(o)],i.recognizers&&l.recognizeWith(i.recognizers),i.add(l));const c=t.hammerOptions&&t.hammerOptions[o];if(c&&(SL(c),l.set(c)),!n){console.warn("[vue-hammer] event type argument is required.");return}const h=rc.find(u=>u===n)?n:sd(n,t.__hammerConfig[n].direction);i.handler&&i.off(h,i.handler),typeof e.value!="function"?(i.handler=void 0,console.warn(`[vue-hammer] invalid handler function for v-hammer: ${e.arg}`)):i.on(h,i.handler=e.value)},Mw=(r,e)=>{if(!Bw(r))return;const t=r,i=t.hammer;if(!i)return;const n=e.arg;if(!n){console.warn("[vue-hammer] event type argument is required.");return}const s=rc.find(o=>o===n)?n:sd(n,t.__hammerConfig[n].direction);i.handler&&i.off(s,i.handler),typeof e.value!="function"?(i.handler=void 0,console.warn(`[vue-hammer] invalid handler function for v-hammer: ${e.arg}`)):i.on(s,i.handler=e.value)},wL=(r,e)=>{if(!Bw(r))return;const t=r,i=t.hammer;if(!i)return;const n=e.arg;if(!n){console.warn("[vue-hammer] event type argument is required.");return}const s=rc.find(o=>o===n)?n:sd(n,t.__hammerConfig[n].direction);i.handler&&i.off(s,i.handler),(!i.handlers||!Object.keys(i.handlers).length)&&(i.destroy(),t.hammer=void 0)},SL=r=>{const e=r.direction;if(typeof e=="string"){const t=`DIRECTION_${e.toUpperCase()}`;vL.indexOf(e)>-1&&Object.prototype.hasOwnProperty.call(tc,t)?r.direction=tc[t]:console.warn(`[vue-hammer] invalid direction: ${e}`)}},sd=(r,e)=>{const t={};e.forEach(s=>{const o=s.toLowerCase();o==="horizontal"?(t.left=1,t.right=1):o==="vertical"?(t.up=1,t.down=1):o==="all"?(t.left=1,t.right=1,t.up=1,t.down=1):t[o]=1});const i=Object.keys(t);return i.length===0?r:i.map(s=>r+s).join(" ")};function Bw(r){return r[mL]!==void 0}function xL(r){return r.charAt(0).toUpperCase()+r.slice(1)}const OL={inserted:bL,update:Mw,componentUpdated:Mw,unbind:wL},CL={[nt.Click]:"click",[nt.DoubleClick]:"dblclick"},kL=[nt.SwipeRight,nt.SwipeLeft,nt.SwipeUp,nt.SwipeDown],AL={[nt.SwipeRight]:"right",[nt.SwipeLeft]:"left",[nt.SwipeUp]:"up",[nt.SwipeDown]:"down"},PL=Pe.extend({directives:{touch:OL,clickTouch:$w,doubleTap:Sw},props:{interaction:Ct({required:!0})},computed:{interactionType(){return this.interaction.Type},isClickInteraction(){return this.interactionType===nt.Click},isDoubleClickInteraction(){return this.interactionType===nt.DoubleClick},isSwipeInteraction(){return kL.includes(this.interactionType)},clickEventHandlers(){const r=CL[this.interactionType];return r?{[r]:this.handleTrigger}:{}},doubleTapDirectiveOptions(){return{name:"double-tap"}},clickTouchDirectiveOptions(){return{name:"click-touch"}},swipeDirectiveOptions(){const r=AL[this.interactionType];return r?{name:"touch",arg:"swipe",value:this.handleTrigger,modifiers:{[r]:!0}}:void 0},hotspotData(){const r={};if(this.isDoubleClickInteraction){const e=this.doubleTapDirectiveOptions;r.on={...this.clickEventHandlers,dbltap:this.handleTrigger},r.directives=[e]}if(this.isClickInteraction){const e=this.clickTouchDirectiveOptions;$w&&(r.on={...r.on,"click-touch":this.handleTrigger},r.directives=[e])}if(this.isSwipeInteraction){const e=this.swipeDirectiveOptions;e&&(r.directives=[e])}return r}},methods:{handleTrigger(){this.$emit("action-triggered")}},render(r){return r("button",this.hotspotData)}});var _L=pr(PL,null,null,!1,null,null,null,null);const EL=_L.exports,TL=Pe.extend({components:{ArtboardHotspot:EL},props:{action:Ct({required:!0}),headerHeight:{type:Number,required:!1,default:0},footerHeight:{type:Number,required:!1,default:0},scaleX:{type:Number,required:!1,default:1},asset:Ct({required:!0}),platform:Ct({required:!0}),hotspotsVisible:{type:Boolean,default:!1},scaleToFitWidth:{type:Boolean,default:!1}},computed:{rx(){return!this.scaleToFitWidth&&this.platform?this.platform.Settings.Dimensions.Width/this.asset.Dimensions.Width:1},ry(){return this.rx},relativeToTop(){return!this.action.IsMaster||typeof this.action.RelativeToBottom!="number"},relativeToBottomValue(){return this.action.RelativeToBottom||0},adjustLeft(){return this.action.Hotspot.Start.X/this.rx-this.action.Hotspot.Start.X},adjustTop(){const r=this.action;return this.relativeToTop?r.Hotspot.Start.Y/this.ry-r.Hotspot.Start.Y-this.headerHeight:-(this.relativeToBottomValue*this.scaleX+this.footerHeight)},adjustWidth(){return this.action.Hotspot.Dimensions.Width/this.rx-this.action.Hotspot.Dimensions.Width},adjustHeight(){return this.action.Hotspot.Dimensions.Height/this.ry-this.action.Hotspot.Dimensions.Height},calculatedX(){const{Hotspot:{Start:{X:r}}}=this.action;return r+this.adjustLeft},calculatedY(){const{Hotspot:{Start:{Y:r}}}=this.action;return(this.relativeToTop?r:this.relativeToBottomValue)+this.adjustTop},hotspotClasses(){return{"artboard-hotspot--highlight":this.hotspotsVisible}},hotspotStyles(){const{Hotspot:{Dimensions:r}}=this.action,{Width:e,Height:t}=r;return{left:`${this.calculatedX}px`,[this.relativeToTop?"top":"bottom"]:`${this.calculatedY}px`,width:`${e+this.adjustWidth}px`,height:`${t+this.adjustHeight}px`}}},methods:{async handleAction(r){const{Setting:e}=r;if(Iw(e))return this.$store.dispatch(new T$(r,e));if(hL(e)){let t=e.Url;!GS(t)&&!XS(t)&&(t=`http://${t}`);const{origin:i}=new Fo(t);if(i&&i!=="null")try{window.open(t,"_blank","noopener")}catch{console.error(`External url is malformed, ${t}.`)}}}}}),lN="";var IL=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ArtboardHotspot",{key:`${e.action.Id}-${e.action.Setting.Interaction.Type}`,staticClass:"unstyled-button artboard-hotspot",class:e.hotspotClasses,style:e.hotspotStyles,attrs:{interaction:e.action.Setting.Interaction},on:{"action-triggered":function(i){return e.handleAction(e.action)}}})},RL=[],DL=pr(TL,IL,RL,!1,null,"1d462df8",null,null);const Nw=DL.exports,$L=Pe.extend({props:{artboardId:{type:String,required:!0}},computed:{bundle(){const{bundles:r}=this.$store.state;return r[this.artboardId]}},watch:{artboardId:{async handler(r){await this.loadArtboard(r)},immediate:!0}},methods:{loadArtboard(r){return this.$store.dispatch(new ww(r))}}});var LL=function(){var e=this,t=e._self._c;return e._self._setupProxy,e.bundle?t("div",[e._t("default",null,{bundle:e.bundle})],2):e._e()},ML=[],BL=pr($L,LL,ML,!1,null,null,null,null);const Fw=BL.exports,NL=Pe.extend({components:{ExpoArtboardLoader:Fw},props:{artboardId:{type:String,required:!0},actions:Ct({required:!0})},computed:{navigationArtboards(){const e=Object.values(this.actions).filter(i=>Iw(i.Setting)),t=this.$store.getters.resolveNavigationTarget;return e.map(i=>t(i.Type,i))},previousArtboard(){return this.$store.getters.getPreviousArtboard(this.artboardId)},nextArtboard(){return this.$store.getters.getNextArtboard(this.artboardId)},artboardsToPreload(){return[...this.navigationArtboards,this.previousArtboard||"",this.nextArtboard||""].filter(Boolean).filter(TS)}}});var FL=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},e._l(e.artboardsToPreload,function(i){return t("ExpoArtboardLoader",{key:i,attrs:{"artboard-id":i},scopedSlots:e._u([{key:"default",fn:function({bundle:n}){return[t("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{src:n.assetsUrls[n.artboard.AssetId]}})]}}],null,!0)})}),1)},zL=[],HL=pr(NL,FL,zL,!1,null,null,null,null);const WL=HL.exports;/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function Hr(r){return getComputedStyle(r)}function Ft(r,e){for(var t in e){var i=e[t];typeof i=="number"&&(i=i+"px"),r.style[t]=i}return r}function ic(r){var e=document.createElement("div");return e.className=r,e}var zw=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function zi(r,e){if(!zw)throw new Error("No element matching method supported");return zw.call(r,e)}function gs(r){r.remove?r.remove():r.parentNode&&r.parentNode.removeChild(r)}function Hw(r,e){return Array.prototype.filter.call(r.children,function(t){return zi(t,e)})}var rt={main:"ps",rtl:"ps__rtl",element:{thumb:function(r){return"ps__thumb-"+r},rail:function(r){return"ps__rail-"+r},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(r){return"ps--active-"+r},scrolling:function(r){return"ps--scrolling-"+r}}},Ww={x:null,y:null};function jw(r,e){var t=r.element.classList,i=rt.state.scrolling(e);t.contains(i)?clearTimeout(Ww[e]):t.add(i)}function Vw(r,e){Ww[e]=setTimeout(function(){return r.isAlive&&r.element.classList.remove(rt.state.scrolling(e))},r.settings.scrollingThreshold)}function jL(r,e){jw(r,e),Vw(r,e)}var Po=function(e){this.element=e,this.handlers={}},Uw={isEmpty:{configurable:!0}};Po.prototype.bind=function(e,t){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},Po.prototype.unbind=function(e,t){var i=this;this.handlers[e]=this.handlers[e].filter(function(n){return t&&n!==t?!0:(i.element.removeEventListener(e,n,!1),!1)})},Po.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},Uw.isEmpty.get=function(){var r=this;return Object.keys(this.handlers).every(function(e){return r.handlers[e].length===0})},Object.defineProperties(Po.prototype,Uw);var ms=function(){this.eventElements=[]};ms.prototype.eventElement=function(e){var t=this.eventElements.filter(function(i){return i.element===e})[0];return t||(t=new Po(e),this.eventElements.push(t)),t},ms.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},ms.prototype.unbind=function(e,t,i){var n=this.eventElement(e);n.unbind(t,i),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},ms.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},ms.prototype.once=function(e,t,i){var n=this.eventElement(e),s=function(o){n.unbind(t,s),i(o)};n.bind(t,s)};function nc(r){if(typeof window.CustomEvent=="function")return new CustomEvent(r);var e=document.createEvent("CustomEvent");return e.initCustomEvent(r,!1,!1,void 0),e}function sc(r,e,t,i,n){i===void 0&&(i=!0),n===void 0&&(n=!1);var s;if(e==="top")s=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")s=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");VL(r,t,s,i,n)}function VL(r,e,t,i,n){var s=t[0],o=t[1],a=t[2],l=t[3],c=t[4],h=t[5];i===void 0&&(i=!0),n===void 0&&(n=!1);var u=r.element;r.reach[l]=null,u[a]<1&&(r.reach[l]="start"),u[a]>r[s]-r[o]-1&&(r.reach[l]="end"),e&&(u.dispatchEvent(nc("ps-scroll-"+l)),e<0?u.dispatchEvent(nc("ps-scroll-"+c)):e>0&&u.dispatchEvent(nc("ps-scroll-"+h)),i&&jL(r,l)),r.reach[l]&&(e||n)&&u.dispatchEvent(nc("ps-"+l+"-reach-"+r.reach[l]))}function qe(r){return parseInt(r,10)||0}function UL(r){return zi(r,"input,[contenteditable]")||zi(r,"select,[contenteditable]")||zi(r,"textarea,[contenteditable]")||zi(r,"button,[contenteditable]")}function XL(r){var e=Hr(r);return qe(e.width)+qe(e.paddingLeft)+qe(e.paddingRight)+qe(e.borderLeftWidth)+qe(e.borderRightWidth)}var ys={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function ni(r){var e=r.element,t=Math.floor(e.scrollTop),i=e.getBoundingClientRect();r.containerWidth=Math.round(i.width),r.containerHeight=Math.round(i.height),r.contentWidth=e.scrollWidth,r.contentHeight=e.scrollHeight,e.contains(r.scrollbarXRail)||(Hw(e,rt.element.rail("x")).forEach(function(n){return gs(n)}),e.appendChild(r.scrollbarXRail)),e.contains(r.scrollbarYRail)||(Hw(e,rt.element.rail("y")).forEach(function(n){return gs(n)}),e.appendChild(r.scrollbarYRail)),!r.settings.suppressScrollX&&r.containerWidth+r.settings.scrollXMarginOffset<r.contentWidth?(r.scrollbarXActive=!0,r.railXWidth=r.containerWidth-r.railXMarginWidth,r.railXRatio=r.containerWidth/r.railXWidth,r.scrollbarXWidth=Xw(r,qe(r.railXWidth*r.containerWidth/r.contentWidth)),r.scrollbarXLeft=qe((r.negativeScrollAdjustment+e.scrollLeft)*(r.railXWidth-r.scrollbarXWidth)/(r.contentWidth-r.containerWidth))):r.scrollbarXActive=!1,!r.settings.suppressScrollY&&r.containerHeight+r.settings.scrollYMarginOffset<r.contentHeight?(r.scrollbarYActive=!0,r.railYHeight=r.containerHeight-r.railYMarginHeight,r.railYRatio=r.containerHeight/r.railYHeight,r.scrollbarYHeight=Xw(r,qe(r.railYHeight*r.containerHeight/r.contentHeight)),r.scrollbarYTop=qe(t*(r.railYHeight-r.scrollbarYHeight)/(r.contentHeight-r.containerHeight))):r.scrollbarYActive=!1,r.scrollbarXLeft>=r.railXWidth-r.scrollbarXWidth&&(r.scrollbarXLeft=r.railXWidth-r.scrollbarXWidth),r.scrollbarYTop>=r.railYHeight-r.scrollbarYHeight&&(r.scrollbarYTop=r.railYHeight-r.scrollbarYHeight),GL(e,r),r.scrollbarXActive?e.classList.add(rt.state.active("x")):(e.classList.remove(rt.state.active("x")),r.scrollbarXWidth=0,r.scrollbarXLeft=0,e.scrollLeft=r.isRtl===!0?r.contentWidth:0),r.scrollbarYActive?e.classList.add(rt.state.active("y")):(e.classList.remove(rt.state.active("y")),r.scrollbarYHeight=0,r.scrollbarYTop=0,e.scrollTop=0)}function Xw(r,e){return r.settings.minScrollbarLength&&(e=Math.max(e,r.settings.minScrollbarLength)),r.settings.maxScrollbarLength&&(e=Math.min(e,r.settings.maxScrollbarLength)),e}function GL(r,e){var t={width:e.railXWidth},i=Math.floor(r.scrollTop);e.isRtl?t.left=e.negativeScrollAdjustment+r.scrollLeft+e.containerWidth-e.contentWidth:t.left=r.scrollLeft,e.isScrollbarXUsingBottom?t.bottom=e.scrollbarXBottom-i:t.top=e.scrollbarXTop+i,Ft(e.scrollbarXRail,t);var n={top:i,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?n.right=e.contentWidth-(e.negativeScrollAdjustment+r.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:n.right=e.scrollbarYRight-r.scrollLeft:e.isRtl?n.left=e.negativeScrollAdjustment+r.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:n.left=e.scrollbarYLeft+r.scrollLeft,Ft(e.scrollbarYRail,n),Ft(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),Ft(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function QL(r){r.element,r.event.bind(r.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),r.event.bind(r.scrollbarYRail,"mousedown",function(e){var t=e.pageY-window.pageYOffset-r.scrollbarYRail.getBoundingClientRect().top,i=t>r.scrollbarYTop?1:-1;r.element.scrollTop+=i*r.containerHeight,ni(r),e.stopPropagation()}),r.event.bind(r.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),r.event.bind(r.scrollbarXRail,"mousedown",function(e){var t=e.pageX-window.pageXOffset-r.scrollbarXRail.getBoundingClientRect().left,i=t>r.scrollbarXLeft?1:-1;r.element.scrollLeft+=i*r.containerWidth,ni(r),e.stopPropagation()})}function YL(r){Gw(r,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Gw(r,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function Gw(r,e){var t=e[0],i=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=r.element,f=null,d=null,p=null;function g(S){S.touches&&S.touches[0]&&(S[n]=S.touches[0].pageY),u[l]=f+p*(S[n]-d),jw(r,c),ni(r),S.stopPropagation(),S.type.startsWith("touch")&&S.changedTouches.length>1&&S.preventDefault()}function v(){Vw(r,c),r[h].classList.remove(rt.state.clicking),r.event.unbind(r.ownerDocument,"mousemove",g)}function y(S,k){f=u[l],k&&S.touches&&(S[n]=S.touches[0].pageY),d=S[n],p=(r[i]-r[t])/(r[s]-r[a]),k?r.event.bind(r.ownerDocument,"touchmove",g):(r.event.bind(r.ownerDocument,"mousemove",g),r.event.once(r.ownerDocument,"mouseup",v),S.preventDefault()),r[h].classList.add(rt.state.clicking),S.stopPropagation()}r.event.bind(r[o],"mousedown",function(S){y(S)}),r.event.bind(r[o],"touchstart",function(S){y(S,!0)})}function qL(r){var e=r.element,t=function(){return zi(e,":hover")},i=function(){return zi(r.scrollbarX,":focus")||zi(r.scrollbarY,":focus")};function n(s,o){var a=Math.floor(e.scrollTop);if(s===0){if(!r.scrollbarYActive)return!1;if(a===0&&o>0||a>=r.contentHeight-r.containerHeight&&o<0)return!r.settings.wheelPropagation}var l=e.scrollLeft;if(o===0){if(!r.scrollbarXActive)return!1;if(l===0&&s<0||l>=r.contentWidth-r.containerWidth&&s>0)return!r.settings.wheelPropagation}return!0}r.event.bind(r.ownerDocument,"keydown",function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)&&!(!t()&&!i())){var o=document.activeElement?document.activeElement:r.ownerDocument.activeElement;if(o){if(o.tagName==="IFRAME")o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(UL(o))return}var a=0,l=0;switch(s.which){case 37:s.metaKey?a=-r.contentWidth:s.altKey?a=-r.containerWidth:a=-30;break;case 38:s.metaKey?l=r.contentHeight:s.altKey?l=r.containerHeight:l=30;break;case 39:s.metaKey?a=r.contentWidth:s.altKey?a=r.containerWidth:a=30;break;case 40:s.metaKey?l=-r.contentHeight:s.altKey?l=-r.containerHeight:l=-30;break;case 32:s.shiftKey?l=r.containerHeight:l=-r.containerHeight;break;case 33:l=r.containerHeight;break;case 34:l=-r.containerHeight;break;case 36:l=r.contentHeight;break;case 35:l=-r.contentHeight;break;default:return}r.settings.suppressScrollX&&a!==0||r.settings.suppressScrollY&&l!==0||(e.scrollTop-=l,e.scrollLeft+=a,ni(r),n(a,l)&&s.preventDefault())}})}function KL(r){var e=r.element;function t(o,a){var l=Math.floor(e.scrollTop),c=e.scrollTop===0,h=l+e.offsetHeight===e.scrollHeight,u=e.scrollLeft===0,f=e.scrollLeft+e.offsetWidth===e.scrollWidth,d;return Math.abs(a)>Math.abs(o)?d=c||h:d=u||f,d?!r.settings.wheelPropagation:!0}function i(o){var a=o.deltaX,l=-1*o.deltaY;return(typeof a>"u"||typeof l>"u")&&(a=-1*o.wheelDeltaX/6,l=o.wheelDeltaY/6),o.deltaMode&&o.deltaMode===1&&(a*=10,l*=10),a!==a&&l!==l&&(a=0,l=o.wheelDelta),o.shiftKey?[-l,-a]:[a,l]}function n(o,a,l){if(!ys.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(o))return!1;for(var c=o;c&&c!==e;){if(c.classList.contains(rt.element.consuming))return!0;var h=Hr(c);if(l&&h.overflowY.match(/(scroll|auto)/)){var u=c.scrollHeight-c.clientHeight;if(u>0&&(c.scrollTop>0&&l<0||c.scrollTop<u&&l>0))return!0}if(a&&h.overflowX.match(/(scroll|auto)/)){var f=c.scrollWidth-c.clientWidth;if(f>0&&(c.scrollLeft>0&&a<0||c.scrollLeft<f&&a>0))return!0}c=c.parentNode}return!1}function s(o){var a=i(o),l=a[0],c=a[1];if(!n(o.target,l,c)){var h=!1;r.settings.useBothWheelAxes?r.scrollbarYActive&&!r.scrollbarXActive?(c?e.scrollTop-=c*r.settings.wheelSpeed:e.scrollTop+=l*r.settings.wheelSpeed,h=!0):r.scrollbarXActive&&!r.scrollbarYActive&&(l?e.scrollLeft+=l*r.settings.wheelSpeed:e.scrollLeft-=c*r.settings.wheelSpeed,h=!0):(e.scrollTop-=c*r.settings.wheelSpeed,e.scrollLeft+=l*r.settings.wheelSpeed),ni(r),h=h||t(l,c),h&&!o.ctrlKey&&(o.stopPropagation(),o.preventDefault())}}typeof window.onwheel<"u"?r.event.bind(e,"wheel",s):typeof window.onmousewheel<"u"&&r.event.bind(e,"mousewheel",s)}function ZL(r){if(!ys.supportsTouch&&!ys.supportsIePointer)return;var e=r.element;function t(p,g){var v=Math.floor(e.scrollTop),y=e.scrollLeft,S=Math.abs(p),k=Math.abs(g);if(k>S){if(g<0&&v===r.contentHeight-r.containerHeight||g>0&&v===0)return window.scrollY===0&&g>0&&ys.isChrome}else if(S>k&&(p<0&&y===r.contentWidth-r.containerWidth||p>0&&y===0))return!0;return!0}function i(p,g){e.scrollTop-=g,e.scrollLeft-=p,ni(r)}var n={},s=0,o={},a=null;function l(p){return p.targetTouches?p.targetTouches[0]:p}function c(p){return p.pointerType&&p.pointerType==="pen"&&p.buttons===0?!1:!!(p.targetTouches&&p.targetTouches.length===1||p.pointerType&&p.pointerType!=="mouse"&&p.pointerType!==p.MSPOINTER_TYPE_MOUSE)}function h(p){if(c(p)){var g=l(p);n.pageX=g.pageX,n.pageY=g.pageY,s=new Date().getTime(),a!==null&&clearInterval(a)}}function u(p,g,v){if(!e.contains(p))return!1;for(var y=p;y&&y!==e;){if(y.classList.contains(rt.element.consuming))return!0;var S=Hr(y);if(v&&S.overflowY.match(/(scroll|auto)/)){var k=y.scrollHeight-y.clientHeight;if(k>0&&(y.scrollTop>0&&v<0||y.scrollTop<k&&v>0))return!0}if(g&&S.overflowX.match(/(scroll|auto)/)){var _=y.scrollWidth-y.clientWidth;if(_>0&&(y.scrollLeft>0&&g<0||y.scrollLeft<_&&g>0))return!0}y=y.parentNode}return!1}function f(p){if(c(p)){var g=l(p),v={pageX:g.pageX,pageY:g.pageY},y=v.pageX-n.pageX,S=v.pageY-n.pageY;if(u(p.target,y,S))return;i(y,S),n=v;var k=new Date().getTime(),_=k-s;_>0&&(o.x=y/_,o.y=S/_,s=k),t(y,S)&&p.preventDefault()}}function d(){r.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){if(r.isInitialized){clearInterval(a);return}if(!o.x&&!o.y){clearInterval(a);return}if(Math.abs(o.x)<.01&&Math.abs(o.y)<.01){clearInterval(a);return}if(!r.element){clearInterval(a);return}i(o.x*30,o.y*30),o.x*=.8,o.y*=.8},10))}ys.supportsTouch?(r.event.bind(e,"touchstart",h),r.event.bind(e,"touchmove",f),r.event.bind(e,"touchend",d)):ys.supportsIePointer&&(window.PointerEvent?(r.event.bind(e,"pointerdown",h),r.event.bind(e,"pointermove",f),r.event.bind(e,"pointerup",d)):window.MSPointerEvent&&(r.event.bind(e,"MSPointerDown",h),r.event.bind(e,"MSPointerMove",f),r.event.bind(e,"MSPointerUp",d)))}var JL=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},eM={"click-rail":QL,"drag-thumb":YL,keyboard:qL,wheel:KL,touch:ZL},_o=function(e,t){var i=this;if(t===void 0&&(t={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(rt.main),this.settings=JL();for(var n in t)this.settings[n]=t[n];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(rt.state.focus)},o=function(){return e.classList.remove(rt.state.focus)};this.isRtl=Hr(e).direction==="rtl",this.isRtl===!0&&e.classList.add(rt.rtl),this.isNegativeScroll=function(){var c=e.scrollLeft,h=null;return e.scrollLeft=-1,h=e.scrollLeft<0,e.scrollLeft=c,h}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new ms,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=ic(rt.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=ic(rt.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",o),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var a=Hr(this.scrollbarXRail);this.scrollbarXBottom=parseInt(a.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=qe(a.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=qe(a.borderLeftWidth)+qe(a.borderRightWidth),Ft(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=qe(a.marginLeft)+qe(a.marginRight),Ft(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=ic(rt.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=ic(rt.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",o),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=Hr(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=qe(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?XL(this.scrollbarY):null,this.railBorderYWidth=qe(l.borderTopWidth)+qe(l.borderBottomWidth),Ft(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=qe(l.marginTop)+qe(l.marginBottom),Ft(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(c){return eM[c](i)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(c){return i.onScroll(c)}),ni(this)};_o.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Ft(this.scrollbarXRail,{display:"block"}),Ft(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=qe(Hr(this.scrollbarXRail).marginLeft)+qe(Hr(this.scrollbarXRail).marginRight),this.railYMarginHeight=qe(Hr(this.scrollbarYRail).marginTop)+qe(Hr(this.scrollbarYRail).marginBottom),Ft(this.scrollbarXRail,{display:"none"}),Ft(this.scrollbarYRail,{display:"none"}),ni(this),sc(this,"top",0,!1,!0),sc(this,"left",0,!1,!0),Ft(this.scrollbarXRail,{display:""}),Ft(this.scrollbarYRail,{display:""}))},_o.prototype.onScroll=function(e){this.isAlive&&(ni(this),sc(this,"top",this.element.scrollTop-this.lastScrollTop),sc(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},_o.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),gs(this.scrollbarX),gs(this.scrollbarY),gs(this.scrollbarXRail),gs(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},_o.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};const tM=Pe.extend({props:{options:{type:Object,required:!1,default:()=>({})},tag:{type:String,required:!1,default:"div"}},data(){return{ps:void 0}},mounted(){window.setTimeout(()=>{if(!(this.ps&&this.$isServer)){const r=this.$refs.container;r&&(this.ps=new _o(r,this.options))}},0)},updated(){this.update()},beforeDestroy(){this.destroy()},methods:{update(){this.ps&&this.ps.update()},destroy(){this.ps&&(this.ps.destroy(),this.ps=void 0)}},render(r){return r(this.tag,{ref:"container",on:this.$listeners},this.$slots.default)}});var rM=pr(tM,null,null,!1,null,null,null,null);const iM=rM.exports,nM=Pe.extend({components:{ArtboardAction:Nw,ArtboardPreloader:WL,AxPerfectScrollbar:iM},directives:{dragscroll:cL},props:{project:Ct({required:!0}),bundle:Ct({required:!0}),actions:Ct({required:!0}),platform:Ct(),rootContainer:{required:!1,default:void 0},hotspotsVisible:{type:Boolean,default:!1},preloadNext:{type:Boolean,default:!1},scaleToFitWidth:{type:Boolean,default:!1}},data(){return{dragscrollOptions:{targetDocument:this.rootContainer&&this.rootContainer.ownerDocument||document}}},computed:{projectWidth(){return this.$store.getters.projectDimensions.width},projectHeight(){return this.$store.getters.projectDimensions.height},headerHeight(){return this.bundle.artboard.HeaderHeight*this.scaleX},footerHeight(){return this.bundle.artboard.FooterHeight*this.scaleX},asset(){return this.bundle.artboardAsset},artboard(){const r=this.bundle.artboard.AssetId;return{id:this.bundle.artboard.Id,src:this.bundle.assetsUrls[r],thumbnailSrc:this.bundle.thumbnails[r]}},artboardSelfActions(){return this.bundle.artboard.ActionPool.Actions},artboardStyle(){return{width:`${this.projectWidth}px`,height:`${this.projectHeight}px`}},bodyStyle(){return{top:`${this.headerHeight}px`,width:`${this.projectWidth}px`,height:`${this.projectHeight-this.headerHeight-this.footerHeight}px`}},scaleX(){return this.scaleToFitWidth?this.projectWidth/this.assetDimensions.width:1},assetDimensions(){const r=this.asset.Dimensions;return{width:r.Width,height:r.Height}},bodyStyleViewport(){if(this.scaleToFitWidth)return{};const r=Math.max(this.assetDimensions.height,this.projectHeight);return{width:`${Math.max(this.assetDimensions.width,this.projectWidth)}px`,height:`${r-this.headerHeight-this.footerHeight}px`}},bodyAssetStyle(){let r={marginTop:`-${this.headerHeight}px`,marginBottom:`-${this.footerHeight}px`};return this.scaleToFitWidth&&(r={...r,width:"100%",height:"auto"}),r},actionsContainerStyle(){return{}}},created(){this.reportScroll({scrollLeft:0,scrollTop:0}),this.$on("scroll-to-position",this.scrollToPosition)},activated(){this.$nextTick(()=>{const r=this.$refs.perfectScrollbar;r&&typeof r.update=="function"&&r.update()}),this.reportScroll({scrollLeft:0,scrollTop:0})},methods:{psScroll(r){const e=r.target;e instanceof HTMLElement&&this.reportScroll({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})},reportScroll(r){this.$emit("scroll",r)},scrollToPosition(r){const e=this.$refs.perfectScrollbar,t=this.rootContainer.ownerDocument,i=t==null?void 0:t.scrollingElement;if(t&&i&&(i.scrollTop=r.y-i.clientHeight/2,i.scrollLeft=r.x-i.clientWidth/2),e){const n=e.$el;n.scrollLeft=r.x-this.projectWidth/2,n.scrollTop=r.y-this.projectHeight/2}}}}),uN="",fN="";var sM=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"expo-artboard",style:e.artboardStyle},[t("AxPerfectScrollbar",{directives:[{name:"dragscroll",rawName:"v-dragscroll",value:e.dragscrollOptions,expression:"dragscrollOptions"}],ref:"perfectScrollbar",staticClass:"expo-artboard__body",style:e.bodyStyle,on:{dragscrollmove:function(i){return e.$emit("scroll",i)},"ps-scroll-x":e.psScroll,"ps-scroll-y":e.psScroll}},[t("div",{staticClass:"expo-artboard__body-viewport",style:e.bodyStyleViewport},[t("img",{staticClass:"artboard-asset",style:e.bodyAssetStyle,attrs:{src:e.artboard.src}}),t("div",{staticClass:"artboard-actions",style:e.actionsContainerStyle},e._l(e.actions,function(i){return t("ArtboardAction",{key:i.Id,attrs:{"header-height":e.headerHeight,"footer-height":e.footerHeight,"scale-x":e.scaleX,action:i,asset:e.asset,platform:e.platform,"hotspots-visible":e.hotspotsVisible,"scale-to-fit-width":e.scaleToFitWidth}})}),1)])]),t("KeepAlive",[e.preloadNext?t("ArtboardPreloader",{key:e.artboard.id,attrs:{"artboard-id":e.artboard.id,actions:e.actions}}):e._e()],1)],1)},oM=[],aM=pr(nM,sM,oM,!1,null,"54ddc191",null,null);const lM=aM.exports,cM=Pe.extend({components:{ArtboardAction:Nw},props:{bundle:Ct({required:!0}),actions:Ct({required:!0}),platform:Ct(),hotspotsVisible:{type:Boolean,default:!1},height:{type:Number,required:!0},width:{type:Number,required:!0},top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},scaleToFitWidth:{type:Boolean,default:!1}},computed:{style(){return{height:`${this.height*this.scaleX}px`,width:`${this.width}px`}},scaleX(){return this.scaleToFitWidth?this.width/this.assetDimensions.width:1},assetDimensions(){const r=this.bundle.artboardAsset.Dimensions;return{width:r.Width,height:r.Height}},assetClasses(){return{"artboard-asset--top":this.top,"artboard-asset--bottom":this.bottom,"artboard-asset--fit":this.scaleToFitWidth}},artboardClasses(){return{"expo-artboard--top":this.top,"expo-artboard--bottom":this.bottom}},src(){const r=this.bundle.artboard.AssetId;return this.bundle.assetsUrls[r]},artboardActionsStyle(){const r={};return this.bottom&&(r.top=`-${(this.assetDimensions.height-this.bundle.artboard.FooterHeight)*this.scaleX}px`),r}}}),dN="";var hM=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"expo-artboard__fixed",class:e.artboardClasses,style:e.style},[t("img",{staticClass:"artboard-asset artboard-asset--fixed",class:e.assetClasses,attrs:{src:e.src}}),t("div",{staticClass:"artboard-actions",style:e.artboardActionsStyle},e._l(e.actions,function(i){return t("ArtboardAction",{key:i.Id,attrs:{"scale-x":e.scaleX,action:i,asset:e.bundle.artboardAsset,platform:e.platform,"hotspots-visible":e.hotspotsVisible,"scale-to-fit-width":e.scaleToFitWidth}})}),1)])},uM=[],fM=pr(cM,hM,uM,!1,null,"a28c0294",null,null);const dM=fM.exports,pM=Pe.extend({components:{ExpoArtboard:lM,ExpoArtboardFixed:dM,ExpoArtboardLoader:Fw,ExpoBundleResolver:rL},props:{project:Ct({required:!0})},data(){const{container:r=window}=this.$store.state;return{container:r,preloadEnabled:!0,active:{}}},computed:{projectWidth(){return this.$store.getters.projectDimensions.width},scaleToFitWidth(){const{fitArtboardToProjectWidth:r}=this.$store.state;return r},backgroundStyle(){const{platform:r}=this;let e="transparent";return r&&r.IsUsingBackgroundColor&&(e=`#${r.BackgroundColor}`),{backgroundColor:e}},current(){const{currentArtboardId:r}=this.$store.state;return r},hotspotsVisible(){const{hotspotsVisible:r}=this.$store.state;return r},platform(){return this.project.platform},nextTargets(){return[]},artboards(){const r=this.preloadEnabled;return this.project.artboardsOrder.map(e=>({id:e,isActive:e===this.current,preload:r&&this.nextTargets.includes(e)}))},currentAction(){const{currentAction:r}=this.$store.state;return r},transition(){const r=this.currentAction;if(r){const e=r.Setting.Interaction.Animation.In,t=mM(e);if(t)return t}},transitionHeader(){return!0},transitionFooter(){return!0},transitionOptions(){if(this.transition){const{name:r,mode:e}=this.transition;return{name:r,mode:e}}return{}},transitionStyles(){if(this.transition){const{duration:r,property:e}=this.transition;return{transitionProperty:e,transitionDuration:`${r}ms`,transitionTimingFunction:"ease-in-out"}}return{transitionProperty:"",transitionTimingFunction:"",transitionDuration:"0ms"}}},created(){this.$on("scroll-to-position",r=>{const e=this.$refs.artboard;e&&e.$emit("scroll-to-position",r)})}}),vs={property:"transform",mode:""},oc={property:"transform",mode:"out-in"},gM={[Le.None]:{name:"none",property:"",mode:""},[Le.Fade]:{name:"fade",property:"opacity",mode:"out-in"},[Le.PushRight]:{name:"push-right",...vs},[Le.PushLeft]:{name:"push-left",...vs},[Le.SlideLeft]:{name:"slide-left",...vs},[Le.SlideRight]:{name:"slide-right",...vs},[Le.SlideUp]:{name:"slide-up",...vs},[Le.SlideDown]:{name:"slide-down",...vs},[Le.FlipLeft]:{name:"flip-left",...oc},[Le.FlipRight]:{name:"flip-right",...oc},[Le.FlipUp]:{name:"flip-up",...oc},[Le.FlipDown]:{name:"flip-down",...oc}},mM=r=>({duration:r.Easing!==Le.None?r.Duration:0,...gM[r.Easing]}),pN="";var yM=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"expo-artboards",style:e.backgroundStyle},[e.current?t("ExpoArtboardLoader",{staticClass:"perspective-box",attrs:{"artboard-id":e.current},scopedSlots:e._u([{key:"default",fn:function({bundle:i}){return[t("ExpoBundleResolver",{attrs:{bundle:i,project:e.project},scopedSlots:e._u([{key:"default",fn:function({headerActions:n,bodyActions:s,footerActions:o}){return[t("Transition",e._b({},"Transition",e.transitionHeader&&e.transitionOptions,!1),[t("ExpoArtboardFixed",{key:i.artboard.Id,style:e.transitionStyles,attrs:{top:"",bundle:i,actions:n,platform:e.platform,"hotspots-visible":e.hotspotsVisible,height:i.artboard.HeaderHeight,width:e.projectWidth,"scale-to-fit-width":e.scaleToFitWidth}})],1),t("Transition",e._b({on:{beforeEnter:function(a){return e.$emit("transition-start")},afterEnter:function(a){return e.$emit("transition-end")}}},"Transition",e.transitionOptions,!1),[t("KeepAlive",[t("ExpoArtboard",{key:i.artboard.Id,ref:"artboard",style:e.transitionStyles,attrs:{bundle:i,actions:s,platform:e.platform,project:e.project,"root-container":e.container,"hotspots-visible":e.hotspotsVisible,"scale-to-fit-width":e.scaleToFitWidth,"preload-next":""},on:{scroll:function(a){return e.$emit("scroll",a)}}})],1)],1),t("Transition",e._b({},"Transition",e.transitionFooter&&e.transitionOptions,!1),[t("ExpoArtboardFixed",{key:i.artboard.Id,style:e.transitionStyles,attrs:{bottom:"",bundle:i,actions:o,platform:e.platform,"hotspots-visible":e.hotspotsVisible,height:i.artboard.FooterHeight,width:e.projectWidth,"scale-to-fit-width":e.scaleToFitWidth}})],1)]}}],null,!0)})]}}],null,!1,1667292835)}):e._e()],1)},vM=[],bM=pr(pM,yM,vM,!1,null,"7b7b7795",null,null);const wM=bM.exports,SM=Pe.extend({components:{ExpoArtboards:wM},props:{project:Ct({required:!0}),scale:{type:Number,default:1}},data(){return{inProgress:!1}},computed:{isAutoWeb(){return!!(this.project.platform&&this.project.platform.Device===ui.Auto)},isScaled(){return!this.isAutoWeb&&this.scale>0&&this.scale!==1},width(){return this.$store.getters.projectDimensions.width},height(){return this.$store.getters.projectDimensions.height},dimensionStyles(){let r={width:`${this.width}px`,height:`${this.height}px`,overflow:this.inProgress?"hidden":"auto"};return this.isScaled&&(r={...r,transform:`scale(${this.scale})`}),r},isTouch(){const r=this.project.platform;return r?r.Type!==Gc.Web:!1},viewportClasses(){return{"expo-player-viewport--touch":this.isTouch}}},created(){this.$on("scroll-to-position",r=>{const e=this.$refs.artboards;e&&e.$emit("scroll-to-position",r)})},methods:{onStart(){this.inProgress=!0},onEnd(){this.inProgress=!1}}}),gN="";var xM=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"expo-player-viewport",class:e.viewportClasses,style:e.dimensionStyles},[t("ExpoArtboards",{ref:"artboards",attrs:{project:e.project},on:{"transition-start":e.onStart,"transition-end":e.onEnd,scroll:function(i){return e.$emit("scroll",i)}}})],1)},OM=[],CM=pr(SM,xM,OM,!1,null,"9b39c4ef",null,null);const kM=CM.exports,AM=Pe.extend({directives:{watchElementProp:V$,shortkey:N$,doubleTap:Sw},components:{ExpoViewport:kM},data(){const{container:r}=this.$store.state;return{container:r,scrollPosition:{left:0,top:0},baseButtonPosition:62,viewportPaddingY:10}},computed:{visible(){return this.$store.state.showPlayer},project(){const{project:r}=this.$store.state;return r},projectAlign(){return this.isAutoWeb?{vertical:Ds.Top,horizontal:Rs.Center}:{vertical:Ds.Middle,horizontal:Rs.Center}},isMobile(){const{isMobile:r}=this.$store.state;return r},isAutoWeb(){return!!(this.project&&this.project.platform&&this.project.platform.Device===ui.Auto)},playerStyles(){let r="#e8e8e8";const e=this.project;return e&&e.platform&&e.platform.Device===ui.Auto&&(r=`#${e.platform.BackgroundColor}`),{backgroundColor:r}},alignStyles(){let r="auto",e="auto",t="auto",i="auto";return this.projectAlign.vertical===Ds.Top?r="":this.projectAlign.vertical===Ds.Bottom&&(t=""),this.projectAlign.horizontal===Rs.Left?i="":this.projectAlign.horizontal===Rs.Right&&(e=""),{marginTop:r,marginRight:e,marginBottom:t,marginLeft:i}},scale(){const{scale:r}=this.$store.state;return r},normalizedScale(){return this.scale<=1?this.scale:1},canGoPrevious(){return!!this.$store.getters.getPreviousArtboard()},canGoNext(){return!!this.$store.getters.getNextArtboard()},targetDocument(){let r=document;return this.container&&this.container.ownerDocument&&(r=this.container.ownerDocument),r},buttonPositionScaled(){return this.isAutoWeb?"50px":this.normalizedScale===1?"":`-${this.baseButtonPosition*this.normalizedScale**2}px`}},created(){window.addEventListener("resize",this.reportViewportPosition),this.container&&this.container.ownerDocument.addEventListener("scroll",this.reportViewportPosition),this.$on("scroll-to-position",r=>{const e=this.$refs.viewport;e&&e.$emit("scroll-to-position",r)})},destroyed(){window.removeEventListener("resize",this.reportViewportPosition),this.container&&this.container.ownerDocument.removeEventListener("scroll",this.reportViewportPosition)},methods:{setScale(r){if(r!==0&&this.project){this.isMobile||(r-=this.viewportPaddingY*2);const e=r/this.$store.getters.projectDimensions.height;this.$store.commit(new K$(e))}},rememberViewportScroll(r){this.scrollPosition={left:r.scrollLeft,top:r.scrollTop},this.reportViewportPosition()},goToPrevious(){const r=this.$store.getters.getPreviousArtboard();r&&this.$store.dispatch(new Jf(r))},goToNext(){const r=this.$store.getters.getNextArtboard();r&&this.$store.dispatch(new Jf(r))},getViewportPosition(){const r=this.$refs.viewport;if(r){const t=r.$el.getBoundingClientRect();return{viewportX:t.left,viewportY:t.top,viewportScale:this.normalizedScale,viewportScrollLeft:this.scrollPosition.left,viewportScrollTop:this.scrollPosition.top}}},reportViewportPosition(){const r=this.getViewportPosition();r&&this.$emit("viewport-position-changed",r)},onTripleTap(){this.$emit("triple-tap")}}}),mN="",yN="";var PM=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"},{name:"watch-element-prop",rawName:"v-watch-element-prop:clientHeight",value:e.setScale,expression:"setScale",arg:"clientHeight"},{name:"double-tap",rawName:"v-double-tap.triple",modifiers:{triple:!0}}],staticClass:"expo-player",style:e.playerStyles,attrs:{id:"expo-player"},on:{dbltap:e.onTripleTap}},[t("div",{staticClass:"expo-viewport-wrapper",class:{"expo-viewport-wrapper__auto-web":e.isAutoWeb},style:e.alignStyles},[t("button",{directives:[{name:"shortkey",rawName:"v-shortkey:keyup.188.ignoreInput",value:{handler:e.goToPrevious,targetDocument:e.targetDocument},expression:"{ handler: goToPrevious, targetDocument: targetDocument }",arg:"keyup",modifiers:{188:!0,ignoreInput:!0}}],staticClass:"expo-btn-prev",style:{visibility:e.canGoPrevious?"visible":"hidden",left:e.buttonPositionScaled},attrs:{type:"button",disabled:!e.canGoPrevious},on:{click:e.goToPrevious}}),e.project?t("ExpoViewport",{ref:"viewport",attrs:{project:e.project,scale:e.normalizedScale},on:{scroll:e.rememberViewportScroll}}):e._e(),t("button",{directives:[{name:"shortkey",rawName:"v-shortkey:keyup.190.ignoreInput",value:{handler:e.goToNext,targetDocument:e.targetDocument},expression:"{ handler: goToNext, targetDocument: targetDocument }",arg:"keyup",modifiers:{190:!0,ignoreInput:!0}}],staticClass:"expo-btn-next",style:{visibility:e.canGoNext?"visible":"hidden",right:e.buttonPositionScaled},attrs:{type:"button",disabled:!e.canGoNext},on:{click:e.goToNext}})],1)])},_M=[],EM=pr(AM,PM,_M,!1,null,"9f6fa560",null,null);const TM=EM.exports;/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function IM(r){var e=Number(r.version.split(".")[0]);if(e>=2)r.mixin({beforeCreate:i});else{var t=r.prototype._init;r.prototype._init=function(n){n===void 0&&(n={}),n.init=n.init?[i].concat(n.init):i,t.call(this,n)}}function i(){var n=this.$options;n.store?this.$store=typeof n.store=="function"?n.store():n.store:n.parent&&n.parent.$store&&(this.$store=n.parent.$store)}}var RM=typeof window<"u"?window:typeof global<"u"?global:{},bs=RM.__VUE_DEVTOOLS_GLOBAL_HOOK__;function DM(r){bs&&(r._devtoolHook=bs,bs.emit("vuex:init",r),bs.on("vuex:travel-to-state",function(e){r.replaceState(e)}),r.subscribe(function(e,t){bs.emit("vuex:mutation",e,t)},{prepend:!0}),r.subscribeAction(function(e,t){bs.emit("vuex:action",e,t)},{prepend:!0}))}function $M(r,e){return r.filter(e)[0]}function od(r,e){if(e===void 0&&(e=[]),r===null||typeof r!="object")return r;var t=$M(e,function(n){return n.original===r});if(t)return t.copy;var i=Array.isArray(r)?[]:{};return e.push({original:r,copy:i}),Object.keys(r).forEach(function(n){i[n]=od(r[n],e)}),i}function ws(r,e){Object.keys(r).forEach(function(t){return e(r[t],t)})}function Qw(r){return r!==null&&typeof r=="object"}function LM(r){return r&&typeof r.then=="function"}function MM(r,e){return function(){return r(e)}}var gr=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=(typeof i=="function"?i():i)||{}},Yw={namespaced:{configurable:!0}};Yw.namespaced.get=function(){return!!this._rawModule.namespaced},gr.prototype.addChild=function(e,t){this._children[e]=t},gr.prototype.removeChild=function(e){delete this._children[e]},gr.prototype.getChild=function(e){return this._children[e]},gr.prototype.hasChild=function(e){return e in this._children},gr.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},gr.prototype.forEachChild=function(e){ws(this._children,e)},gr.prototype.forEachGetter=function(e){this._rawModule.getters&&ws(this._rawModule.getters,e)},gr.prototype.forEachAction=function(e){this._rawModule.actions&&ws(this._rawModule.actions,e)},gr.prototype.forEachMutation=function(e){this._rawModule.mutations&&ws(this._rawModule.mutations,e)},Object.defineProperties(gr.prototype,Yw);var mn=function(e){this.register([],e,!1)};mn.prototype.get=function(e){return e.reduce(function(t,i){return t.getChild(i)},this.root)},mn.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(i,n){return t=t.getChild(n),i+(t.namespaced?n+"/":"")},"")},mn.prototype.update=function(e){qw([],this.root,e)},mn.prototype.register=function(e,t,i){var n=this;i===void 0&&(i=!0);var s=new gr(t,i);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}t.modules&&ws(t.modules,function(a,l){n.register(e.concat(l),a,i)})},mn.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],n=t.getChild(i);n&&n.runtime&&t.removeChild(i)},mn.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return t?t.hasChild(i):!1};function qw(r,e,t){if(e.update(t),t.modules)for(var i in t.modules){if(!e.getChild(i))return;qw(r.concat(i),e.getChild(i),t.modules[i])}}var zt,Kt=function(e){var t=this;e===void 0&&(e={}),!zt&&typeof window<"u"&&window.Vue&&Jw(window.Vue);var i=e.plugins;i===void 0&&(i=[]);var n=e.strict;n===void 0&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new mn(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new zt,this._makeLocalGettersCache=Object.create(null);var s=this,o=this,a=o.dispatch,l=o.commit;this.dispatch=function(f,d){return a.call(s,f,d)},this.commit=function(f,d,p){return l.call(s,f,d,p)},this.strict=n;var c=this._modules.root.state;ac(this,c,[],this._modules.root),ld(this,c),i.forEach(function(u){return u(t)});var h=e.devtools!==void 0?e.devtools:zt.config.devtools;h&&DM(this)},ad={state:{configurable:!0}};ad.state.get=function(){return this._vm._data.$$state},ad.state.set=function(r){},Kt.prototype.commit=function(e,t,i){var n=this,s=lc(e,t,i),o=s.type,a=s.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(u){u(a)})}),this._subscribers.slice().forEach(function(h){return h(l,n.state)}))},Kt.prototype.dispatch=function(e,t){var i=this,n=lc(e,t),s=n.type,o=n.payload,a={type:s,payload:o},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(a,i.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(h){return h(o)})):l[0](o);return new Promise(function(h,u){c.then(function(f){try{i._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(a,i.state)})}catch{}h(f)},function(f){try{i._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(a,i.state,f)})}catch{}u(f)})})}},Kt.prototype.subscribe=function(e,t){return Kw(e,this._subscribers,t)},Kt.prototype.subscribeAction=function(e,t){var i=typeof e=="function"?{before:e}:e;return Kw(i,this._actionSubscribers,t)},Kt.prototype.watch=function(e,t,i){var n=this;return this._watcherVM.$watch(function(){return e(n.state,n.getters)},t,i)},Kt.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},Kt.prototype.registerModule=function(e,t,i){i===void 0&&(i={}),typeof e=="string"&&(e=[e]),this._modules.register(e,t),ac(this,this.state,e,this._modules.get(e),i.preserveState),ld(this,this.state)},Kt.prototype.unregisterModule=function(e){var t=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var i=cd(t.state,e.slice(0,-1));zt.delete(i,e[e.length-1])}),Zw(this)},Kt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)},Kt.prototype.hotUpdate=function(e){this._modules.update(e),Zw(this,!0)},Kt.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Kt.prototype,ad);function Kw(r,e,t){return e.indexOf(r)<0&&(t&&t.prepend?e.unshift(r):e.push(r)),function(){var i=e.indexOf(r);i>-1&&e.splice(i,1)}}function Zw(r,e){r._actions=Object.create(null),r._mutations=Object.create(null),r._wrappedGetters=Object.create(null),r._modulesNamespaceMap=Object.create(null);var t=r.state;ac(r,t,[],r._modules.root,!0),ld(r,t,e)}function ld(r,e,t){var i=r._vm;r.getters={},r._makeLocalGettersCache=Object.create(null);var n=r._wrappedGetters,s={};ws(n,function(a,l){s[l]=MM(a,r),Object.defineProperty(r.getters,l,{get:function(){return r._vm[l]},enumerable:!0})});var o=zt.config.silent;zt.config.silent=!0,r._vm=new zt({data:{$$state:e},computed:s}),zt.config.silent=o,r.strict&&WM(r),i&&(t&&r._withCommit(function(){i._data.$$state=null}),zt.nextTick(function(){return i.$destroy()}))}function ac(r,e,t,i,n){var s=!t.length,o=r._modules.getNamespace(t);if(i.namespaced&&(r._modulesNamespaceMap[o],r._modulesNamespaceMap[o]=i),!s&&!n){var a=cd(e,t.slice(0,-1)),l=t[t.length-1];r._withCommit(function(){zt.set(a,l,i.state)})}var c=i.context=BM(r,o,t);i.forEachMutation(function(h,u){var f=o+u;FM(r,f,h,c)}),i.forEachAction(function(h,u){var f=h.root?u:o+u,d=h.handler||h;zM(r,f,d,c)}),i.forEachGetter(function(h,u){var f=o+u;HM(r,f,h,c)}),i.forEachChild(function(h,u){ac(r,e,t.concat(u),h,n)})}function BM(r,e,t){var i=e==="",n={dispatch:i?r.dispatch:function(s,o,a){var l=lc(s,o,a),c=l.payload,h=l.options,u=l.type;return(!h||!h.root)&&(u=e+u),r.dispatch(u,c)},commit:i?r.commit:function(s,o,a){var l=lc(s,o,a),c=l.payload,h=l.options,u=l.type;(!h||!h.root)&&(u=e+u),r.commit(u,c,h)}};return Object.defineProperties(n,{getters:{get:i?function(){return r.getters}:function(){return NM(r,e)}},state:{get:function(){return cd(r.state,t)}}}),n}function NM(r,e){if(!r._makeLocalGettersCache[e]){var t={},i=e.length;Object.keys(r.getters).forEach(function(n){if(n.slice(0,i)===e){var s=n.slice(i);Object.defineProperty(t,s,{get:function(){return r.getters[n]},enumerable:!0})}}),r._makeLocalGettersCache[e]=t}return r._makeLocalGettersCache[e]}function FM(r,e,t,i){var n=r._mutations[e]||(r._mutations[e]=[]);n.push(function(o){t.call(r,i.state,o)})}function zM(r,e,t,i){var n=r._actions[e]||(r._actions[e]=[]);n.push(function(o){var a=t.call(r,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:r.getters,rootState:r.state},o);return LM(a)||(a=Promise.resolve(a)),r._devtoolHook?a.catch(function(l){throw r._devtoolHook.emit("vuex:error",l),l}):a})}function HM(r,e,t,i){r._wrappedGetters[e]||(r._wrappedGetters[e]=function(s){return t(i.state,i.getters,s.state,s.getters)})}function WM(r){r._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function cd(r,e){return e.reduce(function(t,i){return t[i]},r)}function lc(r,e,t){return Qw(r)&&r.type&&(t=e,e=r,r=r.type),{type:r,payload:e,options:t}}function Jw(r){zt&&r===zt||(zt=r,IM(zt))}var eS=hc(function(r,e){var t={};return cc(e).forEach(function(i){var n=i.key,s=i.val;t[n]=function(){var a=this.$store.state,l=this.$store.getters;if(r){var c=uc(this.$store,"mapState",r);if(!c)return;a=c.context.state,l=c.context.getters}return typeof s=="function"?s.call(this,a,l):a[s]},t[n].vuex=!0}),t}),tS=hc(function(r,e){var t={};return cc(e).forEach(function(i){var n=i.key,s=i.val;t[n]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.commit;if(r){var h=uc(this.$store,"mapMutations",r);if(!h)return;c=h.context.commit}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),t}),rS=hc(function(r,e){var t={};return cc(e).forEach(function(i){var n=i.key,s=i.val;s=r+s,t[n]=function(){if(!(r&&!uc(this.$store,"mapGetters",r)))return this.$store.getters[s]},t[n].vuex=!0}),t}),iS=hc(function(r,e){var t={};return cc(e).forEach(function(i){var n=i.key,s=i.val;t[n]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.dispatch;if(r){var h=uc(this.$store,"mapActions",r);if(!h)return;c=h.context.dispatch}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),t}),jM=function(r){return{mapState:eS.bind(null,r),mapGetters:rS.bind(null,r),mapMutations:tS.bind(null,r),mapActions:iS.bind(null,r)}};function cc(r){return VM(r)?Array.isArray(r)?r.map(function(e){return{key:e,val:e}}):Object.keys(r).map(function(e){return{key:e,val:r[e]}}):[]}function VM(r){return Array.isArray(r)||Qw(r)}function hc(r){return function(e,t){return typeof e!="string"?(t=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),r(e,t)}}function uc(r,e,t){var i=r._modulesNamespaceMap[t];return i}function UM(r){r===void 0&&(r={});var e=r.collapsed;e===void 0&&(e=!0);var t=r.filter;t===void 0&&(t=function(h,u,f){return!0});var i=r.transformer;i===void 0&&(i=function(h){return h});var n=r.mutationTransformer;n===void 0&&(n=function(h){return h});var s=r.actionFilter;s===void 0&&(s=function(h,u){return!0});var o=r.actionTransformer;o===void 0&&(o=function(h){return h});var a=r.logMutations;a===void 0&&(a=!0);var l=r.logActions;l===void 0&&(l=!0);var c=r.logger;return c===void 0&&(c=console),function(h){var u=od(h.state);typeof c>"u"||(a&&h.subscribe(function(f,d){var p=od(d);if(t(f,u,p)){var g=oS(),v=n(f),y="mutation "+f.type+g;nS(c,y,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",i(u)),c.log("%c mutation","color: #03A9F4; font-weight: bold",v),c.log("%c next state","color: #4CAF50; font-weight: bold",i(p)),sS(c)}u=p}),l&&h.subscribeAction(function(f,d){if(s(f,d)){var p=oS(),g=o(f),v="action "+f.type+p;nS(c,v,e),c.log("%c action","color: #03A9F4; font-weight: bold",g),sS(c)}}))}}function nS(r,e,t){var i=t?r.groupCollapsed:r.group;try{i.call(r,e)}catch{r.log(e)}}function sS(r){try{r.groupEnd()}catch{r.log("—— log end ——")}}function oS(){var r=new Date;return" @ "+fc(r.getHours(),2)+":"+fc(r.getMinutes(),2)+":"+fc(r.getSeconds(),2)+"."+fc(r.getMilliseconds(),3)}function XM(r,e){return new Array(e+1).join(r)}function fc(r,e){return XM("0",e-r.toString().length)+r}var GM={Store:Kt,install:Jw,version:"3.6.2",mapState:eS,mapMutations:tS,mapGetters:rS,mapActions:iS,createNamespacedHelpers:jM,createLogger:UM};const aS=GM,lS={},QM={async[Zl.Navigate]({state:r,dispatch:e,commit:t,getters:i},{action:n,setting:s}){const o=n.Type,a=i.resolveNavigationTarget(o,s);if(a){let l=!1,c=!1;o===Be.PreviousHistoryScreen&&(l=!0,c=!0),r.bundles[a]||await e(new ww(a)),t(new Pw(n)),Pe.nextTick(()=>{t(new Aw(a,{skipHistory:l,popHistory:c}))})}else console.warn("Couldn't find navigation target")},[Zl.NavigateForced]({commit:r},{target:e}){r(new Pw),Pe.nextTick(()=>{r(new Aw(e,{skipTransition:!0,skipHistory:!0}))})},async[Zl.ArtboardLoadBundle]({commit:r,state:e},{artboardId:t}){let i=e.bundles[t];if(i)return;let n=lS[t];if(!n){n=YM({baseUrl:e.baseUrl,shortcut:e.shortcut,artboardId:t}),lS.artboardId=n;try{i=await n,r(new Y$(t,i))}catch(s){console.error(`Failed to load artboard, ${s}`)}}}},YM=async({baseUrl:r,shortcut:e,artboardId:t})=>{const i=`${r}/expo/getartboard/${e}?artboardId=${t}`,n=await Ts(i);return{artboard:n.artboard,artboardAsset:n.assets[n.artboard.AssetId],assets:n.assets,assetsUrls:n.imgUrls,thumbnails:n.thumbnails,stale:!1}},qM={getNextArtboard(r){return(e=r.currentArtboardId)=>{if(r.project){const t=r.project.artboardsOrder.findIndex(i=>i===e);if(t!==-1)return r.project.artboardsOrder[t+1]}}},getPreviousArtboard(r){return(e=r.currentArtboardId)=>{if(r.project){const t=r.project.artboardsOrder.findIndex(i=>i===e);if(t!==-1)return r.project.artboardsOrder[t-1]}}},resolveNavigationTarget(r,e){return(t,i)=>{if(t===Be.SetPanelState)return i.TargetArtboardId;if(t===Be.NextScreen)return e.getNextArtboard();if(t===Be.PreviousScreen)return e.getPreviousArtboard();if(t===Be.PreviousHistoryScreen)return r.history.peek()}},projectDimensions(r){const e=r.project;if(!e)return{width:1,height:1};if(e.platform&&e.platform.Device&&e.platform.Device===ui.Auto){const n=r.bundles[r.currentArtboardId];if(n){const s=Sp(n);return{height:s.Height,width:s.Width}}}const{projectDimensions:t}=e,i=e.platform&&e.platform.Type!==Gc.Web;return r.isMobile&&i?t.height>=t.width?{width:t.width,height:Math.min(t.height,window.innerHeight)}:{width:Math.min(t.width,window.innerWidth),height:t.height}:t}},KM={[dr.HidePlayer](r){r.showPlayer=!1},[dr.ShowPlayer](r){r.showPlayer=!0},[dr.SetProject](r,{project:e}){r.project=e,r.bundles=v0(e),r.currentArtboardId=e.artboardsOrder[0]},[dr.SetArtboardBundle](r,{artboardId:e,bundle:t}){Pe.set(r.bundles,e,t)},[dr.SetOptions](r,{options:{baseUrl:e,shortcut:t,container:i,standaloneMode:n,isMobile:s}}){r.baseUrl=e,r.shortcut=t,r.container=i,r.standaloneMode=n,r.isMobile=s},[dr.SetCurrentArtboard](r,{artboard:e,options:t={skipHistory:!1,skipTransition:!1,popHistory:!1}}){const{skipHistory:i,popHistory:n,skipTransition:s}=t,o=r.currentArtboardId;s&&(r.currentAction=void 0),r.currentArtboardId=e,i||r.history.push(o),n&&r.history.pop()},[dr.SetCurrentArtboardAction](r,{action:e}){r.currentAction=e},[dr.ToggleHotspots](r,{hotspotsVisible:e}){r.hotspotsVisible=e},[dr.SetViewportScale](r,{scale:e}){r.scale=e}},ZM=()=>({shortcut:"",baseUrl:"",container:void 0,mode:"preview",standaloneMode:!1,isMobile:!1,project:void 0,bundles:{},currentArtboardId:"",currentAction:void 0,history:new Op,hotspotsVisible:!1,scale:1,fitArtboardToProjectWidth:!0,showPlayer:!0});Pe.use(aS);const mr=new aS.Store({state:ZM(),actions:QM,mutations:KM,getters:qM,strict:!1});var Ss=(r=>(r.PageChanged="page-changed",r.ViewportPositionChanged="viewport-position-changed",r.TripleTap="triple-tap",r.HotspotsToggled="hotspots-toggled",r))(Ss||{});class JM extends zo{constructor(t,i){super();A(this,"app");const n=document.createElement("div");t.insertBefore(n,t.firstChild),mr.commit(new Q$(i)),this.app=new Pe({store:mr,render:o=>o(TM,{ref:"player"})}),this.app.$mount(n),mr.subscribe(o=>{eB(o,o.payload)&&this.trigger("page-changed",o.payload.artboard)});const s=this.app.$refs.player;s&&(s.$on("viewport-position-changed",o=>{this.trigger("viewport-position-changed",o)}),s.$on("triple-tap",()=>{this.trigger("triple-tap")}))}setProject(t){return mr.commit(new G$(t))}selectPage(t){if(mr.state.currentArtboardId!==t)return mr.dispatch(new Jf(t))}toggleHotspots(t){mr.commit(new q$(t)),this.trigger("hotspots-toggled",mr.state.hotspotsVisible)}getViewportPosition(){if(this.app){const t=this.app.$refs.player;if(t)return t.getViewportPosition()}return{viewportX:0,viewportY:0,viewportScrollLeft:0,viewportScrollTop:0,viewportScale:mr.state.scale}}scrollViewportToPosition(t){if(!this.app)return;const i=this.app.$refs.player;i&&i.$emit("scroll-to-position",t)}hide(){mr.commit(new U$)}show(){mr.commit(new X$)}}function eB(r,e){return r.type===dr.SetCurrentArtboard}const tB=Object.freeze(Object.defineProperty({__proto__:null,Events:Ss,PlayerApp:JM},Symbol.toStringTag,{value:"Module"}));var dc=(r=>(r[r.Solid=1]="Solid",r[r.Gradient=2]="Gradient",r[r.Pattern=3]="Pattern",r))(dc||{}),cS=(r=>(r[r.Run=0]="Run",r[r.Span=1]="Span",r))(cS||{}),hS=(r=>(r[r.None=0]="None",r[r.Repeat=1]="Repeat",r[r.RepeatX=2]="RepeatX",r[r.RepeatY=3]="RepeatY",r[r.StretchCover=4]="StretchCover",r[r.StretchContain=5]="StretchContain",r[r.Stretch=6]="Stretch",r))(hS||{}),uS=(r=>(r[r.Blur=0]="Blur",r[r.Shadow=1]="Shadow",r))(uS||{}),pc=(r=>(r[r.Normal=0]="Normal",r[r.Oblique=1]="Oblique",r[r.Italic=2]="Italic",r))(pc||{}),hd=(r=>(r[r.Linear=0]="Linear",r[r.Radial=1]="Radial",r[r.Angular=2]="Angular",r))(hd||{}),Eo=(r=>(r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right",r[r.Justified=3]="Justified",r))(Eo||{}),To=(r=>(r[r.Layer=0]="Layer",r[r.Shape=1]="Shape",r[r.Artboard=2]="Artboard",r))(To||{}),fS=(r=>(r[r.Drop=0]="Drop",r[r.Inner=1]="Inner",r))(fS||{}),ud=(r=>(r[r.Rect=0]="Rect",r[r.Ellipse=1]="Ellipse",r[r.Path=2]="Path",r[r.Line=3]="Line",r[r.Image=4]="Image",r[r.Symbol=5]="Symbol",r))(ud||{}),gc=(r=>(r[r.Inside=0]="Inside",r[r.Center=1]="Center",r[r.Outside=2]="Outside",r))(gc||{});function yn(r){return Hi(r)||vn(r)||si(r)}function fd(r){return Hi(r)||vn(r)}function vn(r){return r.itemType===To.Layer}function si(r){return r.itemType===To.Shape}function mc(r){return vn(r)||si(r)?!!r.isMask:!1}function dS(r){if(!mc(r)||!r.maskedScene||r.maskedScene.items.length!==1||r.maskedScene.items[0].itemType!==To.Shape)return!1;const e=r.maskedScene.items[0];return e.type===ud.Image?!0:e.type!==ud.Rect||e.backgroundFills.length!==1?!1:e.backgroundFills[0].type===dc.Pattern&&e.backgroundFills[0].patternFillType===hS.None}function Hi(r){return r.itemType===To.Artboard}function rB(r){return r.type===dc.Solid}function iB(r){return r.type===dc.Gradient}function nB(r){return r.gradientType===hd.Radial}function sB(r){return r.gradientType===hd.Angular}function pS(r){return r.type===cS.Run}class oB{constructor(e){this.bundle=e}convert(e){const t=this.convertStyle(e);return{id:e.id,name:e.name,rect:this.convertRect(e),fills:t.fill?t.fill:[],assets:this.convertAssets(e),style:t}}convertFills(e,t){const i=[];let n=[];e instanceof Array?n=e:n.push(e);for(const s of n)if(s.enabled){if(rB(s))i.push(dB(s));else if(iB(s)){const o=pB(s,t);o&&i.push(o)}}return i}convertAssets(e){const t=this.bundle.assets,i=Object.keys(t),n=[];if(dS(e)&&e.maskedScene)n.push(e.id),n.push(...e.maskedScene.items.map(a=>a.id));else{const a=l=>{vn(l)&&l.scene.items.forEach(a);for(const c of i)t[c].LayerId===l.id&&n.push(l.id)};a(e)}const o=fB(t,n).filter(uB).map(a=>this.toHandoffAsset(a));return aB(o,lB)}convertRect(e){if(!yn(e))return{location:{x:0,y:0},size:{width:0,height:0}};if(!Hi(e)){const t=e.rect.size,i=(vn(e)?e.rotation:e.rotation||e.textRotation)||0,n=Math.abs(i)/180*Math.PI,s=Math.sqrt(t.height**2+t.width**2),o=Math.atan(t.width/t.height),a=s*Math.abs(Math.sin(o+n)),l=s*Math.abs(Math.cos(o-n)),c=e.rect.location.x-(a-t.width)/2,h=e.rect.location.y-(l-t.height)/2;return{location:{x:c,y:h},size:{width:a,height:l}}}return{location:{...e.rect.location},size:{...e.rect.size}}}convertStyle(e){return{...this.dimensions(e),...this.text(e),...this.borders(e),...this.fills(e),boxShadow:this.shadows(e),opacity:this.opacity(e)}}opacity(e){if(si(e))return e.opacity}dimensions(e){if(!yn(e))return{};const t={};return t.width=e.rect.size.width,t.height=e.rect.size.height,Hi(e)||(t.rotation=(vn(e)?e.rotation:e.rotation||e.textRotation)||0),t}text(e){let t={};if(!si(e))return t;const{text:i}=e;if(!i)return{};const{paragraphs:n}=i;if(n.length===0)return t;const s=i.paragraphs[0];t={...t,lineSpacing:s.lineSpacing||"normal",horizontalAlignment:vB(s.horizontalAlignment)};let o=i.paragraphs.map(a=>a.inlines.map(l=>pS(l)?l.text:"").join("")).join("");if(o=this.normalizeText(o),s.inlines.length>0){const a=s.inlines[0];pS(a)&&(t={...t,fontName:a.family,fontSize:a.size,fontWeight:a.weight,fontStyle:bB(a.style),underline:a.underline,textColor:a.textColor,text:o,textShadow:this.shadows(e,!0),typeface:a.typeface,letterSpacing:a.characterSpacing})}return t}normalizeText(e){const t=new Map([["\u2028",`
`]]);let i=e;return t.forEach((n,s)=>{i=i.replace(new RegExp(s,"g"),n)}),i}fills(e){const t={};return Hi(e)?e.backgroundShape?t.fill=this.convertFills(e.backgroundShape.backgroundFills,e.backgroundShape.rect):t.fill=this.convertFills(e.backgroundFill,e.rect):si(e)&&(t.fill=this.convertFills(e.backgroundFills,e.rect)),t}borders(e){const t={};return si(e)&&(t.borderRadius=e.corners?e.corners[0]:0,t.borderWidth=e.strokeThickness,e.strokes.length>0&&(t.borderAlignment=this.convertStrokeToBorderAlignment(e.strokes[0].alignment),t.borderFill=this.convertFills(e.strokes[0].fill,e.rect))),t}convertStrokeToBorderAlignment(e){switch(e){case gc.Inside:return sr.Inside;case gc.Center:return sr.Center;case gc.Outside:return sr.Outside;default:return sr.Inside}}shadows(e,t){return si(e)?t?this.getShadows(e.textShadows):this.getShadows(e.effects):[]}getShadows(e){const t=[];for(const i of e)if(i.type===uS.Shadow){const n=i,s={on:n.enabled,offsetX:n.offset.x,offsetY:n.offset.y,blurRadius:n.blur,spreadRadius:n.spread,color:n.color,inner:n.shadowType===fS.Inner};t.push(s)}return t}toHandoffAsset(e){return{url:this.getAssetUrl(e),layerId:e.LayerId,fileName:e.FileName,fileType:Cc(e.FileName)||"undefined",originalFileName:e.OriginalFileName}}getAssetUrl(e){return this.bundle.assetsUrls[e.Id]}}function aB(r,e){const t=e(r);return Object.keys(t).map(i=>({name:i,assets:t[i]}))}function lB(r){return cB(r,e=>hB(e))}function cB(r,e){const t={};return r.reduce((i,n)=>{const s=e(n);return(i[s]=i[s]||[]).push(n),i},t)}function hB(r){return`${r.layerId}.${Cc(r.fileName)}`}function uB({Type:r}){return r===Pn.Jpg||r===Pn.Png||r===Pn.Gif}function fB(r,e){const t=[],i=Array.isArray(e)?e:[e];for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)){const s=r[n];i.some(o=>Mo(s.LayerId,o))&&t.push(s)}return t}function dB(r){return{color:r.color,type:Wt.Solid}}function pB(r,e){return nB(r)?yB(r,e):sB(r)?mB(r):gB(r)}function gB(r){const{from:e,to:t}=r,i=Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI+90,n=2,s=[];for(const o of r.stops)s.push({color:o.color,offset:Ue(o.offset*100,n)});return{type:Wt.Gradient,angle:i,stops:s}}function mB(r){const t=[];for(const i of r.stops)t.push({color:i.color,offset:Ue(i.offset,2)});return{type:Wt.Angular,angle:r.fromAngle,center:{x:Ue(r.from.x*100,2),y:Ue(r.from.y*100,2)},stops:t}}function yB(r,e){const n=e.size.width/e.size.height,{from:s,to:o}=r;let a,l;if(Math.abs(s.y-o.y)<.01)a=Math.abs(s.x-o.x),l=a*r.ellipseLength*n;else if(Math.abs(s.x-o.x)<.01)l=Math.abs(s.y-o.y),a=l*(r.ellipseLength/n);else return;const c=[];for(const h of r.stops)c.push({color:h.color,offset:Ue(h.offset*100,2)});return{type:Wt.Radial,axis1:Ue(a*100,2),axis2:Ue(l*100,2),center:{x:Ue(s.x*100,2),y:Ue(s.y*100,2)},stops:c}}function vB(r){switch(r){case Eo.Left:return Lt.Left;case Eo.Center:return Lt.Center;case Eo.Right:return Lt.Right;case Eo.Justified:return Lt.Justified;default:throw new Error(`Error ocurred while converting alignment, ${r}.`)}}function bB(r){switch(r){case pc.Normal:return kr.Normal;case pc.Italic:return kr.Italic;case pc.Oblique:return kr.Oblique;default:throw new Error(`Error ocurred while converting font style, ${r}.`)}}class wB extends m0{constructor(t){super();A(this,"enableArtboardSelection",!1);this.scene=t,this.resetSceneLocationOrigin()}getShapesAtLocation(t){return this.getSceneItemsAtLocation(this.scene,t).reverse()}equalsItems(t,i){return yn(t)&&yn(i)&&this.areRectEquals(t.rect,i.rect)?super.equalsItems(t,i):!1}getParentByElement(t){return this.queryAxvg(i=>{let n=fd(i)?i.scene:void 0;return!n&&mc(i)&&(n=i.maskedScene),Hi(i)&&!this.enableArtboardSelection?!1:!!(n&&n.items.findIndex(s=>this.equalsItems(s,t))>=0)})[0]}queryAxvg(t){return dd(this.scene,t)}resetSceneLocationOrigin(){for(const t of this.scene.items)yn(t)&&(t.rect.location={x:0,y:0})}getSceneItemsAtLocation(t,i){if(!t||!t.items||t.items.length===0)return[];const n=[];for(let s=0;s<t.items.length;s++){const o=t.items[s];if(yn(o)&&SB(o.rect,i))if(dS(o))n.push(o);else if(mc(o)){if(n.push(o),o.maskedScene){const a=this.getSceneItemsAtLocation(o.maskedScene,i);n.push(...a)}}else if(!fd(o))n.push(o);else{const a=this.getSceneItemsAtLocation(o.scene,i),l=!a||a.length===0;(this.enableArtboardSelection||!Hi(o)||l)&&(Hi(o)&&o.backgroundShape?n.push(o.backgroundShape):n.push(o)),n.push(...a)}}return n}areRectEquals(t,i){return t.location.x===i.location.x&&t.location.y===i.location.y&&t.size.width===i.size.width&&t.size.height===i.size.height}}function dd(r,e){const t=[];for(const i of r.items){if(fd(i)){const n=dd(i.scene,e);for(const s of n)t.push(s)}if(mc(i)&&i.maskedScene){const n=dd(i.maskedScene,e);for(const s of n)t.push(s)}e(i)&&t.push(i)}return t}function SB(r,e){const t=r.location,i=r.size;return e.x>=t.x&&e.y>=t.y&&e.x<=t.x+i.width&&e.y<=t.y+i.height}class xB{constructor(e){A(this,"converter");A(this,"sceneTraverser");A(this,"rootRect");this.bundle=e,this.converter=new oB(this.bundle)}setAxvg(e){this.rootRect=_B(e),this.sceneTraverser=new wB(e.scene)}inspect(e){if(!this.rootRect||!this.sceneTraverser||!e.location||!e.clientRect||!e.originalRect)return;const t=this.divideSize(this.rootRect.size,e.clientRect),i=this.multiply(e.location,t),n=this.sceneTraverser.selectItem(i,!e.iterateLayers);if(!n)return;const s=this.axvgToHandoff(n),o=t.x,a=t.y,l=e.originalRect.width/e.clientRect.width,c=e.originalRect.height/e.clientRect.height,{rect:h}=s,u={location:{x:h.location.x/e.originalRect.width/o*l*100,y:h.location.y/e.originalRect.height/a*c*100},size:{width:h.size.width/e.originalRect.width/o*l*100,height:h.size.height/e.originalRect.height/a*c*100}};return{...s,selection:u}}setScale(){}getAllColors(){if(!this.sceneTraverser)return[];const e=[],t=this.sceneTraverser.queryAxvg(PB);for(const i of t)si(i)&&e.push(...this.converter.convertFills(i.backgroundFills,i.rect));return e.filter(CB)}getAllAssets(){const e={all:[],byLayer:[]};if(!this.sceneTraverser)return e;const t=this.bundle.assets;let i=[];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const a=t[o];a.LayerId&&i.push(a.LayerId)}i=i.filter(OB);const n=o=>vn(o)?o.scene.items.some(n):i.some(a=>a===o.id),s=this.sceneTraverser.queryAxvg(n);for(const o of s){const a=this.converter.convertAssets(o);e.all.push(...a),e.byLayer.push({assets:a,name:o.name})}return e}axvgToHandoff(e){return this.converter.convert(e)}multiply(e,t){return{x:e.x*t.x,y:e.y*t.y}}divideSize(e,t){const i=e.width/t.width,n=e.height/t.height;return{x:i,y:n}}}function OB(r,e,t){return t.indexOf(r)===e}function CB(r,e,t){return t.findIndex(i=>kB(r,i))===e}function kB(r,e){return r.type!==e.type?!1:zs(r)&&zs(e)?AB(r.color,e.color):JSON.stringify(fa(r))===JSON.stringify(fa(e))}function AB(r,e){return r.a===e.a&&r.r===e.r&&r.g===e.g&&r.b===e.b}function PB(r){return si(r)&&r.backgroundFills.length>0}function _B(r){const e={size:{height:0,width:0},location:{x:0,y:0}};if(r&&r.scene&&r.scene.items&&r.scene.items.length>0){const t=r.scene.items;for(const i of t)yn(i)&&(e.size={...i.rect.size})}return e}function EB(){return{mode:"expo",isProjectLoading:!1,isProjectLoaded:!1,lastModifiedDate:0,lastSavedDate:0,shortcut:"",resourceFolder:"",resourceAxureFolder:"",archiveMode:!1,platform:void 0,projectZoom:33,projectDimensions:{width:0,height:0},assets:{},assetsImages:{},assetsImagesThumbnails:{},artboards:{},artboardsOrder:[],selectedArtboards:{},lastSelectedArtboard:"",artboardHotspotOpenedMenu:{artboardId:"",actionId:""},masters:{},bgImgUrl:"",hasArtboards:!1,id:"",name:"",modifiedOn:void 0}}function TB(r){const e=EB();return e.isProjectLoading=!1,e.isProjectLoaded=!0,e.shortcut=r.project.ShortcutKey,e.platform=r.project.Platform,e.projectDimensions={height:r.project.Platform.Settings.Dimensions.Height,width:r.project.Platform.Settings.Dimensions.Width},e.assets=r.assets,e.assetsImages=r.images,e.assetsImagesThumbnails=r.thumbnails,e.artboards=r.artboards,e.artboardsOrder=Object.keys(r.artboards),e.masters=r.masters,e.bgImgUrl=r.bgImgLink,e.hasArtboards=e.artboardsOrder.length>0,e.id=r.project.Id,e.name=r.project.ProjectName,e}class IB{constructor(e){A(this,"standaloneMode");A(this,"topWindow",window);A(this,"currentPlayer",new u2);A(this,"clipFrameScroll",document.getElementById("clipFrameScroll"));A(this,"mainFrame",document.getElementById("mainFrame"));A(this,"mainFrameBody",this.mainFrame&&this.mainFrame.contentDocument&&this.mainFrame.contentDocument.body);A(this,"project");A(this,"player");A(this,"handoff");A(this,"viewer");A(this,"axvgMap",{});A(this,"inspectors",{});A(this,"bundle");A(this,"documentDidLoad",!1);A(this,"attachedToSitemapClose",!1);this.state=e,this.standaloneMode=!this.state.cloudMode}get $axExpo(){if(this.topWindow)return this.topWindow.$axExpo}get $axure(){if(this.topWindow)return this.topWindow.$axure}async start(){const e=this.mainFrameBody;if(e){this.viewer=new FI(this.state,$(e)),this.loadResources(e.ownerDocument&&e.ownerDocument.head||document.head);const t=await On(()=>Promise.resolve().then(()=>tB),void 0,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("Expo.000b108a.js",document.baseURI).href),i=new t.PlayerApp(e,{baseUrl:this.state.options.baseUrl,shortcut:this.state.options.shortcut,container:e,standaloneMode:this.standaloneMode,mode:"preview",isMobile:this.$axure?this.$axure.player.isMobileMode():!1});this.player=i,this.subscribeToEvents(),this.listenToPlayerEvents(),this.$axExpo&&(this.$axExpo.getViewportPosition=()=>i.getViewportPosition()),this.standaloneMode&&(this.project=await this.getProject(),this.render(this.project))}}listenToPlayerEvents(){this.player&&this.player.subscribe({[Ss.PageChanged]:e=>{e&&e!==this.state.CurrentPage&&this.state.selectPage(e)},[Ss.ViewportPositionChanged]:e=>{this.reportPositionChanged(e)},[Ss.TripleTap]:()=>{if(this.$axure&&this.standaloneMode){const e=this.$axure;this.attachedToSitemapClose||($("#closeBackground").click(()=>{e.player.resizeContent()}),this.attachedToSitemapClose=!0),e.messageCenter.postMessage("tripleClick")}},[Ss.HotspotsToggled]:e=>{this.$axure&&this.$axure.messageCenter.postMessage("highlightInteractive",e)}})}async render(e){this.project=e,this.currentPlayer.shortcutKey=e.shortcut,this.currentPlayer.project=e,this.currentPlayer.isLoaded=!0,this.currentPlayer.generatePrototypeAssets(),this.player&&this.player.setProject(e),this.documentDidLoad||(this.state.trigger(J.DocumentDidLoad,e),this.documentDidLoad=!0)}async reload(e){e&&this.player&&(this.project=e,this.player.setProject(e)),this.state.trigger(J.DocumentDidReload,this.project)}async addHandoff(){this.$axure&&this.viewer&&(this.handoff||(this.handoff=new l0({$axure:this.$axure,state:this.state,viewer:this.viewer,inspector:()=>this.currentInspector()})))}showHandoff(){this.player&&this.player.hide(),this.handoff&&this.handoff.show()}hideHandoff(){this.handoff&&this.handoff.hide(),this.player&&this.player.show()}toggleHotspots(e){this.player&&this.player.toggleHotspots(e)}toggleComments(e){if(this.$axure&&this.$axure.player){const{player:t}=this.$axure;e!==void 0&&t.toggleComments&&t.toggleComments(e)}}isLoaded(){return!0}setAddToHistory(e){}prototypeGenerated(){}popHistory(){return null}setZoom(e){var t;(t=this.viewer)==null||t.zoomPage(e)}async getProject(){const{shortcut:e}=this.state.options,t=`${this.state.options.baseUrl}/expo/getfullproject/${e}`,i=await Ts(t);return TB(i.data)}loadResources(e){const t=[],i=document.querySelectorAll("link[href*=Expo]");for(const n of i)t.push(n.href);t.map(n=>ea(n,e))}messageCenterEvent(e){if(e.message==="getScale"||e.message==="cloud_RefreshPageProperties"){if(this.player){const t=this.player.getViewportPosition();this.reportPositionChanged(t)}}else if(e.message==="cloud_ScrollToPin"){const t=e.data;this.player&&t&&t.position&&this.player.scrollViewportToPosition(t.position)}}reportPositionChanged(e){this.$axure&&!this.state.InspectorEnabled&&this.$axure.messageCenter.postMessage("cloud_ExpoPlayer_ViewportPositionChanged",e)}subscribeToEvents(){this.state.subscribe({[J.PageDidChange]:async e=>{this.player&&await this.player.selectPage(e)},[J.PlayerMessageCenterEvent]:e=>this.messageCenterEvent(e),[J.BundleSelected]:e=>this.bundleSelected(e)})}currentInspector(){if(this.bundle)return this.inspectors[this.bundle.artboard.Id]}async bundleSelected(e){if(this.bundle=e,!!this.handoff)try{const t=new xB(e);this.inspectors[e.artboard.Id]=t;const i=await this.getAssetAxvg(e);t.setAxvg(i),this.state.trigger(J.ArtboardColorsSet,t.getAllColors()),this.state.trigger(J.ArtboardAssetsSet,t.getAllAssets())}catch{}}async getAssetAxvg(e){const t=RB(e);if(!t)throw new Error("Axvg asset is missing");const i=t.Id,n=this.axvgMap[i];if(n&&!e.stale)return n;const s=e.assetsUrls[i];if(!s)throw new Error("Axvg asset is missing");const o=await Ts(s);return this.axvgMap[i]=o,this.axvgMap[i]}}function RB(r){const e=r.assets;if(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const i=e[t];if(i.Type===Pn.Axvg)return i}}}const DB=Object.freeze(Object.defineProperty({__proto__:null,VueRenderer:IB},Symbol.toStringTag,{value:"Module"}));return W1});
